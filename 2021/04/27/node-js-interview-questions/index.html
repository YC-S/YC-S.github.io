<!DOCTYPE html>


<html lang="en">
	

		<head>
			<meta charset="utf-8" />
			 
			<meta name="keywords" content="life,think,work,blog,code" />
			 
			<meta name="description" content="a place holder" />
			
			<meta
				name="viewport"
				content="width=device-width, initial-scale=1, maximum-scale=1"
			/>
			<meta
				name="google-site-verification"
				content="Xe5wkkWgdmMwA81kCWOHLlJSlYSRE47NKPlVzl8ynK8"
			/>
			<title>node.js interview questions |  Aaron&#39;s Blog</title>
  <meta name="generator" content="hexo-theme-ayer">
			
			<link rel="shortcut icon" href="/favicon.ico" />
			 
<link rel="stylesheet" href="/dist/main.css">

			<link
				rel="stylesheet"
				href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css"
			/>
			
<link rel="stylesheet" href="/css/custom.css">
 
			<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
			 
 

		<link rel="alternate" href="/atom.xml" title="Aaron's Blog" type="application/atom+xml">
</head>
	</html>
</html>


<body>
  <div id="app">
    
      
      <canvas width="1777" height="841"
        style="position: fixed; left: 0px; top: 0px; z-index: 99999; pointer-events: none;"></canvas>
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-node-js-interview-questions"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  node.js interview questions
</h1>
 

    </header>
     
    <div class="article-meta">
      <a href="/2021/04/27/node-js-interview-questions/" class="article-date">
  <time datetime="2021-04-27T19:54:12.000Z" itemprop="datePublished">2021-04-27</time>
</a>   
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> Word count:</span>
            <span class="post-count">19.3k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> Reading time≈</span>
            <span class="post-count">120 min</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ul>
<li><em><a href="nodejs-api.md">NodeJS APIs</a></em></li>
</ul>
<table>
<thead>
<tr>
<th>Sl.No</th>
<th>Questions</th>
</tr>
</thead>
<tbody><tr>
<td>01.</td>
<td><a href="#q-what-does-the-runtime-environment-mean-in-nodejs">What does the runtime environment mean in Node.js?</a></td>
</tr>
<tr>
<td>02.</td>
<td><a href="#q-what-is-nodejs">What is Node.js?</a></td>
</tr>
<tr>
<td>03.</td>
<td><a href="#q-what-is-nodejs-process-model">What is Node.js Process Model?</a></td>
</tr>
<tr>
<td>04.</td>
<td><a href="#q-what-are-the-data-types-in-nodejs">What are the data types in Node.js?</a></td>
</tr>
<tr>
<td>05.</td>
<td><a href="#q-how-to-create-a-simple-server-in-nodejs-that-returns-hello-world">How to create a simple server in Node.js that returns Hello World?</a></td>
</tr>
<tr>
<td>06.</td>
<td><a href="#q-how-do-nodejs-works">How do Node.js works?</a></td>
</tr>
<tr>
<td>07.</td>
<td><a href="#q-what-is-an-error-first-callback">What is an error-first callback?</a></td>
</tr>
<tr>
<td>08.</td>
<td><a href="#q-what-is-callback-hell-in-nodejs">What is callback hell in Node.js?</a></td>
</tr>
<tr>
<td>09.</td>
<td><a href="#q-what-are-promises-in-nodejs">What are Promises in Node.js?</a></td>
</tr>
<tr>
<td>10.</td>
<td><a href="#q-what-tools-can-be-used-to-assure-consistent-style">What tools can be used to assure consistent style?</a></td>
</tr>
<tr>
<td>11.</td>
<td><a href="#q-when-should-you-npm-and-when-yarn">When should you npm and when yarn?</a></td>
</tr>
<tr>
<td>12.</td>
<td><a href="#q-what-is-a-stub">What is a stub?</a></td>
</tr>
<tr>
<td>13.</td>
<td><a href="#q-what-is-a-test-pyramid-how-can-you-implement-it-when-talking-about-http-apis">What is a test pyramid? How can you implement it when talking about HTTP APIs?</a></td>
</tr>
<tr>
<td>14.</td>
<td><a href="#q-how-can-you-secure-your-http-cookies-against-xss-attacks">How can you secure your HTTP cookies against XSS attacks?</a></td>
</tr>
<tr>
<td>15.</td>
<td><a href="#q-how-can-you-make-sure-your-dependencies-are-safe">How can you make sure your dependencies are safe?</a></td>
</tr>
<tr>
<td>16.</td>
<td><a href="#q-what-is-event-loop-in-nodejs-and-how-does-it-work">What is Event loop in Node.js? And How does it work?</a></td>
</tr>
<tr>
<td>17.</td>
<td><a href="#q-what-is-repl-what-purpose-it-is-used-for">What is REPL? What purpose it is used for?</a></td>
</tr>
<tr>
<td>18.</td>
<td><a href="#q-what-is-the-difference-between-asynchronous-and-non-blocking">What is the difference between Asynchronous and Non-blocking?</a></td>
</tr>
<tr>
<td>19.</td>
<td><a href="#q-how-to-debug-an-application-in-nodejs">How to debug an application in Node.js?</a></td>
</tr>
<tr>
<td>20.</td>
<td><a href="#q-what-are-some-of-the-most-popular-modules-of-nodejs">What are some of the most popular modules of Node.js?</a></td>
</tr>
<tr>
<td>21.</td>
<td><a href="#q-what-is-eventemitter-in-nodejs">What is EventEmitter in Node.js?</a></td>
</tr>
<tr>
<td>22.</td>
<td><a href="#q-how-many-types-of-streams-are-present-in-nodejs">How many types of streams are present in node.js?</a></td>
</tr>
<tr>
<td>23.</td>
<td><a href="#q-what-is-crypto-in-nodejs-how-do-you-cipher-the-secure-information-in-nodejs">What is crypto in Node.js? How do you cipher the secure information in Node.js?</a></td>
</tr>
<tr>
<td>24.</td>
<td><a href="#q-what-is-the-use-of-dns-module-in-nodejs">What is the use of DNS module in Node.js?</a></td>
</tr>
<tr>
<td>25.</td>
<td><a href="#q-what-are-the-security-mechanisms-available-in-nodejs">What are the security mechanisms available in Node.js?</a></td>
</tr>
<tr>
<td>26.</td>
<td><a href="#q-name-the-types-of-api-functions-in-nodejs">Name the types of API functions in Node.js.</a></td>
</tr>
<tr>
<td>27.</td>
<td><a href="#q-how-does-nodejs-handle-child-threads">How does Node.js handle child threads?</a></td>
</tr>
<tr>
<td>28.</td>
<td><a href="#q-what-is-the-preferred-method-of-resolving-unhandled-exceptions-in-nodejs">What is the preferred method of resolving unhandled exceptions in Node.js?</a></td>
</tr>
<tr>
<td>29.</td>
<td><a href="#q-how-does-nodejs-support-multi-processor-platforms-and-does-it-fully-utilize-all-processor-resources">How does Node.js support multi-processor platforms, and does it fully utilize all processor resources?</a></td>
</tr>
<tr>
<td>30.</td>
<td><a href="#q-what-is-typically-the-first-argument-passed-to-a-nodejs-callback-handler">What is typically the first argument passed to a Node.js callback handler?</a></td>
</tr>
<tr>
<td>31.</td>
<td><a href="#q-how-nodejs-read-the-content-of-a-file">How Node.js read the content of a file?</a></td>
</tr>
<tr>
<td>32.</td>
<td><a href="#q-what-is-jit-and-how-is-it-related-to-nodejs">What is JIT and how is it related to Node.js?</a></td>
</tr>
<tr>
<td>33.</td>
<td><a href="#q-what-is-difference-between-put-and-patch">What is difference between put and patch?</a></td>
</tr>
<tr>
<td>34.</td>
<td><a href="#q-list-types-of-http-requests-supported-by-nodejs">List types of Http requests supported by Node.js.</a></td>
</tr>
<tr>
<td>35.</td>
<td><a href="#q-why-to-use-expressjs">Why to use Express.js?</a></td>
</tr>
<tr>
<td>36.</td>
<td><a href="#q-write-the-steps-for-setting-up-an-express-js-application">Write the steps for setting up an Express JS application.</a></td>
</tr>
<tr>
<td>37.</td>
<td><a href="#q-since-node-is-a-single-threaded-process-how-to-make-use-of-all-cpus">Since node is a single threaded process, how to make use of all CPUs?</a></td>
</tr>
<tr>
<td>38.</td>
<td><a href="#q-what-does-emitter-do-and-what-is-dispatcher">What does emitter do and what is dispatcher?</a></td>
</tr>
<tr>
<td>39.</td>
<td><a href="#q-how-to-kill-child-processes-that-spawn-their-own-child-processes-in-nodejs">How to kill child processes that spawn their own child processes in Node.js?</a></td>
</tr>
<tr>
<td>40.</td>
<td><a href="#q-what-do-you-understand-by-reactor-pattern-in-nodejs">What do you understand by Reactor Pattern in Node.js?</a></td>
</tr>
<tr>
<td>41.</td>
<td><a href="#q-what-are-the-key-features-of-nodejs">What are the key features of Node.js?</a></td>
</tr>
<tr>
<td>42.</td>
<td><a href="#q-what-are-globals-in-nodejs">What are globals in Node.js?</a></td>
</tr>
<tr>
<td>43.</td>
<td><a href="#q-what-is-chaining-process-in-nodejs">What is chaining process in Node.js?</a></td>
</tr>
<tr>
<td>44.</td>
<td><a href="#q-what-is-a-control-flow-function-what-are-the-steps-does-it-execute">What is a control flow function? what are the steps does it execute?</a></td>
</tr>
<tr>
<td>45.</td>
<td><a href="#q-what-is-npm-in-nodejs">What is npm in Node.js?</a></td>
</tr>
<tr>
<td>46.</td>
<td><a href="#q-when-to-use-nodejs-and-when-not-to-use-it">When to use Node.js and when not to use it?</a></td>
</tr>
<tr>
<td>47.</td>
<td><a href="#q-explain-how-does-nodejs-work">Explain how does Node.js work?</a></td>
</tr>
<tr>
<td>48.</td>
<td><a href="#q-is-nodejs-entirely-based-on-a-single-thread">Is Node.js entirely based on a single-thread?</a></td>
</tr>
<tr>
<td>49.</td>
<td><a href="#q-how-to-make-post-request-in-nodejs">How to make post request in Node.js?</a></td>
</tr>
<tr>
<td>50.</td>
<td><a href="#q-can-you-create-http-server-in-nodejs-explain-the-code-used-for-it">Can you create http server in Node.js, explain the code used for it?</a></td>
</tr>
<tr>
<td>51.</td>
<td><a href="#q-how-to-load-html-in-nodejs">How to load html in Node.js?</a></td>
</tr>
<tr>
<td>52.</td>
<td><a href="#q-how-can-you-listen-on-port-80-with-node">How can you listen on port 80 with Node?</a></td>
</tr>
<tr>
<td>53.</td>
<td><a href="#q-what-is-the-difference-between-operational-and-programmer-errors">What is the difference between operational and programmer errors?</a></td>
</tr>
<tr>
<td>54.</td>
<td><a href="#q-why-npm-shrinkwrap-is-useful">Why npm shrinkwrap is useful?</a></td>
</tr>
<tr>
<td>55.</td>
<td><a href="#q-what-is-your-favourite-http-framework-and-why">What is your favourite HTTP framework and why?</a></td>
</tr>
<tr>
<td>56.</td>
<td><a href="#q-what-are-the-challenges-with-nodejs">What are the Challenges with Node.js?</a></td>
</tr>
<tr>
<td>57.</td>
<td><a href="#q-what-is-the-difference-between-nodejs-vs-ajax">What is the difference between Node.js vs Ajax?</a></td>
</tr>
<tr>
<td>58.</td>
<td><a href="#q-how-nodejs-overcomes-the-problem-of-blocking-of-i-o-operations">How Node.js overcomes the problem of blocking of I/O operations?</a></td>
</tr>
<tr>
<td>59.</td>
<td><a href="#q-mention-the-steps-by-which-you-can-async-in-nodejs">Mention the steps by which you can async in Node.js?</a></td>
</tr>
<tr>
<td>60.</td>
<td><a href="#q-what-are-the-timing-features-of-nodejs">What are the timing features of Node.js?</a></td>
</tr>
<tr>
<td>61.</td>
<td><a href="#q-what-is-lts-releases-of-nodejs-why-should-you-care">What is LTS releases of Node.js why should you care?</a></td>
</tr>
<tr>
<td>62.</td>
<td><a href="#q-why-should-you-separate-express-app-and-server">Why should you separate Express ‘app’ and ‘server’?</a></td>
</tr>
<tr>
<td>63.</td>
<td><a href="#q-what-is-the-difference-between-processnexttick-and-setimmediate">What is the difference between process.nextTick() and setImmediate()?</a></td>
</tr>
<tr>
<td>64.</td>
<td><a href="#q-what-is-difference-between-javascript-and-nodejs">What is difference between JavaScript and Node.js?</a></td>
</tr>
<tr>
<td>65.</td>
<td><a href="#q-what-are-the-difference-between-events-and-callbacks">What are the difference between Events and Callbacks?</a></td>
</tr>
<tr>
<td>66.</td>
<td><a href="#q-explain-restful-web-services-in-nodejs">Explain RESTful Web Services in Node.js?</a></td>
</tr>
<tr>
<td>67.</td>
<td><a href="#q-how-to-handle-file-upload-in-node-js">How to handle file upload in Node js?</a></td>
</tr>
<tr>
<td>68.</td>
<td><a href="#q-explain-the-terms-body-parser-cookie-parser-debug-jade-morgan-nodemon-pm2-serve-favicon-cors-in-express-js">Explain the terms body-parser, cookie-parser, debug, jade, morgan, nodemon, pm2, serve-favicon, cors in Express JS?</a></td>
</tr>
<tr>
<td>69.</td>
<td><a href="#q-how-does-routing-work-in-node-js">How does routing work in Node.js</a></td>
</tr>
<tr>
<td>70.</td>
<td><a href="#q-how-node-prevents-blocking-code">How Node prevents blocking code?</a></td>
</tr>
<tr>
<td>71.</td>
<td><a href="#q-what-is-difference-between-promise-and-async-await-in-node-js">What is difference between promise and async await in node js?</a></td>
</tr>
<tr>
<td>72.</td>
<td><a href="#q-how-to-use-json-web-token-jwt-for-authentication-in-node-js">How to use JSON Web Token (JWT) for authentication in node js?</a></td>
</tr>
<tr>
<td>73.</td>
<td><a href="#q-how-to-build-a-microservices-architecture-with-node-js">How to build a microservices architecture with node js?</a></td>
</tr>
<tr>
<td>74.</td>
<td><a href="#q-how-to-use-q-promise-in-node-js">How to use Q promise in node js?</a></td>
</tr>
<tr>
<td>75.</td>
<td><a href="#q-how-to-use-locale-i18n-in-node-js">How to use locale (i18n) in node js?</a></td>
</tr>
<tr>
<td>76.</td>
<td><a href="#q-how-to-implement-memcached-in-nodejs">How to Implement Memcached in Nodejs?</a></td>
</tr>
<tr>
<td>77.</td>
<td><a href="#q-explain-error-handling-in-nodejs">Explain Error Handling in Nodejs?</a></td>
</tr>
<tr>
<td>78.</td>
<td><a href="#q-how-to-generate-and-verify-checksum-of-the-given-string-in-nodejs">How to generate and verify checksum of the given string in Nodejs</a></td>
</tr>
</tbody></table>
<br/>

<h2 id="Q-What-does-the-runtime-environment-mean-in-Node-js"><a href="#Q-What-does-the-runtime-environment-mean-in-Node-js" class="headerlink" title="Q. What does the runtime environment mean in Node.js?"></a>Q. <strong><em>What does the runtime environment mean in Node.js?</em></strong></h2><p>The Node.js runtime is the software stack responsible for installing your web service&#39;s code and its dependencies and running your service.</p>
<p>The Node.js runtime for App Engine in the standard environment is declared in the <code>app.yaml</code> file:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runtime: nodejs10</span><br></pre></td></tr></table></figure>

<p>The runtime environment is literally just the environment your application is running in. This can be used to describe both the hardware and the software that is running your application. How much RAM, what version of node, what operating system, how much CPU cores, can all be referenced when talking about a runtime environment.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-Node-js"><a href="#Q-What-is-Node-js" class="headerlink" title="Q. What is Node.js?"></a>Q. <strong><em>What is Node.js?</em></strong></h2><p>Node.js is an open-source server side runtime environment built on Chrome&#39;s V8 JavaScript engine. It provides an event driven, non-blocking (asynchronous) I/O and cross-platform runtime environment for building highly scalable server-side applications using JavaScript.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-Node-js-Process-Model"><a href="#Q-What-is-Node-js-Process-Model" class="headerlink" title="Q. What is Node.js Process Model?"></a>Q. <strong><em>What is Node.js Process Model?</em></strong></h2><p>Node.js runs in a single process and the application code runs in a single thread and thereby needs less resources than other platforms. All the user requests to your web application will be handled by a single thread and all the I/O work or long running job is performed asynchronously for a particular request. So, this single thread doesn’t have to wait for the request to complete and is free to handle the next request. When asynchronous I/O work completes then it processes the request further and sends the response.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-are-the-data-types-in-Node-js"><a href="#Q-What-are-the-data-types-in-Node-js" class="headerlink" title="Q. What are the data types in Node.js?"></a>Q. <strong><em>What are the data types in Node.js?</em></strong></h2><p><em>Primitive Types</em></p>
<ul>
<li><p>String</p>
</li>
<li><p>Number</p>
</li>
<li><p>Boolean</p>
</li>
<li><p>Undefined</p>
</li>
<li><p>Null</p>
</li>
<li><p>RegExp</p>
</li>
<li><p><code>Buffer</code>: Node.js includes an additional data type called Buffer (not available in browser&#39;s JavaScript). Buffer is mainly used to store binary data, while reading from a file or receiving packets over the network.</p>
</li>
</ul>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-to-create-a-simple-server-in-Node-js-that-returns-Hello-World"><a href="#Q-How-to-create-a-simple-server-in-Node-js-that-returns-Hello-World" class="headerlink" title="Q. How to create a simple server in Node.js that returns Hello World?"></a>Q. <strong><em>How to create a simple server in Node.js that returns Hello World?</em></strong></h2><p><strong>Step 01</strong>: Create a project directory</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir myapp</span><br><span class="line"><span class="built_in">cd</span> myapp</span><br></pre></td></tr></table></figure>

<p><strong>Step 02</strong>: Initialize project and link it to npm</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure>

<p>This creates a <code>package.json</code> file in your myapp folder. The file contains references for all npm packages you have downloaded to your project. The command will prompt you to enter a number of things.<br>You can enter your way through all of them EXCEPT this one:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">entry point: (index.js)</span><br></pre></td></tr></table></figure>

<p>Rename this to:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.js</span><br></pre></td></tr></table></figure>

<p><strong>Step 03</strong>: Install Express in the myapp directory</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express --save</span><br></pre></td></tr></table></figure>

<p><strong>Step 04</strong>: app.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line">app.get(<span class="string">&#x27;/&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">&#x27;Hello World!&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Example app listening on port 3000!&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>Step 05</strong>: Run the app</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node app.js</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-do-Node-js-works"><a href="#Q-How-do-Node-js-works" class="headerlink" title="Q. How do Node.js works?"></a>Q. <strong><em>How do Node.js works?</em></strong></h2><p>Node is completely event-driven. Basically the server consists of one thread processing one event after another.</p>
<p>A new request coming in is one kind of event. The server starts processing it and when there is a blocking IO operation, it does not wait until it completes and instead registers a callback function. The server then immediately starts to process another event (maybe another request). When the IO operation is finished, that is another kind of event, and the server will process it (i.e. continue working on the request) by executing the callback as soon as it has time.</p>
<p>So the server never needs to create additional threads or switch between threads, which means it has very little overhead. If you want to make full use of multiple hardware cores, you just start multiple instances of node.js</p>
<p>Node JS Platform does not follow Request/Response Multi-Threaded Stateless Model. It follows Single Threaded with Event Loop Model. Node JS Processing model mainly based on Javascript Event based model with Javascript callback mechanism.  </p>
<p><strong>Single Threaded Event Loop Model Processing Steps:</strong></p>
<ul>
<li>Clients Send request to Web Server.</li>
<li>Node JS Web Server internally maintains a Limited Thread pool to provide services to the Client Requests.</li>
<li>Node JS Web Server receives those requests and places them into a Queue. It is known as “Event Queue”.</li>
<li>Node JS Web Server internally has a Component, known as “Event Loop”. Why it got this name is that it uses indefinite loop to receive requests and process them. </li>
<li>Event Loop uses Single Thread only. It is main heart of Node JS Platform Processing Model.</li>
<li>Even Loop checks any Client Request is placed in Event Queue. If no, then wait for incoming requests for indefinitely.</li>
<li>If yes, then pick up one Client Request from Event Queue<ul>
<li>Starts process that Client Request</li>
<li>If that Client Request Does Not requires any Blocking IO Operations, then process everything, prepare response and send it back to client.</li>
<li>If that Client Request requires some Blocking IO Operations like interacting with Database, File System, External Services then it will follow different approach<ul>
<li>Checks Threads availability from Internal Thread Pool</li>
<li>Picks up one Thread and assign this Client Request to that thread.</li>
<li>That Thread is responsible for taking that request, process it, perform Blocking IO operations, prepare response and send it back to the Event Loop</li>
<li>Event Loop in turn, sends that Response to the respective Client.</li>
</ul>
</li>
</ul>
</li>
</ul>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-an-error-first-callback"><a href="#Q-What-is-an-error-first-callback" class="headerlink" title="Q. What is an error-first callback?"></a>Q. <strong><em>What is an error-first callback?</em></strong></h2><p>The pattern used across all the asynchronous methods in Node.js is called <em>Error-first Callback</em>. Here is an example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fs.readFile( <span class="string">&quot;file.json&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"> err, data </span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> ( err ) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error( err );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log( data );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Any asynchronous method expects one of the arguments to be a callback. The full callback argument list depends on the caller method, but the first argument is always an error object or null. When we go for the asynchronous method, an exception thrown during function execution cannot be detected in a try/catch statement. The event happens after the JavaScript engine leaves the try block. </p>
<p>In the preceding example, if any exception is thrown during the reading of the file, it lands on the callback function as the first and mandatory parameter.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-callback-hell-in-Node-js"><a href="#Q-What-is-callback-hell-in-Node-js" class="headerlink" title="Q. What is callback hell in Node.js?"></a>Q. <strong><em>What is callback hell in Node.js?</em></strong></h2><p><code>Callback hell</code> is a phenomenon that afflicts a JavaScript developer when he tries to execute multiple asynchronous operations one after the other.</p>
<p>An asynchronous function is one where some external activity must complete before a result can be processed; it is “asynchronous” in the sense that there is an unpredictable amount of time before a result becomes available. Such functions require a callback function to handle errors and process the result.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">getData(<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    getMoreData(a, <span class="function"><span class="keyword">function</span>(<span class="params">b</span>)</span>&#123;</span><br><span class="line">        getMoreData(b, <span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123; </span><br><span class="line">            getMoreData(c, <span class="function"><span class="keyword">function</span>(<span class="params">d</span>)</span>&#123; </span><br><span class="line">	            getMoreData(d, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123; </span><br><span class="line">		            ...</span><br><span class="line">		        &#125;);</span><br><span class="line">	        &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>Techniques for avoiding callback hell</strong></p>
<ol>
<li>Using Async.js</li>
<li>Using Promises</li>
<li>Using Async-Await</li>
</ol>
<ul>
<li><strong>Managing callbacks using Async.js</strong>  </li>
</ul>
<p><code>Async</code> is a really powerful npm module for managing asynchronous nature of JavaScript. Along with Node.js, it also works for JavaScript written for browsers.</p>
<p>Async provides lots of powerful utilities to work with asynchronous processes under different scenarios.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save async</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ASYNC WATERFALL</strong>  </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">async</span> = <span class="built_in">require</span>(<span class="string">&#x27;async&#x27;</span>);</span><br><span class="line"><span class="keyword">async</span>.waterfall([</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//doSomething</span></span><br><span class="line">        callback(<span class="literal">null</span>, paramx); <span class="comment">//paramx will be availaible as the first parameter to the next function</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">            The 1st parameter passed in callback.</span></span><br><span class="line"><span class="comment">            <span class="doctag">@null </span>or <span class="doctag">@undefined </span>or <span class="doctag">@false </span>control moves to the next function</span></span><br><span class="line"><span class="comment">            in the array</span></span><br><span class="line"><span class="comment">            if <span class="doctag">@true </span>or <span class="doctag">@string </span>the control is immedeatly moved</span></span><br><span class="line"><span class="comment">            to the final callback fucntion</span></span><br><span class="line"><span class="comment">            rest of the functions in the array</span></span><br><span class="line"><span class="comment">            would not be executed</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">arg1, callback</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//doSomething else</span></span><br><span class="line">      <span class="comment">// arg1 now equals paramx</span></span><br><span class="line">        callback(<span class="literal">null</span>, result);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">arg1, callback</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//do More</span></span><br><span class="line">        <span class="comment">// arg1 now equals &#x27;result&#x27;</span></span><br><span class="line">        callback(<span class="literal">null</span>, <span class="string">&#x27;done&#x27;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">arg1, callback</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//even more</span></span><br><span class="line">        <span class="comment">// arg1 now equals &#x27;done&#x27;</span></span><br><span class="line">        callback(<span class="literal">null</span>, <span class="string">&#x27;done&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">], <span class="function"><span class="keyword">function</span> (<span class="params">err, result</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//final callback function</span></span><br><span class="line">    <span class="comment">//finally do something when all function are done.</span></span><br><span class="line">    <span class="comment">// result now equals &#x27;done&#x27;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ASYNC SERIES</strong>  </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">async</span> = <span class="built_in">require</span>(<span class="string">&#x27;async&#x27;</span>);</span><br><span class="line"><span class="keyword">async</span>.series([</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// do some stuff ...</span></span><br><span class="line">        callback(<span class="literal">null</span>, <span class="string">&#x27;one&#x27;</span>);</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">            The 1st parameter passed in callback.</span></span><br><span class="line"><span class="comment">            <span class="doctag">@null </span>or <span class="doctag">@undefined </span>or <span class="doctag">@false </span>control moves to the next function</span></span><br><span class="line"><span class="comment">            in the array</span></span><br><span class="line"><span class="comment">            if <span class="doctag">@true </span>or <span class="doctag">@string </span>the control is immedeatly moved</span></span><br><span class="line"><span class="comment">            to the final callback fucntion with the value of err same as</span></span><br><span class="line"><span class="comment">            passed over here and</span></span><br><span class="line"><span class="comment">            rest of the functions in the array</span></span><br><span class="line"><span class="comment">            would not be executed</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// do some more stuff ...</span></span><br><span class="line">        callback(<span class="literal">null</span>, <span class="string">&#x27;two&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">],</span><br><span class="line"><span class="comment">// optional callback</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">err, results</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// results is now equal to [&#x27;one&#x27;, &#x27;two&#x27;]</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Managing callbacks hell using promises</strong>  </li>
</ul>
<p>Promises are alternative to callbacks while dealing with asynchronous code. Promises return the value of the result or an error exception. The core of the promises is the <code>.then()</code> function, which waits for the promise object to be returned. The <code>.then()</code> function takes two optional functions as arguments and depending on the state of the promise only one will ever be called. The first function is called when the promise if fulfilled (A successful result). The second function is called when the promise is rejected.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> outputPromise = getInputPromise().then(<span class="function"><span class="keyword">function</span> (<span class="params">input</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//handle success</span></span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//handle error</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Using Async Await</strong>  </li>
</ul>
<p>Async await makes asynchronous code look like it\’s synchronous. This has only been possible because of the reintroduction of promises into node.js. Async-Await only works with functions that return a promise.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getrandomnumber = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            resolve(<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">20</span>));</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> addRandomNumber = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> sum = <span class="keyword">await</span> getrandomnumber() + <span class="keyword">await</span> getrandomnumber();</span><br><span class="line">    <span class="built_in">console</span>.log(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">addRandomNumber();</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-are-Promises-in-Node-js"><a href="#Q-What-are-Promises-in-Node-js" class="headerlink" title="Q. What are Promises in Node.js?"></a>Q. <strong><em>What are Promises in Node.js?</em></strong></h2><p>It allows to associate handlers to an asynchronous action&#39;s eventual success value or failure reason. This lets asynchronous methods return values like synchronous methods: instead of the final value, the asynchronous method returns a promise for the value at some point in the future.</p>
<p>Promises in node.js promised to do some work and then had separate callbacks that would be executed for success and failure as well as handling timeouts. Another way to think of promises in node.js was that they were emitters that could emit only two events: success and error.The cool thing about promises is you can combine them into dependency chains (do Promise C only when Promise A and Promise B complete).</p>
<p>The core idea behind promises is that a promise represents the result of an asynchronous operation. A promise is in one of three different states:</p>
<ul>
<li>pending - The initial state of a promise.</li>
<li>fulfilled - The state of a promise representing a successful operation.</li>
<li>rejected - The state of a promise representing a failed operation.<br>Once a promise is fulfilled or rejected, it is immutable (i.e. it can never change again).  </li>
</ul>
<p><strong>Creating a Promise</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myPromise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</span><br><span class="line">   ....</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-tools-can-be-used-to-assure-consistent-style"><a href="#Q-What-tools-can-be-used-to-assure-consistent-style" class="headerlink" title="Q. What tools can be used to assure consistent style?"></a>Q. <strong><em>What tools can be used to assure consistent style?</em></strong></h2><ul>
<li>ESLint</li>
<li>Standard</li>
</ul>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-When-should-you-npm-and-when-yarn"><a href="#Q-When-should-you-npm-and-when-yarn" class="headerlink" title="Q. When should you npm and when yarn?"></a>Q. <strong><em>When should you npm and when yarn?</em></strong></h2><ul>
<li><strong>npm</strong>  </li>
</ul>
<p>It is the default method for managing packages in the Node.js runtime environment. It relies upon a command line client and a database made up of public and premium packages known as the the npm registry. Users can access the registry via the client and browse the many packages available through the npm website. Both npm and its registry are managed by npm, Inc.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Yarn</strong>  </li>
</ul>
<p>Yarn was developed by Facebook in attempt to resolve some of npm’s shortcomings. Yarn isn’t technically a replacement for npm since it relies on modules from the npm registry. Think of Yarn as a new installer that still relies upon the same npm structure. The registry itself hasn’t changed, but the installation method is different. Since Yarn gives you access to the same packages as npm, moving from npm to Yarn doesn’t require you to make any changes to your workflow.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install yarn --global</span><br></pre></td></tr></table></figure>

<p><strong>Comparing Yarn vs npm</strong></p>
<ul>
<li>Fast: Yarn caches every package it downloads so it never needs to again. It also parallelizes operations to maximize resource utilization so install times are faster than ever.</li>
<li>Reliable: Using a detailed, but concise, lockfile format, and a deterministic algorithm for installs, Yarn is able to guarantee that an install that worked on one system will work exactly the same way on any other system.</li>
<li>Secure: Yarn uses checksums to verify the integrity of every installed package before its code is executed.</li>
<li>Offline Mode: If you’ve installed a package before, you can install it again without any internet connection.</li>
<li>Deterministic: The same dependencies will be installed the same exact way across every machine regardless of install order.</li>
<li>Network Performance: Yarn efficiently queues up requests and avoids request waterfalls in order to maximize network utilization.</li>
<li>Multiple Registries: Install any package from either npm or Bower and keep your package workflow the same.</li>
<li>Network Resilience: A single request failing won’t cause an install to fail. Requests are retried upon failure.</li>
<li>Flat Mode: Resolve mismatching versions of dependencies to a single version to avoid creating duplicates.</li>
</ul>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-a-stub"><a href="#Q-What-is-a-stub" class="headerlink" title="Q. What is a stub?"></a>Q. <strong><em>What is a stub?</em></strong></h2><p>Stubbing and verification for node.js tests. Enables you to validate and override behaviour of nested pieces of code such as methods, require() and npm modules or even instances of classes. This library is inspired on node-gently, MockJS and mock-require.  </p>
<p><strong>Features of Stub:</strong>  </p>
<ul>
<li>Produces simple, lightweight Objects capable of extending down their tree</li>
<li>Compatible with Nodejs</li>
<li>Easily extendable directly or through an ExtensionManager</li>
<li>Comes with predefined, usable extensions</li>
</ul>
<p>Stubs are functions/programs that simulate the behaviours of components/modules. Stubs provide canned answers to function calls made during test cases. Also, you can assert on with what these stubs were called.</p>
<p>A use-case can be a file read, when you do not want to read an actual file:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> readFileStub = sinon.stub(fs, <span class="string">&#x27;readFile&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">path, cb</span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">return</span> cb(<span class="literal">null</span>, <span class="string">&#x27;filecontent&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">expect(readFileStub).to.be.called;  </span><br><span class="line">readFileStub.restore();</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-a-test-pyramid-How-can-you-implement-it-when-talking-about-HTTP-APIs"><a href="#Q-What-is-a-test-pyramid-How-can-you-implement-it-when-talking-about-HTTP-APIs" class="headerlink" title="Q. What is a test pyramid? How can you implement it when talking about HTTP APIs?"></a>Q. <strong><em>What is a test pyramid? How can you implement it when talking about HTTP APIs?</em></strong></h2><p>The “Test Pyramid” is a metaphor that tells us to group software tests into buckets of different granularity. It also gives an idea of how many tests we should have in each of these groups. It shows which kinds of tests you should be looking for in the different levels of the pyramid and gives practical examples on how these can be implemented.</p>
<p align="center">
  <img src="assets/testPyramid.png" alt="Test Pyramid" />
</p>

<p>Mike Cohn&#39;s original test pyramid consists of three layers that your test suite should consist of (bottom to top):</p>
<ol>
<li>Unit Tests</li>
<li>Service Tests</li>
<li>User Interface Tests</li>
</ol>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-can-you-secure-your-HTTP-cookies-against-XSS-attacks"><a href="#Q-How-can-you-secure-your-HTTP-cookies-against-XSS-attacks" class="headerlink" title="Q. How can you secure your HTTP cookies against XSS attacks?"></a>Q. <strong><em>How can you secure your HTTP cookies against XSS attacks?</em></strong></h2><p><strong>1.</strong> When the web server sets cookies, it can provide some additional attributes to make sure the cookies won&#39;t be accessible by using malicious JavaScript. One such attribute is HttpOnly.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set</span>-Cookie: [name]=[value]; HttpOnly</span><br></pre></td></tr></table></figure>

<p>HttpOnly makes sure the cookies will be submitted only to the domain they originated from.</p>
<p><strong>2.</strong> The “Secure” attribute can make sure the cookies are sent over secured channel only.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set</span>-Cookie: [name]=[value]; Secure</span><br></pre></td></tr></table></figure>

<p><strong>3.</strong> The web server can use X-XSS-Protection response header to make sure pages do not load when they detect reflected cross-site scripting (XSS) attacks.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-XSS-Protection: <span class="number">1</span>; mode=block</span><br></pre></td></tr></table></figure>

<p><strong>4.</strong> The web server can use HTTP Content-Security-Policy response header to control what resources a user agent is allowed to load for a certain page. It can help to prevent various types of attacks like Cross Site Scripting (XSS) and data injection attacks.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Security-Policy: <span class="keyword">default</span>-src <span class="string">&#x27;self&#x27;</span> *.http:<span class="comment">//sometrustedwebsite.com</span></span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-can-you-make-sure-your-dependencies-are-safe"><a href="#Q-How-can-you-make-sure-your-dependencies-are-safe" class="headerlink" title="Q. How can you make sure your dependencies are safe?"></a>Q. <strong><em>How can you make sure your dependencies are safe?</em></strong></h2><p>The only option is to automate the update / security audit of your dependencies. For that there are free and paid options:</p>
<ol>
<li>npm outdated</li>
<li>Trace by RisingStack</li>
<li>NSP</li>
<li>GreenKeeper</li>
<li>Snyk</li>
<li>npm audit</li>
<li>npm audit fix</li>
</ol>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-Event-loop-in-Node-js-And-How-does-it-work"><a href="#Q-What-is-Event-loop-in-Node-js-And-How-does-it-work" class="headerlink" title="Q. What is Event loop in Node.js? And How does it work?"></a>Q. <strong><em>What is Event loop in Node.js? And How does it work?</em></strong></h2><p>The event loop is what allows Node.js to perform non-blocking I/O operations — despite the fact that JavaScript is single-threaded — by offloading operations to the system kernel whenever possible.</p>
<p>Node.js is a single-threaded application, but it can support concurrency via the concept of <code>event</code> and <code>callbacks</code>. Every API of Node.js is asynchronous and being single-threaded, they use <code>async function calls</code> to maintain concurrency. Node uses observer pattern. Node thread keeps an event loop and whenever a task gets completed, it fires the corresponding event which signals the event-listener function to execute.</p>
<p><strong>Event-Driven Programming</strong></p>
<p>In an event-driven application, there is generally a main loop that listens for events, and then triggers a callback function when one of those events is detected.</p>
<p>Although events look quite similar to callbacks, the difference lies in the fact that callback functions are called when an asynchronous function returns its result, whereas event handling works on the observer pattern. The functions that listen to events act as Observers. Whenever an event gets fired, its listener function starts executing. Node.js has multiple in-built events available through events module and EventEmitter class which are used to bind events and event-listeners as follows</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Import events module</span></span><br><span class="line"><span class="keyword">var</span> events = <span class="built_in">require</span>(<span class="string">&#x27;events&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create an eventEmitter object</span></span><br><span class="line"><span class="keyword">var</span> eventEmitter = <span class="keyword">new</span> events.EventEmitter();</span><br></pre></td></tr></table></figure>

<p><em>Example</em>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Import events module</span></span><br><span class="line"><span class="keyword">var</span> events = <span class="built_in">require</span>(<span class="string">&#x27;events&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create an eventEmitter object</span></span><br><span class="line"><span class="keyword">var</span> eventEmitter = <span class="keyword">new</span> events.EventEmitter();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create an event handler as follows</span></span><br><span class="line"><span class="keyword">var</span> connectHandler = <span class="function"><span class="keyword">function</span> <span class="title">connected</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&#x27;connection succesful.&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">   <span class="comment">// Fire the data_received event </span></span><br><span class="line">   eventEmitter.emit(<span class="string">&#x27;data_received&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Bind the connection event with the handler</span></span><br><span class="line">eventEmitter.on(<span class="string">&#x27;connection&#x27;</span>, connectHandler);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Bind the data_received event with the anonymous function</span></span><br><span class="line">eventEmitter.on(<span class="string">&#x27;data_received&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&#x27;data received succesfully.&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Fire the connection event </span></span><br><span class="line">eventEmitter.emit(<span class="string">&#x27;connection&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;Program Ended.&quot;</span>);</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-REPL-What-purpose-it-is-used-for"><a href="#Q-What-is-REPL-What-purpose-it-is-used-for" class="headerlink" title="Q. What is REPL? What purpose it is used for?"></a>Q. <strong><em>What is REPL? What purpose it is used for?</em></strong></h2><p>REPL (READ, EVAL, PRINT, LOOP) is a computer environment similar to Shell (Unix/Linux) and command prompt. Node comes with the REPL environment when it is installed. System interacts with the user through outputs of commands/expressions used. It is useful in writing and debugging the codes. The work of REPL can be understood from its full form:</p>
<ul>
<li><strong>Read</strong>: It reads the inputs from users and parses it into JavaScript data structure. It is then stored to memory.</li>
<li><strong>Eval</strong>: The parsed JavaScript data structure is evaluated for the results.</li>
<li><strong>Print</strong>: The result is printed after the evaluation.</li>
<li><strong>Loop</strong>: Loops the input command. To come out of NODE REPL, press ctrl+c twice</li>
</ul>
<p>Simple Expression</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ node</span><br><span class="line">&gt; <span class="number">10</span> + <span class="number">20</span></span><br><span class="line"><span class="number">30</span></span><br><span class="line">&gt; <span class="number">10</span> + ( <span class="number">20</span> * <span class="number">30</span> ) - <span class="number">40</span></span><br><span class="line"><span class="number">570</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-the-difference-between-Asynchronous-and-Non-blocking"><a href="#Q-What-is-the-difference-between-Asynchronous-and-Non-blocking" class="headerlink" title="Q. What is the difference between Asynchronous and Non-blocking?"></a>Q. <strong><em>What is the difference between Asynchronous and Non-blocking?</em></strong></h2><p><strong>1. Asynchronous</strong></p>
<p>The architecture of asynchronous explains that the message sent will not give the reply on immediate basis just like we send the mail but do not get the reply on an immediate basis. It does not have any dependency or order. Hence improving the system efficiency and performance. The server stores the information and when the action is done it will be notified.</p>
<p><strong>2. Non-Blocking</strong></p>
<p>Nonblocking immediately responses with whatever data available. Moreover, it does not block any execution and keeps on running as per the requests. If an answer could not be retrieved than in those cases API returns immediately with an error. Nonblocking is mostly used with I/O(input/output). Node.js is itself based on nonblocking I/O model. There are few ways of communication that a nonblocking I/O has completed. The callback function is to be called when the operation is completed. Nonblocking call uses the help of javascript which provides a callback function.</p>
<ul>
<li><strong>Asynchronous VS Non-Blocking</strong>  </li>
</ul>
<p>1) Asynchronous does not respond immediately, While Nonblocking responds immediately if the data is available and if not that simply returns an error.<br>2) Asynchronous improves the efficiency by doing the task fast as the response might come later, meanwhile, can do complete other tasks. Nonblocking does not block any execution and if the data is available it retrieves the information quickly.<br>3) Asynchronous is the opposite of synchronous while nonblocking I/O is the opposite of blocking. They both are fairly similar but they are also different as asynchronous is used with a broader range of operations while nonblocking is mostly used with I/O.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-to-debug-an-application-in-Node-js"><a href="#Q-How-to-debug-an-application-in-Node-js" class="headerlink" title="Q. How to debug an application in Node.js?"></a>Q. <strong><em>How to debug an application in Node.js?</em></strong></h2><ul>
<li><strong>node-inspector</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g node-inspector</span><br></pre></td></tr></table></figure>

<p>Run</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node-debug app.js</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>Debugging</strong></p>
<ul>
<li>Debugger</li>
<li>Node Inspector</li>
<li>Visual Studio Code</li>
<li>Cloud9</li>
<li>Brackets</li>
</ul>
</li>
<li><p><strong>Profiling</strong></p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. node --prof ./app.js</span><br><span class="line">2. node --prof-process ./the-generated-log-file</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>Heapdumps</strong></p>
<ul>
<li>node-heapdump with Chrome Developer Tools</li>
</ul>
</li>
<li><p><strong>Tracing</strong></p>
<ul>
<li>Interactive Stack Traces with TraceGL</li>
</ul>
</li>
<li><p><strong>Logging</strong><br>Libraries that output debugging information</p>
<ul>
<li>Caterpillar</li>
<li>Tracer</li>
<li>scribbles</li>
</ul>
</li>
</ul>
<p>Libraries that enhance stack trace information  </p>
<ul>
<li>Longjohn</li>
</ul>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-are-some-of-the-most-popular-modules-of-Node-js"><a href="#Q-What-are-some-of-the-most-popular-modules-of-Node-js" class="headerlink" title="Q. What are some of the most popular modules of Node.js?"></a>Q. <strong><em>What are some of the most popular modules of Node.js?</em></strong></h2><ul>
<li><strong>Async</strong>: Async is a utility module which provides straight-forward, powerful functions for working with asynchronous JavaScript.</li>
<li><strong>Browserify</strong>: Browserify will recursively analyze all the require() calls in your app in order to build a bundle you can serve up to the browser in a single <script> tag.</li>
<li><strong>Bower</strong>: Bower is a package manager for the web. It works by fetching and installing packages from all over, taking care of hunting, finding, downloading, and saving the stuff you’re looking for.</li>
<li><strong>Backbone</strong>: Backbone.js gives structure to web applications by providing models with key-value binding and custom events, collections with a rich API of enumerable functions, views with declarative event handling, and connects it all to your existing API over a RESTful JSON interface.</li>
<li><strong>Csv</strong>: csv module has four sub modules which provides CSV generation, parsing, transformation and serialization for Node.js.</li>
<li><strong>Debug</strong>: Debug is a tiny node.js debugging utility modelled after node core&#39;s debugging technique.</li>
<li><strong>Express</strong>: Express is a fast, un-opinionated, minimalist web framework. It provides small, robust tooling for HTTP servers, making it a great solution for single page applications, web sites, hybrids, or public HTTP APIs.</li>
<li><strong>Forever</strong>: A simple CLI tool for ensuring that a given node script runs continuously (i.e. forever).</li>
<li><strong>Grunt</strong>: is a JavaScript Task Runner that facilitates creating new projects and makes performing repetitive but necessary tasks such as linting, unit testing, concatenating and minifying files (among other things) trivial.</li>
<li><strong>Gulp</strong>: is a streaming build system that helps you automate painful or time-consuming tasks in your development workflow.</li>
<li><strong>Hapi</strong>: is a streaming build system that helps you automate painful or time-consuming tasks in your development workflow.</li>
<li><strong>Http-server</strong>: is a simple, zero-configuration command-line http server. It is powerful enough for production usage, but it&#39;s simple and hackable enough to be used for testing, local development, and learning.</li>
<li><strong>Inquirer</strong>: A collection of common interactive command line user interfaces.</li>
<li><strong>Jquery</strong>: jQuery is a fast, small, and feature-rich JavaScript library.</li>
<li><strong>Jshint</strong>: Static analysis tool to detect errors and potential problems in JavaScript code and to enforce your team&#39;s coding conventions.</li>
<li><strong>Koa</strong>: Koa is web app framework. It is an expressive HTTP middleware for node.js to make web applications and APIs more enjoyable to write.</li>
<li><strong>Lodash</strong>: The lodash library exported as a node module. Lodash is a modern JavaScript utility library delivering modularity, performance, & extras.</li>
<li><strong>Less</strong>: The less library exported as a node module.</li>
<li><strong>Moment</strong>: A lightweight JavaScript date library for parsing, validating, manipulating, and formatting dates.</li>
<li><strong>Mongoose</strong>: It is a MongoDB object modeling tool designed to work in an asynchronous environment.</li>
<li><strong>MongoDB</strong>: The official MongoDB driver for Node.js. It provides a high-level API on top of mongodb-core that is meant for end users.</li>
<li><strong>Npm</strong>: is package manager for javascript.</li>
<li><strong>Nodemon</strong>: It is a simple monitor script for use during development of a node.js app, It will watch the files in the directory in which nodemon was started, and if any files change, nodemon will automatically restart your node application.</li>
<li><strong>Nodemailer</strong>: This module enables e-mail sending from a Node.js applications.</li>
<li><strong>Optimist</strong>: is a node.js library for option parsing with an argv hash.</li>
<li><strong>Phantomjs</strong>: An NPM installer for PhantomJS, headless webkit with JS API. It has fast and native support for various web standards: DOM handling, CSS selector, JSON, Canvas, and SVG.</li>
<li><strong>Passport</strong>: A simple, unobtrusive authentication middleware for Node.js. Passport uses the strategies to authenticate requests. Strategies can range from verifying username and password credentials or authentication using OAuth or OpenID.</li>
<li><strong>Q</strong>: Q is a library for promises. A promise is an object that represents the return value or the thrown exception that the function may eventually provide.</li>
<li><strong>Request</strong>: Request is Simplified HTTP request client make it possible to make http calls. It supports HTTPS and follows redirects by default.</li>
<li><strong>Socket.io</strong>: Its a node.js realtime framework server.</li>
<li><strong>Sails</strong>: Sails : API-driven framework for building realtime apps, using MVC conventions (based on Express and Socket.io)</li>
<li><strong>Through</strong>: It enables simplified stream construction. It is easy way to create a stream that is both readable and writable.</li>
<li><strong>Underscore</strong>: Underscore.js is a utility-belt library for JavaScript that provides support for the usual functional suspects (each, map, reduce, filter...) without extending any core JavaScript objects.</li>
<li><strong>Validator</strong>: A nodejs module for a library of string validators and sanitizers.</li>
<li><strong>Winston</strong>: A multi-transport async logging library for Node.js</li>
<li><strong>Ws</strong>: A simple to use, blazing fast and thoroughly tested websocket client, server and console for node.js</li>
<li><strong>Xml2js</strong>: A Simple XML to JavaScript object converter.</li>
<li><strong>Yo</strong>: A CLI tool for running Yeoman generators</li>
<li><strong>Zmq</strong>: Bindings for node.js and io.js to ZeroMQ .It is a high-performance asynchronous messaging library, aimed at use in distributed or concurrent applications.</li>
</ul>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-EventEmitter-in-Node-js"><a href="#Q-What-is-EventEmitter-in-Node-js" class="headerlink" title="Q. What is EventEmitter in Node.js?"></a>Q. <strong><em>What is EventEmitter in Node.js?</em></strong></h2><p>All objects that emit events are members of EventEmitter class. These objects expose an <code>eventEmitter.on()</code> function that allows one or more functions to be attached to named events emitted by the object.</p>
<p>When the EventEmitter object emits an event, all of the functions attached to that specific event are called synchronously. All values returned by the called listeners are ignored and will be discarded.</p>
<p><em>Example</em>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> events = <span class="built_in">require</span>(<span class="string">&#x27;events&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> eventEmitter = <span class="keyword">new</span> events.EventEmitter();</span><br><span class="line"></span><br><span class="line"><span class="comment">// listener #1</span></span><br><span class="line"><span class="keyword">var</span> listner1 = <span class="function"><span class="keyword">function</span> <span class="title">listner1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&#x27;listner1 executed.&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// listener #2</span></span><br><span class="line"><span class="keyword">var</span> listner2 = <span class="function"><span class="keyword">function</span> <span class="title">listner2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&#x27;listner2 executed.&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Bind the connection event with the listner1 function</span></span><br><span class="line">eventEmitter.addListener(<span class="string">&#x27;connection&#x27;</span>, listner1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Bind the connection event with the listner2 function</span></span><br><span class="line">eventEmitter.on(<span class="string">&#x27;connection&#x27;</span>, listner2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> eventListeners = <span class="built_in">require</span>(<span class="string">&#x27;events&#x27;</span>).EventEmitter.listenerCount</span><br><span class="line">   (eventEmitter,<span class="string">&#x27;connection&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(eventListeners + <span class="string">&quot; Listner(s) listening to connection event&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Fire the connection event </span></span><br><span class="line">eventEmitter.emit(<span class="string">&#x27;connection&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Remove the binding of listner1 function</span></span><br><span class="line">eventEmitter.removeListener(<span class="string">&#x27;connection&#x27;</span>, listner1);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;Listner1 will not listen now.&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Fire the connection event </span></span><br><span class="line">eventEmitter.emit(<span class="string">&#x27;connection&#x27;</span>);</span><br><span class="line"></span><br><span class="line">eventListeners = <span class="built_in">require</span>(<span class="string">&#x27;events&#x27;</span>).EventEmitter.listenerCount(eventEmitter,<span class="string">&#x27;connection&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(eventListeners + <span class="string">&quot; Listner(s) listening to connection event&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;Program Ended.&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>Now run the main.js </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ node main.js</span><br></pre></td></tr></table></figure>

<p>Output</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">2 Listner(s) listening to connection event</span><br><span class="line">listner1 executed.</span><br><span class="line">listner2 executed.</span><br><span class="line">Listner1 will not listen now.</span><br><span class="line">listner2 executed.</span><br><span class="line">1 Listner(s) listening to connection event</span><br><span class="line">Program Ended.</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-many-types-of-streams-are-present-in-node-js"><a href="#Q-How-many-types-of-streams-are-present-in-node-js" class="headerlink" title="Q. How many types of streams are present in node.js?"></a>Q. <strong><em>How many types of streams are present in node.js?</em></strong></h2><p>Streams are objects that let you read data from a source or write data to a destination in continuous fashion.<br>There are four types of streams</p>
<ul>
<li><strong>Readable</strong> − Stream which is used for read operation.</li>
<li><strong>Writable</strong> − Stream which is used for write operation.</li>
<li><strong>Duplex</strong> − Stream which can be used for both read and write operation.</li>
<li><strong>Transform</strong> − A type of duplex stream where the output is computed based on input.  </li>
</ul>
<p>Each type of Stream is an EventEmitter instance and throws several events at different instance of times.  </p>
<p><em>Example</em>:</p>
<ul>
<li><strong>data</strong> − This event is fired when there is data is available to read.</li>
<li><strong>end</strong> − This event is fired when there is no more data to read.</li>
<li><strong>error</strong> − This event is fired when there is any error receiving or writing data.</li>
<li><strong>finish</strong> − This event is fired when all the data has been flushed to underlying system. </li>
</ul>
<p><strong>Reading from a Stream</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> data = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create a readable stream</span></span><br><span class="line"><span class="keyword">var</span> readerStream = fs.createReadStream(<span class="string">&#x27;input.txt&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Set the encoding to be utf8. </span></span><br><span class="line">readerStream.setEncoding(<span class="string">&#x27;UTF8&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Handle stream events --&gt; data, end, and error</span></span><br><span class="line">readerStream.on(<span class="string">&#x27;data&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">chunk</span>) </span>&#123;</span><br><span class="line">   data += chunk;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">readerStream.on(<span class="string">&#x27;end&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">readerStream.on(<span class="string">&#x27;error&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(err.stack);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;Program Ended&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>Writing to a Stream</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> data = <span class="string">&#x27;Simply Easy Learning&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create a writable stream</span></span><br><span class="line"><span class="keyword">var</span> writerStream = fs.createWriteStream(<span class="string">&#x27;output.txt&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Write the data to stream with encoding to be utf8</span></span><br><span class="line">writerStream.write(data,<span class="string">&#x27;UTF8&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Mark the end of file</span></span><br><span class="line">writerStream.end();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Handle stream events --&gt; finish, and error</span></span><br><span class="line">writerStream.on(<span class="string">&#x27;finish&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;Write completed.&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">writerStream.on(<span class="string">&#x27;error&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(err.stack);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;Program Ended&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>Piping the Streams</strong></p>
<p>Piping is a mechanism where we provide the output of one stream as the input to another stream. It is normally used to get data from one stream and to pass the output of that stream to another stream. There is no limit on piping operations.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create a readable stream</span></span><br><span class="line"><span class="keyword">var</span> readerStream = fs.createReadStream(<span class="string">&#x27;input.txt&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create a writable stream</span></span><br><span class="line"><span class="keyword">var</span> writerStream = fs.createWriteStream(<span class="string">&#x27;output.txt&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Pipe the read and write operations</span></span><br><span class="line"><span class="comment">// read input.txt and write data to output.txt</span></span><br><span class="line">readerStream.pipe(writerStream);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;Program Ended&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>Chaining the Streams</strong></p>
<p>Chaining is a mechanism to connect the output of one stream to another stream and create a chain of multiple stream operations. It is normally used with piping operations.  </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> zlib = <span class="built_in">require</span>(<span class="string">&#x27;zlib&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Compress the file input.txt to input.txt.gz</span></span><br><span class="line">fs.createReadStream(<span class="string">&#x27;input.txt&#x27;</span>)</span><br><span class="line">   .pipe(zlib.createGzip())</span><br><span class="line">   .pipe(fs.createWriteStream(<span class="string">&#x27;input.txt.gz&#x27;</span>));</span><br><span class="line">  </span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;File Compressed.&quot;</span>);</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-crypto-in-Node-js-How-do-you-cipher-the-secure-information-in-Node-js"><a href="#Q-What-is-crypto-in-Node-js-How-do-you-cipher-the-secure-information-in-Node-js" class="headerlink" title="Q. What is crypto in Node.js? How do you cipher the secure information in Node.js?"></a>Q. <strong><em>What is crypto in Node.js? How do you cipher the secure information in Node.js?</em></strong></h2><p>The Node.js Crypto module supports cryptography. It provides cryptographic functionality that includes a set of wrappers for open SSL&#39;s hash HMAC, cipher, decipher, sign and verify functions.</p>
<ul>
<li><p><strong>Hash</strong>: A hash is a fixed-length string of bits i.e. procedurally and deterministically generated from some arbitrary block of source data.</p>
</li>
<li><p><strong>HMAC</strong>: HMAC stands for Hash-based Message Authentication Code. It is a process for applying a hash algorithm to both data and a secret key that results in a single final hash.</p>
</li>
<li><p>Encryption Example using Hash and HMAC</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">&#x27;crypto&#x27;</span>);  </span><br><span class="line"><span class="keyword">const</span> secret = <span class="string">&#x27;abcdefg&#x27;</span>;  </span><br><span class="line"><span class="keyword">const</span> hash = crypto.createHmac(<span class="string">&#x27;sha256&#x27;</span>, secret)  </span><br><span class="line">                   .update(<span class="string">&#x27;Welcome to JavaTpoint&#x27;</span>)  </span><br><span class="line">                   .digest(<span class="string">&#x27;hex&#x27;</span>);  </span><br><span class="line"><span class="built_in">console</span>.log(hash);  </span><br></pre></td></tr></table></figure>

<ul>
<li>Encryption example using Cipher</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">&#x27;crypto&#x27;</span>);  </span><br><span class="line"><span class="keyword">const</span> cipher = crypto.createCipher(<span class="string">&#x27;aes192&#x27;</span>, <span class="string">&#x27;a password&#x27;</span>);  </span><br><span class="line"><span class="keyword">var</span> encrypted = cipher.update(<span class="string">&#x27;Hello JavaTpoint&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>, <span class="string">&#x27;hex&#x27;</span>);  </span><br><span class="line">encrypted += cipher.final(<span class="string">&#x27;hex&#x27;</span>);  </span><br><span class="line"><span class="built_in">console</span>.log(encrypted);</span><br></pre></td></tr></table></figure>

<ul>
<li>Decryption example using Decipher</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">&#x27;crypto&#x27;</span>);  </span><br><span class="line"><span class="keyword">const</span> decipher = crypto.createDecipher(<span class="string">&#x27;aes192&#x27;</span>, <span class="string">&#x27;a password&#x27;</span>);  </span><br><span class="line"><span class="keyword">var</span> encrypted = <span class="string">&#x27;4ce3b761d58398aed30d5af898a0656a3174d9c7d7502e781e83cf6b9fb836d5&#x27;</span>;  </span><br><span class="line"><span class="keyword">var</span> decrypted = decipher.update(encrypted, <span class="string">&#x27;hex&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>);  </span><br><span class="line">decrypted += decipher.final(<span class="string">&#x27;utf8&#x27;</span>);  </span><br><span class="line"><span class="built_in">console</span>.log(decrypted);  </span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-the-use-of-DNS-module-in-Node-js"><a href="#Q-What-is-the-use-of-DNS-module-in-Node-js" class="headerlink" title="Q. What is the use of DNS module in Node.js?"></a>Q. <strong><em>What is the use of DNS module in Node.js?</em></strong></h2><p>DNS is a node module used to do name resolution facility which is provided by the operating system as well as used to do an actual DNS lookup. No need for memorising IP addresses – DNS servers provide a nifty solution of converting domain or subdomain names to IP addresses. This module provides an asynchronous network wrapper and can be imported using the following syntax.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dns = <span class="built_in">require</span>(<span class="string">&#x27;dns&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><em>Example</em>: <code>dns.lookup()</code> function  </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dns = <span class="built_in">require</span>(<span class="string">&#x27;dns&#x27;</span>);  </span><br><span class="line">dns.lookup(<span class="string">&#x27;www.google.com&#x27;</span>, <span class="function">(<span class="params">err, addresses, family</span>) =&gt;</span> &#123;  </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;addresses:&#x27;</span>, addresses);  </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;family:&#x27;</span>,family);  </span><br><span class="line">&#125;);  </span><br></pre></td></tr></table></figure>

<p><em>Example</em>: <code>resolve4()</code> and <code>reverse()</code> functions</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dns = <span class="built_in">require</span>(<span class="string">&#x27;dns&#x27;</span>);  </span><br><span class="line">dns.resolve4(<span class="string">&#x27;www.google.com&#x27;</span>, <span class="function">(<span class="params">err, addresses</span>) =&gt;</span> &#123;  </span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;  </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`addresses: <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(addresses)&#125;</span>`</span>);  </span><br><span class="line">  addresses.forEach(<span class="function">(<span class="params">a</span>) =&gt;</span> &#123;  </span><br><span class="line">    dns.reverse(a, <span class="function">(<span class="params">err, hostnames</span>) =&gt;</span> &#123;  </span><br><span class="line">      <span class="keyword">if</span> (err) &#123;  </span><br><span class="line">        <span class="keyword">throw</span> err;  </span><br><span class="line">      &#125;  </span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`reverse for <span class="subst">$&#123;a&#125;</span>: <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(hostnames)&#125;</span>`</span>);  </span><br><span class="line">    &#125;);  </span><br><span class="line">  &#125;);  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><em>Example</em>: print the localhost name using <code>lookupService()</code> function</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dns = <span class="built_in">require</span>(<span class="string">&#x27;dns&#x27;</span>);  </span><br><span class="line">dns.lookupService(<span class="string">&#x27;127.0.0.1&#x27;</span>, <span class="number">22</span>, <span class="function">(<span class="params">err, hostname, service</span>) =&gt;</span> &#123;  </span><br><span class="line">  <span class="built_in">console</span>.log(hostname, service);  </span><br><span class="line">    <span class="comment">// Prints: localhost  </span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-are-the-security-mechanisms-available-in-Node-js"><a href="#Q-What-are-the-security-mechanisms-available-in-Node-js" class="headerlink" title="Q. What are the security mechanisms available in Node.js?"></a>Q. <strong><em>What are the security mechanisms available in Node.js?</em></strong></h2><p><strong>Using the Helmet module</strong></p>
<p>Helmet helps to secure your Express applications by setting various HTTP headers, like:</p>
<ul>
<li>X-Frame-Options to mitigates clickjacking attacks,</li>
<li>Strict-Transport-Security to keep your users on HTTPS,</li>
<li>X-XSS-Protection to prevent reflected XSS attacks,</li>
<li>X-DNS-Prefetch-Control to disable browsers DNS prefetching.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> helmet = <span class="built_in">require</span>(<span class="string">&#x27;helmet&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"></span><br><span class="line">app.use(helmet())</span><br></pre></td></tr></table></figure>

<p><strong>Validating user input</strong></p>
<p>Validating user input is one of the most important things to do when it comes to the security of your application. Failing to do it correctly can open up your application and users to a wide range of attacks, including command injection, SQL injection or stored cross-site scripting.</p>
<p>To validate user input, one of the best libraries you can pick is joi. Joi is an object schema description language and validator for JavaScript objects.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Joi = <span class="built_in">require</span>(<span class="string">&#x27;joi&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> schema = Joi.object().keys(&#123;</span><br><span class="line">    username: Joi.string().alphanum().min(<span class="number">3</span>).max(<span class="number">30</span>).required(),</span><br><span class="line">    password: Joi.string().regex(<span class="regexp">/^[a-zA-Z0-9]&#123;3,30&#125;$/</span>),</span><br><span class="line">    access_token: [Joi.string(), Joi.number()],</span><br><span class="line">    birthyear: Joi.number().integer().min(<span class="number">1900</span>).max(<span class="number">2013</span>),</span><br><span class="line">    email: Joi.string().email()</span><br><span class="line">&#125;).with(<span class="string">&#x27;username&#x27;</span>, <span class="string">&#x27;birthyear&#x27;</span>).without(<span class="string">&#x27;password&#x27;</span>, <span class="string">&#x27;access_token&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Return result</span></span><br><span class="line"><span class="keyword">const</span> result = Joi.validate(&#123;</span><br><span class="line">    username: <span class="string">&#x27;abc&#x27;</span>,</span><br><span class="line">    birthyear: <span class="number">1994</span></span><br><span class="line">&#125;, schema)</span><br><span class="line"><span class="comment">// result.error === null -&gt; valid</span></span><br></pre></td></tr></table></figure>

<p><strong>Securing your Regular Expressions</strong></p>
<p>Regular Expressions are a great way to manipulate texts and get the parts that you need from them. However, there is an attack vector called Regular Expression Denial of Service attack, which exposes the fact that most Regular Expression implementations may reach extreme situations for specially crafted input, that cause them to work extremely slowly.</p>
<p>The Regular Expressions that can do such a thing are commonly referred as Evil Regexes. These expressions contain:<br>*grouping with repetition,<br>*inside the repeated group:<br>    *repetition, or<br>    *alternation with overlapping  </p>
<p>Examples of Evil Regular Expressions patterns:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(a+)+</span><br><span class="line">([a-zA-Z]+)*</span><br><span class="line">(a|aa)+</span><br></pre></td></tr></table></figure>

<p><strong>Security.txt</strong></p>
<p>Security.txt defines a standard to help organizations define the process for security researchers to securely disclose security vulnerabilities.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> securityTxt = <span class="built_in">require</span>(<span class="string">&#x27;express-security.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/security.txt&#x27;</span>, securityTxt(&#123;</span><br><span class="line">  <span class="comment">// your security address</span></span><br><span class="line">  contact: <span class="string">&#x27;email@example.com&#x27;</span>,</span><br><span class="line">  <span class="comment">// your pgp key</span></span><br><span class="line">  encryption: <span class="string">&#x27;encryption&#x27;</span>,</span><br><span class="line">  <span class="comment">// if you have a hall of fame for securty resourcers, include the link here</span></span><br><span class="line">  acknowledgements: <span class="string">&#x27;http://acknowledgements.example.com&#x27;</span></span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-Name-the-types-of-API-functions-in-Node-js"><a href="#Q-Name-the-types-of-API-functions-in-Node-js" class="headerlink" title="Q. Name the types of API functions in Node.js?"></a>Q. <strong><em>Name the types of API functions in Node.js?</em></strong></h2><p>There are two types of API functions in Node.js:</p>
<ul>
<li>Asynchronous, Non-blocking functions</li>
<li>Synchronous, Blocking functions</li>
</ul>
<p><strong>1. Blocking functions</strong></p>
<p>In a blocking operation, all other code is blocked from executing until an I/O event that is being waited on occurs. Blocking functions execute synchronously.</p>
<p><em>Example</em>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> data = fs.readFileSync(<span class="string">&#x27;/file.md&#x27;</span>); <span class="comment">// blocks here until file is read</span></span><br><span class="line"><span class="built_in">console</span>.log(data);</span><br><span class="line"><span class="comment">// moreWork(); will run after console.log</span></span><br></pre></td></tr></table></figure>

<p>The second line of code blocks the execution of additional JavaScript until the entire file is read. moreWork () will only be called after Console.log</p>
<p><strong>2. Non-blocking functions</strong></p>
<p>In a non-blocking operation, multiple I/O calls can be performed without the execution of the program being halted. Non-blocking functions execute asynchronously.</p>
<p><em>Example</em>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line">fs.readFile(<span class="string">&#x27;/file.md&#x27;</span>, <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">  <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// moreWork(); will run before console.log</span></span><br></pre></td></tr></table></figure>

<p>Since <code>fs.readFile()</code> is non-blocking, moreWork() does not have to wait for the file read to complete before being called. This allows for higher throughput.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-does-Node-js-handle-child-threads"><a href="#Q-How-does-Node-js-handle-child-threads" class="headerlink" title="Q. How does Node.js handle child threads?"></a>Q. <strong><em>How does Node.js handle child threads?</em></strong></h2><p>Node.js is a single threaded language which in background uses multiple threads to execute asynchronous code.<br>Node.js is non-blocking which means that all functions ( callbacks ) are delegated to the event loop and they are ( or can be ) executed by different threads. That is handled by Node.js run-time.</p>
<ul>
<li>Nodejs Primary application runs in an event loop, which is in a single thread.</li>
<li>Background I/O is running in a thread pool that is only accessible to C/C++ or other compiled/native modules and mostly transparent to the JS.</li>
<li>Node v11/12 now has experimental worker_threads, which is another option.</li>
<li>Node.js does support forking multiple processes ( which are executed on different cores ).</li>
<li>It is important to know that state is not shared between master and forked process.</li>
<li>We can pass messages to forked process ( which is different script ) and to master process from forked process with function send.</li>
</ul>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-the-preferred-method-of-resolving-unhandled-exceptions-in-Node-js"><a href="#Q-What-is-the-preferred-method-of-resolving-unhandled-exceptions-in-Node-js" class="headerlink" title="Q. What is the preferred method of resolving unhandled exceptions in Node.js?"></a>Q. <strong><em>What is the preferred method of resolving unhandled exceptions in Node.js?</em></strong></h2><p>Unhandled exceptions in Node.js can be caught at the Process level by attaching a handler for uncaughtException event.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">process.on(<span class="string">&#x27;uncaughtException&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Caught exception: &#x27;</span> + err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Process is a global object that provides information about the current Node.js process. Process is a listener function that is always listening to events.</p>
<p>Few events are :</p>
<ol>
<li>Exit</li>
<li>disconnect</li>
<li>unhandledException</li>
<li>rejectionHandled</li>
</ol>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-does-Node-js-support-multi-processor-platforms-and-does-it-fully-utilize-all-processor-resources"><a href="#Q-How-does-Node-js-support-multi-processor-platforms-and-does-it-fully-utilize-all-processor-resources" class="headerlink" title="Q. How does Node.js support multi-processor platforms, and does it fully utilize all processor resources?"></a>Q. <strong><em>How does Node.js support multi-processor platforms, and does it fully utilize all processor resources?</em></strong></h2><p>Since Node.js is by default a single thread application, it will run on a single processor core and will not take full advantage of multiple core resources. However, Node.js provides support for deployment on multiple-core systems, to take greater advantage of the hardware. The Cluster module is one of the core Node.js modules and it allows running multiple Node.js worker processes that will share the same port.</p>
<p>The cluster module helps to spawn new processes on the operating system. Each process works independently, so you cannot use shared state between child processes. Each process communicates with the main process by IPC and pass server handles back and forth.</p>
<p>Cluster supports two types of load distribution:</p>
<ul>
<li>The main process listens on a port, accepts new connection and assigns it to a child process in a round robin fashion.</li>
<li>The main process assigns the port to a child process and child process itself listen the port.</li>
</ul>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-typically-the-first-argument-passed-to-a-Node-js-callback-handler"><a href="#Q-What-is-typically-the-first-argument-passed-to-a-Node-js-callback-handler" class="headerlink" title="Q. What is typically the first argument passed to a Node.js callback handler?"></a>Q. <strong><em>What is typically the first argument passed to a Node.js callback handler?</em></strong></h2><p>The first argument to any callback handler is an optional error object</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">err, results</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// usually we&#x27;ll check for the error before handling results</span></span><br><span class="line">    <span class="keyword">if</span>(err) &#123;</span><br><span class="line">        <span class="comment">// handle error somehow and return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// no error, perform standard callback handling</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-Node-js-read-the-content-of-a-file"><a href="#Q-How-Node-js-read-the-content-of-a-file" class="headerlink" title="Q. How Node.js read the content of a file?"></a>Q. <strong><em>How Node.js read the content of a file?</em></strong></h2><p>The "normal" way in Node.js is probably to read in the content of a file in a non-blocking, asynchronous way. That is, to tell Node to read in the file, and then to get a callback when the file-reading has been finished. That would allow us to hand several requests in parallel.</p>
<p>Common use for the File System module:</p>
<ul>
<li>Read files</li>
<li>Create files</li>
<li>Update files</li>
<li>Delete files</li>
<li>Rename files  </li>
</ul>
<p><strong>Read Files</strong><br>index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>My Header<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>My paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// read_file.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line">http.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  fs.readFile(<span class="string">&#x27;index.html&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123;<span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/html&#x27;</span>&#125;);</span><br><span class="line">    res.write(data);</span><br><span class="line">    res.end();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;).listen(<span class="number">8080</span>);</span><br></pre></td></tr></table></figure>

<p>Initiate read_file.js:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node read_file.js</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-JIT-and-how-is-it-related-to-Node-js"><a href="#Q-What-is-JIT-and-how-is-it-related-to-Node-js" class="headerlink" title="Q. What is JIT and how is it related to Node.js?"></a>Q. <strong><em>What is JIT and how is it related to Node.js?</em></strong></h2><p>Node.js has depended on the V8 JavaScript engine to provide code execution in the language. The V8 is a JavaScript engine built at the google development center, in Germany. It is open source and written in C++. It is used for both client side (Google Chrome) and server side (node.js) JavaScript applications. A central piece of the V8 engine that allows it to execute JavaScript at high speed is the JIT (Just In Time) compiler. This is a dynamic compiler that can optimize code during runtime. When V8 was first built the JIT Compiler was dubbed FullCodegen. Then, the V8 team implemented Crankshaft, which included many performance optimizations that FullCodegen did not implement.</p>
<p>The <code>V8</code> was first designed to increase the performance of the JavaScript execution inside web browsers. In order to obtain speed, V8 translates JavaScript code into more efficient machine code instead of using an interpreter. It compiles JavaScript code into machine code at execution by implementing a JIT (Just-In-Time) compiler like a lot of modern JavaScript engines such as SpiderMonkey or Rhino (Mozilla) are doing. The main difference with V8 is that it doesn’t produce bytecode or any intermediate code.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-difference-between-put-and-patch"><a href="#Q-What-is-difference-between-put-and-patch" class="headerlink" title="Q. What is difference between put and patch?"></a>Q. <strong><em>What is difference between put and patch?</em></strong></h2><p>PUT and PATCH are HTTP verbs and they both relate to updating a resource. The main difference between PUT and PATCH requests are in the way the server processes the enclosed entity to modify the resource identified by the Request-URI.</p>
<p>In a PUT request, the enclosed entity is considered to be a modified version of the resource stored on the origin server, and the client is requesting that the stored version be replaced.</p>
<p>With PATCH, however, the enclosed entity contains a set of instructions describing how a resource currently residing on the origin server should be modified to produce a new version.</p>
<p>Also, another difference is that when you want to update a resource with PUT request, you have to send the full payload as the request whereas with PATCH, you only send the parameters which you want to update.</p>
<p>The most commonly used HTTP verbs POST, GET, PUT, DELETE are similar to CRUD (Create, Read, Update and Delete) operations in database. We specify these HTTP verbs in the capital case. So, the below is the comparison between them.</p>
<ul>
<li><code>POST</code> - create</li>
<li><code>GET</code>  - read  </li>
<li><code>PUT</code>  - update</li>
<li><code>DELETE</code> - delete</li>
</ul>
<p><strong>PATCH</strong>: Submits a partial modification to a resource. If you only need to update one field for the resource, you may want to use the PATCH method.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-List-types-of-Http-requests-supported-by-Node-js"><a href="#Q-List-types-of-Http-requests-supported-by-Node-js" class="headerlink" title="Q. List types of Http requests supported by Node.js?"></a>Q. <strong><em>List types of Http requests supported by Node.js?</em></strong></h2><p>The HTTP core module is a key module to Node.js networking.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>http.METHODS</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>).METHODS</span><br><span class="line">[ <span class="string">&#x27;ACL&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;BIND&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;CHECKOUT&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;CONNECT&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;COPY&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;DELETE&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;HEAD&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;LINK&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;LOCK&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;M-SEARCH&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;MERGE&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;MKACTIVITY&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;MKCALENDAR&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;MKCOL&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;MOVE&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;NOTIFY&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;OPTIONS&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;PATCH&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;PROPFIND&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;PROPPATCH&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;PURGE&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;PUT&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;REBIND&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;REPORT&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;SEARCH&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;SUBSCRIBE&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;TRACE&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;UNBIND&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;UNLINK&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;UNLOCK&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;UNSUBSCRIBE&#x27;</span> ]</span><br></pre></td></tr></table></figure>

<p><strong>http.STATUS_CODES</strong></p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">  <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>).STATUS_CODES</span><br><span class="line">&#123; <span class="string">&#x27;100&#x27;</span>: <span class="string">&#x27;Continue&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;101&#x27;</span>: <span class="string">&#x27;Switching Protocols&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;102&#x27;</span>: <span class="string">&#x27;Processing&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;200&#x27;</span>: <span class="string">&#x27;OK&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;201&#x27;</span>: <span class="string">&#x27;Created&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;202&#x27;</span>: <span class="string">&#x27;Accepted&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;203&#x27;</span>: <span class="string">&#x27;Non-Authoritative Information&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;204&#x27;</span>: <span class="string">&#x27;No Content&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;205&#x27;</span>: <span class="string">&#x27;Reset Content&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;206&#x27;</span>: <span class="string">&#x27;Partial Content&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;207&#x27;</span>: <span class="string">&#x27;Multi-Status&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;208&#x27;</span>: <span class="string">&#x27;Already Reported&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;226&#x27;</span>: <span class="string">&#x27;IM Used&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;300&#x27;</span>: <span class="string">&#x27;Multiple Choices&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;301&#x27;</span>: <span class="string">&#x27;Moved Permanently&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;302&#x27;</span>: <span class="string">&#x27;Found&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;303&#x27;</span>: <span class="string">&#x27;See Other&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;304&#x27;</span>: <span class="string">&#x27;Not Modified&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;305&#x27;</span>: <span class="string">&#x27;Use Proxy&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;307&#x27;</span>: <span class="string">&#x27;Temporary Redirect&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;308&#x27;</span>: <span class="string">&#x27;Permanent Redirect&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;400&#x27;</span>: <span class="string">&#x27;Bad Request&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;401&#x27;</span>: <span class="string">&#x27;Unauthorized&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;402&#x27;</span>: <span class="string">&#x27;Payment Required&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;403&#x27;</span>: <span class="string">&#x27;Forbidden&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;404&#x27;</span>: <span class="string">&#x27;Not Found&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;405&#x27;</span>: <span class="string">&#x27;Method Not Allowed&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;406&#x27;</span>: <span class="string">&#x27;Not Acceptable&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;407&#x27;</span>: <span class="string">&#x27;Proxy Authentication Required&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;408&#x27;</span>: <span class="string">&#x27;Request Timeout&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;409&#x27;</span>: <span class="string">&#x27;Conflict&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;410&#x27;</span>: <span class="string">&#x27;Gone&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;411&#x27;</span>: <span class="string">&#x27;Length Required&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;412&#x27;</span>: <span class="string">&#x27;Precondition Failed&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;413&#x27;</span>: <span class="string">&#x27;Payload Too Large&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;414&#x27;</span>: <span class="string">&#x27;URI Too Long&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;415&#x27;</span>: <span class="string">&#x27;Unsupported Media Type&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;416&#x27;</span>: <span class="string">&#x27;Range Not Satisfiable&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;417&#x27;</span>: <span class="string">&#x27;Expectation Failed&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;418&#x27;</span>: <span class="string">&#x27;I\&#x27;m a teapot&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;421&#x27;</span>: <span class="string">&#x27;Misdirected Request&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;422&#x27;</span>: <span class="string">&#x27;Unprocessable Entity&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;423&#x27;</span>: <span class="string">&#x27;Locked&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;424&#x27;</span>: <span class="string">&#x27;Failed Dependency&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;425&#x27;</span>: <span class="string">&#x27;Unordered Collection&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;426&#x27;</span>: <span class="string">&#x27;Upgrade Required&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;428&#x27;</span>: <span class="string">&#x27;Precondition Required&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;429&#x27;</span>: <span class="string">&#x27;Too Many Requests&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;431&#x27;</span>: <span class="string">&#x27;Request Header Fields Too Large&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;451&#x27;</span>: <span class="string">&#x27;Unavailable For Legal Reasons&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;500&#x27;</span>: <span class="string">&#x27;Internal Server Error&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;501&#x27;</span>: <span class="string">&#x27;Not Implemented&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;502&#x27;</span>: <span class="string">&#x27;Bad Gateway&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;503&#x27;</span>: <span class="string">&#x27;Service Unavailable&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;504&#x27;</span>: <span class="string">&#x27;Gateway Timeout&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;505&#x27;</span>: <span class="string">&#x27;HTTP Version Not Supported&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;506&#x27;</span>: <span class="string">&#x27;Variant Also Negotiates&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;507&#x27;</span>: <span class="string">&#x27;Insufficient Storage&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;508&#x27;</span>: <span class="string">&#x27;Loop Detected&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;509&#x27;</span>: <span class="string">&#x27;Bandwidth Limit Exceeded&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;510&#x27;</span>: <span class="string">&#x27;Not Extended&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;511&#x27;</span>: <span class="string">&#x27;Network Authentication Required&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>

<p><strong>Making HTTP Requests</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> request = <span class="built_in">require</span>(<span class="string">&#x27;request&#x27;</span>);</span><br><span class="line"></span><br><span class="line">request(<span class="string">&#x27;https://nodejs.org/&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, res, body</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(body);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>The first argument to request can either be a URL string, or an object of options. Here are some of the more common options you&#39;ll encounter in your applications:</p>
<ul>
<li><strong>url</strong>: The destination URL of the HTTP request</li>
<li><strong>method</strong>: The HTTP method to be used (GET, POST, DELETE, etc)</li>
<li><strong>headers</strong>: An object of HTTP headers (key-value) to be set in the request</li>
<li><strong>form</strong>: An object containing key-value form data</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> request = <span class="built_in">require</span>(<span class="string">&#x27;request&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">    url: <span class="string">&#x27;https://nodejs.org/file.json&#x27;</span>,</span><br><span class="line">    method: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">    headers: &#123;</span><br><span class="line">        <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Accept-Charset&#x27;</span>: <span class="string">&#x27;utf-8&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;my-reddit-client&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">request(options, <span class="function"><span class="keyword">function</span>(<span class="params">err, res, body</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> json = <span class="built_in">JSON</span>.parse(body);</span><br><span class="line">    <span class="built_in">console</span>.log(json);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Using the options object, this request uses the GET method to retrieve JSON data directly from Reddit, which is returned as a string in the body field. From here, you can use <code>JSON.parse</code> and use the data as a normal JavaScript object.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-Why-to-use-Express-js"><a href="#Q-Why-to-use-Express-js" class="headerlink" title="Q. Why to use Express.js?"></a>Q. <strong><em>Why to use Express.js?</em></strong></h2><p>ExpressJS is a prebuilt NodeJS framework that can help you in creating server-side web applications faster and smarter. Simplicity, minimalism, flexibility, scalability are some of its characteristics and since it is made in NodeJS itself, it inherited its performance as well.</p>
<p>Express 3.x is a light-weight web application framework to help organize your web application into an MVC architecture on the server side. You can then use a database like <code>MongoDB</code> with <code>Mongoose</code> (for modeling) to provide a backend for your Node.js application. Express.js basically helps you manage everything, from routes, to handling requests and views.</p>
<p>It has become the standard server framework for node.js. Express is the backend part of something known as the MEAN stack. The MEAN is a free and open-source JavaScript software stack for building dynamic web sites and web applications which has the following components;</p>
<ol>
<li><strong>MongoDB</strong> - The standard NoSQL database</li>
<li><strong>Express.js</strong> - The default web applications framework</li>
<li><strong>Angular.js</strong> - The JavaScript MVC framework used for web applications</li>
<li><strong>Node.js</strong> - Framework used for scalable server-side and networking applications.</li>
</ol>
<p>The Express.js framework makes it very easy to develop an application which can be used to handle multiple types of requests like the GET, PUT, and POST and DELETE requests.</p>
<p><strong>using Express</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express=<span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> app=express();</span><br><span class="line">app.get(<span class="string">&#x27;/&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">&#x27;Hello World!&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> server=app.listen(<span class="number">3000</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;);</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-Write-the-steps-for-setting-up-an-Express-JS-application"><a href="#Q-Write-the-steps-for-setting-up-an-Express-JS-application" class="headerlink" title="Q. Write the steps for setting up an Express JS application?"></a>Q. <strong><em>Write the steps for setting up an Express JS application?</em></strong></h2><p><strong>1. Install Express Generator</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\node&gt;npm install -g express-generator</span><br></pre></td></tr></table></figure>

<p><strong>2. Create an Express Project</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\node&gt;express --view=<span class="string">&quot;ejs&quot;</span> nodetest1</span><br></pre></td></tr></table></figure>

<p><strong>3. Edit Dependencies</strong></p>
<p>MAKE SURE TO CD INTO YOUR nodetest FOLDER. OK, now we have some basic structure in there, but we're not quite done. You'll note that the express-generator routine created a file called package.json in your nodetest1 directory. Open this up in a text editor and it'll look like this:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C:\node\nodetest1\package.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;nodetest1&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;0.0.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;private&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: <span class="string">&quot;node ./bin/www&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;cookie-parser&quot;</span>: <span class="string">&quot;~1.4.3&quot;</span>,</span><br><span class="line">    <span class="string">&quot;debug&quot;</span>: <span class="string">&quot;~2.6.9&quot;</span>,</span><br><span class="line">    <span class="string">&quot;ejs&quot;</span>: <span class="string">&quot;~2.5.7&quot;</span>,</span><br><span class="line">    <span class="string">&quot;express&quot;</span>: <span class="string">&quot;~4.16.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;http-errors&quot;</span>: <span class="string">&quot;~1.6.2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;morgan&quot;</span>: <span class="string">&quot;~1.9.0&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This is a basic JSON file describing our app and its dependencies. We need to add a few things to it. Specifically, calls for MongoDB and Monk. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\node\nodetest1&gt;npm install --save monk@^6.0.6 mongodb@^3.1.13</span><br></pre></td></tr></table></figure>

<p><strong>4. Install Dependencies</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\node\nodetest1&gt;npm install</span><br><span class="line">C:\node\nodetest1&gt;npm start</span><br></pre></td></tr></table></figure>

<p>Node Console</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; nodetest1@0.0.0 start C:\node\nodetest1</span><br><span class="line">&gt; node ./bin/www</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-Since-node-is-a-single-threaded-process-how-to-make-use-of-all-CPUs"><a href="#Q-Since-node-is-a-single-threaded-process-how-to-make-use-of-all-CPUs" class="headerlink" title="Q. Since node is a single threaded process, how to make use of all CPUs?"></a>Q. <strong><em>Since node is a single threaded process, how to make use of all CPUs?</em></strong></h2><p>Node.js is a single threaded language which in background uses multiple threads to execute asynchronous code.<br>Node.js is non-blocking which means that all functions ( callbacks ) are delegated to the event loop and they are ( or can be ) executed by different threads. That is handled by Node.js run-time.</p>
<ul>
<li>Node.js does support forking multiple processes ( which are executed on different cores ).</li>
<li>It is important to know that state is not shared between master and forked process.</li>
<li>We can pass messages to forked process ( which is different script ) and to master process from forked process with function send.</li>
</ul>
<p>A single instance of Node.js runs in a single thread. To take advantage of multi-core systems, the user will sometimes want to launch a cluster of Node.js processes to handle the load. The cluster module allows easy creation of child processes that all share server ports.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cluster = <span class="built_in">require</span>(<span class="string">&#x27;cluster&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> numCPUs = <span class="built_in">require</span>(<span class="string">&#x27;os&#x27;</span>).cpus().length;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (cluster.isMaster) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Master <span class="subst">$&#123;process.pid&#125;</span> is running`</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Fork workers.</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; numCPUs; i++) &#123;</span><br><span class="line">    cluster.fork();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  cluster.on(<span class="string">&#x27;exit&#x27;</span>, <span class="function">(<span class="params">worker, code, signal</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`worker <span class="subst">$&#123;worker.process.pid&#125;</span> died`</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// Workers can share any TCP connection</span></span><br><span class="line">  <span class="comment">// In this case it is an HTTP server</span></span><br><span class="line">  http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    res.writeHead(<span class="number">200</span>);</span><br><span class="line">    res.end(<span class="string">&#x27;hello world\n&#x27;</span>);</span><br><span class="line">  &#125;).listen(<span class="number">8000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Worker <span class="subst">$&#123;process.pid&#125;</span> started`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Running Node.js will now share port 8000 between the workers:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ node server.js</span><br><span class="line">Master 3596 is running</span><br><span class="line">Worker 4324 started</span><br><span class="line">Worker 4520 started</span><br><span class="line">Worker 6056 started</span><br><span class="line">Worker 5644 started</span><br></pre></td></tr></table></figure>

<p>The worker processes are spawned using the <code>child_process.fork()</code> method, so that they can communicate with the parent via IPC and pass server handles back and forth.</p>
<p>The cluster module supports two methods of distributing incoming connections.</p>
<p>The first one (and the default one on all platforms except Windows), is the round-robin approach, where the master process listens on a port, accepts new connections and distributes them across the workers in a round-robin fashion, with some built-in smarts to avoid overloading a worker process.</p>
<p>The second approach is where the master process creates the listen socket and sends it to interested workers. The workers then accept incoming connections directly.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-does-emitter-do-and-what-is-dispatcher"><a href="#Q-What-does-emitter-do-and-what-is-dispatcher" class="headerlink" title="Q. What does emitter do and what is dispatcher?"></a>Q. <strong><em>What does emitter do and what is dispatcher?</em></strong></h2><p>Node.js core API is based on asynchronous event-driven architecture in which certain kind of objects called emitters periodically emit events that cause listener objects to be called.</p>
<p>All objects that emit events are members of EventEmitter class. These objects expose an eventEmitter.on() function that allows one or more functions to be attached to named events emitted by the object.</p>
<p>When the EventEmitter object emits an event, all of the functions attached to that specific event are called synchronously. All values returned by the called listeners are ignored and will be discarded.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> EventEmitter = <span class="built_in">require</span>(<span class="string">&#x27;events&#x27;</span>);</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyEmitter</span> <span class="keyword">extends</span> <span class="title">EventEmitter</span> </span>&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> myEmitter = <span class="keyword">new</span> MyEmitter();</span><br><span class="line">myEmitter.on(<span class="string">&#x27;event&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a, b, <span class="built_in">this</span>);</span><br><span class="line">  <span class="comment">// Prints:</span></span><br><span class="line">  <span class="comment">//   Technoetics Club MyEmitter &#123;</span></span><br><span class="line">  <span class="comment">//     domain: null,</span></span><br><span class="line">  <span class="comment">//     _events: &#123; event: [Function] &#125;,</span></span><br><span class="line">  <span class="comment">//     _eventsCount: 1,</span></span><br><span class="line">  <span class="comment">//     _maxListeners: undefined &#125;</span></span><br><span class="line">&#125;);</span><br><span class="line">myEmitter.emit(<span class="string">&#x27;event&#x27;</span>,<span class="string">&#x27;Technoetics&#x27;</span>, <span class="string">&#x27;Club&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>Here we create a myEmitter object and emit event at the end which triggers the callback function and we are able to get the desired output.</p>
<p>By default, all listeners attached to a particular event object are called by the EventListener object synchronously in the order in which they are registered or attached to the event object.</p>
<p><strong>Dispatcher</strong></p>
<p>The Dispatcher has functionality not provided nor expected in EventEmitter, the most notable being waitFor, which allows a store to ensure that another store has been updated in response to an action before it proceeds.</p>
<p>Pattern-wise, the Dispatcher is also a singleton, whereas EventEmitter is an API that you might object-assign onto multiple stores.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-to-kill-child-processes-that-spawn-their-own-child-processes-in-Node-js"><a href="#Q-How-to-kill-child-processes-that-spawn-their-own-child-processes-in-Node-js" class="headerlink" title="Q. How to kill child processes that spawn their own child processes in Node.js?"></a>Q. <strong><em>How to kill child processes that spawn their own child processes in Node.js?</em></strong></h2><p>If a child process in Node.js spawn their own child processes, kill() method will not kill the child process’s own child processes. For example, if I start a process that starts it’s own child processes via child_process module, killing that child process will not make my program to quit.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> spawn = <span class="built_in">require</span>(<span class="string">&#x27;child_process&#x27;</span>).spawn;</span><br><span class="line"><span class="keyword">var</span> child = spawn(<span class="string">&#x27;my-command&#x27;</span>);</span><br><span class="line"></span><br><span class="line">child.kill();</span><br></pre></td></tr></table></figure>

<p>The program above will not quit if <code>my-command</code> spins up some more processes.</p>
<p><strong>PID range hack</strong></p>
<p>We can start child processes with {detached: true} option so those processes will not be attached to main process but they will go to a new group of processes. Then using process.kill(-pid) method on main process we can kill all processes that are in the same group of a child process with the same pid group. In my case, I only have one processes in this group.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> spawn = <span class="built_in">require</span>(<span class="string">&#x27;child_process&#x27;</span>).spawn;</span><br><span class="line"><span class="keyword">var</span> child = spawn(<span class="string">&#x27;my-command&#x27;</span>, &#123;<span class="attr">detached</span>: <span class="literal">true</span>&#125;);</span><br><span class="line"></span><br><span class="line">process.kill(-child.pid);</span><br></pre></td></tr></table></figure>

<p>Please note - before pid. This converts a pid to a group of pids for process kill() method.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-do-you-understand-by-Reactor-Pattern-in-Node-js"><a href="#Q-What-do-you-understand-by-Reactor-Pattern-in-Node-js" class="headerlink" title="Q. What do you understand by Reactor Pattern in Node.js?"></a>Q. <strong><em>What do you understand by Reactor Pattern in Node.js?</em></strong></h2><p>Reactor Pattern is an idea of non-blocking I/O operations in Node.js. This pattern provides a handler(in case of Node.js, a callback function) that is associated with each I/O operation. When an I/O request is generated, it is submitted to a demultiplexer.</p>
<p>This demultiplexer is a notification interface that is used to handle concurrency in non-blocking I/O mode and collects every request in form of an event and queues each event in a queue. Thus, the demultiplexer provides the Event Queue, which we often hear. When a request is collected by the demultiplexer, it returns the control back to the system and does not blocks the I/O. At the same time, there is an Event Loop which iterates over the items in the Event Queue. Every event has a callback function associated with it, and that callback function is invoked when the Event Loop iterates.</p>
<p>The callback function further mostly have other callbacks associated within representing some asynchronous operations. These operations are inserted in the Event Queue by the demultiplexer and are ready to be processed once the Event Loop iterates over them. That is why calls to other operations must be asynchronous.</p>
<p>When all the items in the Event Queue are processed and there are no pending operations left, Node.js terminates the application automatically.</p>
<ol>
<li>The application generates a new I/O operation by submitting a request to the Event Demultiplexer. The application also specifies a handler, which will be invoked when the operation completes. Submitting a new request to the Event Demultiplexer is a non-blocking call and it immediately returns the control back to the application.</li>
<li>When a set of I/O operations completes, the Event Demultiplexer pushes the new events into the Event Queue.</li>
<li>At this point, the Event Loop iterates over the items of the Event Queue.</li>
<li>For each event, the associated handler is invoked.</li>
<li>The handler, which is part of the application code, will give back the control to the Event Loop when its execution completes (5a). However, new asynchronous operations might be requested during the execution of the handler (5b), causing new operations to be inserted in the Event Demultiplexer (1), before the control is given back to the Event Loop.</li>
<li>When all the items in the Event Queue are processed, the loop will block again on the Event Demultiplexer which will then trigger another cycle.</li>
</ol>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-are-the-key-features-of-Node-js"><a href="#Q-What-are-the-key-features-of-Node-js" class="headerlink" title="Q. What are the key features of Node.js?"></a>Q. <strong><em>What are the key features of Node.js?</em></strong></h2><ul>
<li><strong>Asynchronous event driven IO helps concurrent request handling</strong> – All APIs of Node.js are asynchronous. This feature means that if a Node receives a request for some Input/Output operation, it will execute that operation in the background and continue with the processing of other requests. Thus it will not wait for the response from the previous requests.</li>
<li><strong>Fast in Code execution</strong> – Node.js uses the V8 JavaScript Runtime engine, the one which is used by Google Chrome. Node has a wrapper over the JavaScript engine which makes the runtime engine much faster and hence processing of requests within Node.js also become faster.</li>
<li><strong>Single Threaded but Highly Scalable</strong> – Node.js uses a single thread model for event looping. The response from these events may or may not reach the server immediately. However, this does not block other operations. Thus making Node.js highly scalable. Traditional servers create limited threads to handle requests while Node.js creates a single thread that provides service to much larger numbers of such requests.</li>
<li><strong>Node.js library uses JavaScript</strong> – This is another important aspect of Node.js from the developer’s point of view. The majority of developers are already well-versed in JavaScript. Hence, development in Node.js becomes easier for a developer who knows JavaScript.</li>
<li><strong>There is an Active and vibrant community for the Node.js framework</strong> – The active community always keeps the framework updated with the latest trends in the web development.</li>
<li><strong>No Buffering</strong> – Node.js applications never buffer any data. They simply output the data in chunks.</li>
</ul>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-are-globals-in-Node-js"><a href="#Q-What-are-globals-in-Node-js" class="headerlink" title="Q. What are globals in Node.js?"></a>Q. <strong><em>What are globals in Node.js?</em></strong></h2><p>There are three keywords in Node.js which constitute as Globals. These are Global, Process, and Buffer.</p>
<p><strong>1. Global</strong></p>
<p>The Global keyword represents the global namespace object. It acts as a container for all other <code>global</code> objects. If we type <code>console.log(global)</code>, it will print out all of them.</p>
<p>An important point to note about the global objects is that not all of them are in the global scope, some of them fall in the module scope. So, it is wise to declare them without using the var keyword or add them to Global object.</p>
<p>Variables declared using the var keyword become local to the module whereas those declared without it get subscribed to the global object.</p>
<p><strong>2. Process</strong></p>
<p>It is also one of the global objects but includes additional functionality to turn a synchronous function into an async callback. There is no boundation to access it from anywhere in the code. It is the instance of the EventEmitter class. And each node application object is an instance of the Process object.</p>
<p>It primarily gives back the information about the application or the environment.</p>
<ul>
<li><code>&lt;process.execPath&gt;</code> – to get the execution path of the Node app.</li>
<li><code>&lt;process.Version&gt;</code> – to get the Node version currently running.</li>
<li><code>&lt;process.platform&gt;</code> – to get the server platform.</li>
</ul>
<p>Some of the other useful Process methods are as follows.</p>
<ul>
<li><code>&lt;process.memoryUsage&gt;</code> – To know the memory used by Node application.</li>
<li><code>&lt;process.NextTick&gt;</code> – To attach a callback function that will get called during the next loop. It can cause a delay in executing a function.</li>
</ul>
<p><strong>3. Buffer</strong></p>
<p>The Buffer is a class in Node.js to handle binary data. It is similar to a list of integers but stores as a raw memory outside the V8 heap.</p>
<p>We can convert JavaScript string objects into Buffers. But it requires mentioning the encoding type explicitly.</p>
<ul>
<li><code>&lt;ascii&gt;</code> – Specifies 7-bit ASCII data.</li>
<li><code>&lt;utf8&gt;</code> – Represents multibyte encoded Unicode char set.</li>
<li><code>&lt;utf16le&gt;</code> – Indicates 2 or 4 bytes, little endian encoded Unicode chars.</li>
<li><code>&lt;base64&gt;</code> – Used for Base64 string encoding.</li>
<li><code>&lt;hex&gt;</code> – Encodes each byte as two hexadecimal chars.</li>
</ul>
<p>Here is the syntax to use the Buffer class.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> buffer = <span class="keyword">new</span> Buffer(string, [encoding]);</span><br></pre></td></tr></table></figure>

<p>The above command will allocate a new buffer holding the string with <code>utf8</code> as the default encoding. However, if you like to write a <code>string</code> to an existing buffer object, then use the following line of code.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">buffer.write(string)</span><br></pre></td></tr></table></figure>

<p>This class also offers other methods like <code>readInt8</code> and <code>writeUInt8</code> that allows read/write from various types of data to the buffer.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-chaining-process-in-Node-js"><a href="#Q-What-is-chaining-process-in-Node-js" class="headerlink" title="Q. What is chaining process in Node.js?"></a>Q. <strong><em>What is chaining process in Node.js?</em></strong></h2><p>It is an approach to connect the output of one stream to the input of another stream, thus creating a chain of multiple stream operations.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-a-control-flow-function-what-are-the-steps-does-it-execute"><a href="#Q-What-is-a-control-flow-function-what-are-the-steps-does-it-execute" class="headerlink" title="Q. What is a control flow function? what are the steps does it execute?"></a>Q. <strong><em>What is a control flow function? what are the steps does it execute?</em></strong></h2><p>It is a generic piece of code which runs in between several asynchronous function calls is known as control flow function.</p>
<p>It executes the following steps.</p>
<ul>
<li>Control the order of execution.</li>
<li>Collect data.</li>
<li>Limit concurrency.</li>
<li>Call the next step in the program.</li>
</ul>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-npm-in-Node-js"><a href="#Q-What-is-npm-in-Node-js" class="headerlink" title="Q. What is npm in Node.js?"></a>Q. <strong><em>What is npm in Node.js?</em></strong></h2><p>NPM stands for Node Package Manager. It provides following two main functionalities.</p>
<ul>
<li>It works as an Online repository for node.js packages/modules which are present at <nodejs.org>.</li>
<li>It works as Command line utility to install packages, do version management and dependency management of Node.js packages.<br>NPM comes bundled along with Node.js installable. We can verify its version using the following command-</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm --version</span><br></pre></td></tr></table></figure>

<p>NPM helps to install any Node.js module using the following command.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install &lt;Module Name&gt;</span><br></pre></td></tr></table></figure>

<p>For example, following is the command to install a famous Node.js web framework module called express-</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-When-to-use-Node-js-and-when-not-to-use-it"><a href="#Q-When-to-use-Node-js-and-when-not-to-use-it" class="headerlink" title="Q. When to use Node.js and when not to use it?"></a>Q. <strong><em>When to use Node.js and when not to use it?</em></strong></h2><p><strong>When to use Node.js</strong> </p>
<p>It is ideal to use Node.js for developing streaming or event-based real-time applications that require less CPU usage such as.</p>
<ul>
<li><p>Chat applications.</p>
</li>
<li><p>Game servers -- Node.js is good for fast and high-performance servers, that face the need to handle thousands of user requests simultaneously.</p>
</li>
<li><p>Good For A Collaborative Environment -- It is suitable for environments where multiple people work together. For example, they post their documents, modify them by doing check-out and check-in of these documents. Node.js supports such situations by creating an event loop for every change made to the document. The “Event loop” feature of Node.js enables it to handle multiple events simultaneously without getting blocked.</p>
</li>
<li><p>Advertisement Servers -- Here again, we have servers that handle thousands of request for downloading advertisements from a central host. And Node.js is an ideal solution to handle such tasks.</p>
</li>
<li><p>Streaming Servers -- Another ideal scenario to use Node.js is for multimedia streaming servers where clients fire request’s towards the server to download different multimedia contents from it.</p>
</li>
</ul>
<p>To summarize, it’s good to use Node.js, when you need high levels of concurrency but less amount of dedicated CPU time.</p>
<p>Last but not the least, since Node.js uses JavaScript internally, so it fits best for building client-side applications that also use JavaScript.</p>
<p><strong>When to not use Node.js</strong></p>
<p>However, we can use Node.js for a variety of applications. But it is a single threaded framework, so we should not use it for cases where the application requires long processing time. If the server is doing some calculation, it won’t be able to process any other requests. Hence, Node.js is best when processing needs less dedicated CPU time.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-Explain-how-does-Node-js-work"><a href="#Q-Explain-how-does-Node-js-work" class="headerlink" title="Q. Explain how does Node.js work?"></a>Q. <strong><em>Explain how does Node.js work?</em></strong></h2><p>A Node.js application creates a single thread on its invocation. Whenever Node.js receives a request, it first completes its processing before moving on to the next request.</p>
<p>Node.js works asynchronously by using the event loop and callback functions, to handle multiple requests coming in parallel. An Event Loop is a functionality which handles and processes all your external events and just converts them to a callback function. It invokes all the event handlers at a proper time. Thus, lots of work is done on the back-end, while processing a single request, so that the new incoming request doesn’t have to wait if the processing is not complete.</p>
<p>While processing a request, Node.js attaches a callback function to it and moves it to the back-end. Now, whenever its response is ready, an event is called which triggers the associated callback function to send this response.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-Is-Node-js-entirely-based-on-a-single-thread"><a href="#Q-Is-Node-js-entirely-based-on-a-single-thread" class="headerlink" title="Q. Is Node.js entirely based on a single-thread?"></a>Q. <strong><em>Is Node.js entirely based on a single-thread?</em></strong></h2><p>Yes, it is true that Node.js processes all requests on a single thread. But it is just a part of the theory behind Node.js design. In fact, more than the single thread mechanism, it makes use of events and callbacks to handle a large no. of requests asynchronously.</p>
<p>Moreover, Node.js has an optimized design which utilizes both JavaScript and C++ to guarantee maximum performance. JavaScript executes at the server-side by Google Chrome v8 engine. And the C++ lib UV library takes care of the non-sequential I/O via background workers.</p>
<p>To explain it practically, let’s assume there are 100s of requests lined up in Node.js queue. As per design, the main thread of Node.js event loop will receive all of them and forwards to background workers for execution. Once the workers finish processing requests, the registered callbacks get notified on event loop thread to pass the result back to the user.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-to-make-post-request-in-Node-js"><a href="#Q-How-to-make-post-request-in-Node-js" class="headerlink" title="Q. How to make post request in Node.js?"></a>Q. <strong><em>How to make post request in Node.js?</em></strong></h2><p>Following code snippet can be used to make a Post Request in Node.js.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> request = <span class="built_in">require</span>(<span class="string">&#x27;request&#x27;</span>);</span><br><span class="line">    request.post(<span class="string">&#x27;http://www.example.com/action&#x27;</span>, &#123; <span class="attr">form</span>: &#123; <span class="attr">key</span>: <span class="string">&#x27;value&#x27;</span> &#125; &#125;,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">error, response, body</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!error &amp;&amp; response.statusCode == <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(body)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-Can-you-create-http-server-in-Node-js-explain-the-code-used-for-it"><a href="#Q-Can-you-create-http-server-in-Node-js-explain-the-code-used-for-it" class="headerlink" title="Q. Can you create http server in Node.js, explain the code used for it?"></a>Q. <strong><em>Can you create http server in Node.js, explain the code used for it?</em></strong></h2><p>Yes, we can create HTTP Server in Node.js. We can use the <code>&lt;http-server&gt;</code> command to do so.</p>
<p>Following is the sample code.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> requestListener = <span class="function"><span class="keyword">function</span> (<span class="params">request, response</span>) </span>&#123;</span><br><span class="line">    response.writeHead(<span class="number">200</span>, &#123;<span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;text/plain&#x27;</span>&#125;);</span><br><span class="line">    response.end(<span class="string">&#x27;Welcome Viewers\n&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> server = http.createServer(requestListener);</span><br><span class="line">server.listen(<span class="number">4200</span>); <span class="comment">// The port where you want to start with.</span></span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-to-load-html-in-Node-js"><a href="#Q-How-to-load-html-in-Node-js" class="headerlink" title="Q. How to load html in Node.js?"></a>Q. <strong><em>How to load html in Node.js?</em></strong></h2><p>To load HTML in Node.js we have to change the “Content-type” in the HTML code from text/plain to text/html.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">fs.readFile(filename, <span class="string">&quot;binary&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, file</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err) &#123; </span><br><span class="line">        response.writeHead(<span class="number">500</span>, &#123;<span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;text/plain&quot;</span>&#125;);</span><br><span class="line">        response.write(err + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        response.end();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">response.writeHead(<span class="number">200</span>);</span><br><span class="line">response.write(file, <span class="string">&quot;binary&quot;</span>);</span><br><span class="line">response.end();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Now we will modify this code to load an HTML page instead of plain text.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">fs.readFile(filename, <span class="string">&quot;binary&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, file</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err) &#123; </span><br><span class="line">        response.writeHead(<span class="number">500</span>, &#123;<span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;text/html&quot;</span>&#125;);</span><br><span class="line">        response.write(err + <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        response.end();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">response.writeHead(<span class="number">200</span>, &#123;<span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;text/html&quot;</span>&#125;);</span><br><span class="line">response.write(file);</span><br><span class="line">response.end();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-can-you-listen-on-port-80-with-Node"><a href="#Q-How-can-you-listen-on-port-80-with-Node" class="headerlink" title="Q. How can you listen on port 80 with Node?"></a>Q. <strong><em>How can you listen on port 80 with Node?</em></strong></h2><p>Instead of running on port 80 we can redirect port 80 to your application&#39;s port (>1024) using</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -t nat -I PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 3000</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-the-difference-between-operational-and-programmer-errors"><a href="#Q-What-is-the-difference-between-operational-and-programmer-errors" class="headerlink" title="Q. What is the difference between operational and programmer errors?"></a>Q. <strong><em>What is the difference between operational and programmer errors?</em></strong></h2><p>Operation errors are not bugs, but problems with the system, like request timeout or hardware failure. On the other hand programmer errors are actual bugs.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-Why-npm-shrinkwrap-is-useful"><a href="#Q-Why-npm-shrinkwrap-is-useful" class="headerlink" title="Q. Why npm shrinkwrap is useful?"></a>Q. <strong><em>Why npm shrinkwrap is useful?</em></strong></h2><p>NPM shrinkwrap lets you lock down the ver­sions of installed pack­ages and their descen­dant pack­ages. It helps you use same package versions on all environments (development, staging, production) and also improve download and installation speed. Having same versions of packages on all environments can help you test systems and deploy with confidence. If all tests pass on one machine, you can be sure that it will pass on all other because you know that you use same code!</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm shrinkwrap</span><br></pre></td></tr></table></figure>

<p>It should create new npm-shrinkwrap.json file with information about all packages you use.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-your-favourite-HTTP-framework-and-why"><a href="#Q-What-is-your-favourite-HTTP-framework-and-why" class="headerlink" title="Q. What is your favourite HTTP framework and why?"></a>Q. <strong><em>What is your favourite HTTP framework and why?</em></strong></h2><p><strong>Express.js</strong></p>
<p>Express provides a thin layer on top of Node.js with web application features such as basic routing, middleware, template engine and static files serving, so the drastic I/O performance of Node.js doesn’t get compromised.</p>
<p>Express is a minimal, un-opinionated framework. it doesn’t apply any of the prevalent design patterns such as MVC, MVP, MVVM or whatever is trending out of the box. For fans of simplicity, this is a big plus among all other frameworks because you can build your application with your own preference and no unnecessary learning curve. This is especially advantageous when creating a new personal project with no historical burden, but as the project or developing team grows, lack of standardization may lead to extra work for project/code management, and worst case scenario it may lead to the inability to maintain.  </p>
<p><strong>Generator</strong></p>
<p>Even though the framework is un-opinionated, it does have the generator that generates specific project folder structure. After installing express-generator npm package and creating application skeleton with generator command, an application folder with clear hierarchy will be created to help you organize images, front-end static JavaScript, stylesheet files and HTML template files.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install express-generator -g</span><br><span class="line">express helloapp</span><br></pre></td></tr></table></figure>

<p><strong>Middleware</strong>  </p>
<p>Middleware are basically just functions that have full access to both request and response objects.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"></span><br><span class="line">app.use(cookieParser());</span><br><span class="line">app.use(bodyParser());</span><br><span class="line">app.use(logger());</span><br><span class="line">app.use(authentication());</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>);</span><br></pre></td></tr></table></figure>

<p>An Express application is essentially Node.js with a host of middleware functions, whether you want to customize your own middleware or take advantage of the built-in middlewares of the framework, Express made the process natural and intuitive.</p>
<p><strong>Template Engine</strong></p>
<p>Template engines allow developer to embed backend variables into HTML files, and when requested the template file will be rendered to plain HTML format with the variables interpolated with their actual values. By default, the express-generator uses Pug (originally known as Jade) template engine, but other options like Mustache and EJS also work with Express seamlessly.</p>
<p><strong>Database Integration</strong>  </p>
<p>As a minimal framework, Express does not consider database integration as a required aspect within its package, thus it leans toward no specific database usage whatsoever. While adopting a particular data storage technology, be it MySQL, MongoDB, PostgreSQL, Redis, ElasticSearch or something else, it’s just a matter of installing the particular npm package as database driver. These third party database drivers do not conform to unified syntax when doing CRUD instructions, which makes switching databases a big hassle and error prone.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-are-the-Challenges-with-Node-js"><a href="#Q-What-are-the-Challenges-with-Node-js" class="headerlink" title="Q. What are the Challenges with Node.js?"></a>Q. <strong><em>What are the Challenges with Node.js?</em></strong></h2><p><strong>Challenges with Node.js Application Maintenance</strong></p>
<p>Improper maintenance of an application can result in issues related to stability or flexibility, often leading to the app&#39;s failure. If the code is not well-written or if developers use outdated tools, the performance can suffer, and users might experience more bugs and app crashes. On top of that, poor-quality code can hamper the app’s scaling capacity and the further development of the application. In the worst case scenario, it might become impossible to introduce new features without rewriting the codebase from scratch.</p>
<ol>
<li>Extensive stack</li>
<li>Technical Debt</li>
<li>Scalability challanges</li>
<li>Poor documentation</li>
</ol>
<p><strong>How to Deal With Maintenance Problems</strong></p>
<ol>
<li>Conduct code review</li>
<li>Use microservices</li>
<li>Improve code quality</li>
<li>Test before new feature implementation</li>
<li>Improve documentation</li>
<li>Update the stack</li>
<li>Dig into the roots</li>
</ol>
<h2 id="Q-What-is-the-difference-between-Node-js-vs-Ajax"><a href="#Q-What-is-the-difference-between-Node-js-vs-Ajax" class="headerlink" title="Q. What is the difference between Node.js vs Ajax?"></a>Q. <strong><em>What is the difference between Node.js vs Ajax?</em></strong></h2><p><strong>1. AJAX</strong></p>
<p>AJAX stands for Asynchronous Javascript and XML, it’s used to allow web pages (client-side) to update asynchronously by communicating with a web server and by exchanging data. This essentially means that applications can talk to a server in the background of the application. It uses some core components to function:</p>
<ol>
<li>The browser <code>XMLHttpRequest</code> object to request data from a server</li>
<li>HTML/CSS to display or collect data</li>
<li>DOM for dynamic display</li>
<li>JSON/XML for interchanging the data</li>
<li>Javascript to unify everything</li>
</ol>
<p><strong>2. Node.js</strong></p>
<p>Node.js allows the developers to develop a web application in a single language called JavaScript for both client side and server side.</p>
<p>Unlike the other programming languages, Node.js has its cycle of the event in the form of language which is very beneficial for high-performance and scalable application development.</p>
<p>It is required for those web applications where traffic rate is very high. Node.js is an event based I/O language and its response time is very high rather than the other traditional languages. It is being used by the famous websites like Linked in, Twitter and Gmail.</p>
<p>The runtime environment of Node.js interprets JavaScript, which is very easy and simple to understand and code. Due to this reason, even the developers find it easy going which keeps them happy and relaxed. It is pertinent for real-time collaborative apps.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-Node-js-overcomes-the-problem-of-blocking-of-I-O-operations"><a href="#Q-How-Node-js-overcomes-the-problem-of-blocking-of-I-O-operations" class="headerlink" title="Q. How Node.js overcomes the problem of blocking of I/O operations?"></a>Q. <strong><em>How Node.js overcomes the problem of blocking of I/O operations?</em></strong></h2><p>Node.js solves this problem by putting the event based model at its core, using an event loop instead of threads. </p>
<p>Node.js uses an event loop for this. An event loop is “an entity that handles and processes external events and converts them into callback invocations”. Whenever data is needed nodejs registers a callback and sends the operation to this event loop. Whenever the data is available the callback is called.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-Mention-the-steps-by-which-you-can-async-in-Node-js"><a href="#Q-Mention-the-steps-by-which-you-can-async-in-Node-js" class="headerlink" title="Q. Mention the steps by which you can async in Node.js?"></a>Q. <strong><em>Mention the steps by which you can async in Node.js?</em></strong></h2><p>ES 2017 introduced Asynchronous functions. Async functions are essentially a cleaner way to work with asynchronous code in JavaScript. </p>
<p><strong>Async/Await</strong></p>
<ul>
<li>The newest way to write asynchronous code in JavaScript.</li>
<li>It is non blocking (just like promises and callbacks).</li>
<li>Async/Await was created to simplify the process of working with and writing chained promises.</li>
<li>Async functions return a Promise. If the function throws an error, the Promise will be rejected. If the function returns a value, the Promise will be resolved.  </li>
</ul>
<p>Syntax</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Normal Function</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Async Function</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Await</strong></p>
<p>Async functions can make use of the await expression. This will pause the async function and wait for the Promise to resolve prior to moving on.  </p>
<p><em>Example</em>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doubleAfter2Seconds</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      resolve(x * <span class="number">2</span>);</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">addAsync</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> a = <span class="keyword">await</span> doubleAfter2Seconds(<span class="number">10</span>);</span><br><span class="line">  <span class="keyword">const</span> b = <span class="keyword">await</span> doubleAfter2Seconds(<span class="number">20</span>);</span><br><span class="line">  <span class="keyword">const</span> c = <span class="keyword">await</span> doubleAfter2Seconds(<span class="number">30</span>);</span><br><span class="line">  <span class="keyword">return</span> x + a + b + c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">addAsync(<span class="number">10</span>).then(<span class="function">(<span class="params">sum</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(sum);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-are-the-timing-features-of-Node-js"><a href="#Q-What-are-the-timing-features-of-Node-js" class="headerlink" title="Q. What are the timing features of Node.js?"></a>Q. <strong><em>What are the timing features of Node.js?</em></strong></h2><p>The Performance Timing API provides an implementation of the W3C Performance Timeline specification. The purpose of the API is to support collection of high resolution performance metrics. This is the same Performance API as implemented in modern Web browsers.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; PerformanceObserver, performance &#125; = <span class="built_in">require</span>(<span class="string">&#x27;perf_hooks&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obs = <span class="keyword">new</span> PerformanceObserver(<span class="function">(<span class="params">items</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(items.getEntries()[<span class="number">0</span>].duration);</span><br><span class="line">  performance.clearMarks();</span><br><span class="line">&#125;);</span><br><span class="line">obs.observe(&#123; <span class="attr">entryTypes</span>: [<span class="string">&#x27;measure&#x27;</span>] &#125;);</span><br><span class="line"></span><br><span class="line">performance.mark(<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">doSomeLongRunningProcess(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  performance.mark(<span class="string">&#x27;B&#x27;</span>);</span><br><span class="line">  performance.measure(<span class="string">&#x27;A to B&#x27;</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong><code>request</code> module</strong><br>The popular request module has a built-in method to measure HTTP timings. You can enable it with the time property.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> request = <span class="built_in">require</span>(<span class="string">&#x27;request&#x27;</span>)</span><br><span class="line"></span><br><span class="line">request(&#123;</span><br><span class="line">  uri: <span class="string">&#x27;https://nodejs.org&#x27;</span>,</span><br><span class="line">  method: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">  time: <span class="literal">true</span></span><br><span class="line">&#125;, <span class="function">(<span class="params">err, resp</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err || resp.timings)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-LTS-releases-of-Node-js-why-should-you-care"><a href="#Q-What-is-LTS-releases-of-Node-js-why-should-you-care" class="headerlink" title="Q. What is LTS releases of Node.js why should you care?"></a>Q. <strong><em>What is LTS releases of Node.js why should you care?</em></strong></h2><p>An LTS(Long Term Support) version of Node.js receives all the critical bug fixes, security updates and performance</p>
<p>LTS versions of Node.js are supported for at least 18 months and are indicated by even version numbers (e.g. 4, 6, 8). They’re best for production since the LTS release line is focussed on stability and security, whereas the Current release line has a shorter lifespan and more frequent updates to the code. Changes to LTS versions are limited to bug fixes for stability, security updates, possible npm updates, documentation updates and certain performance improvements that can be demonstrated to not break existing applications.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-Why-should-you-separate-Express-app-and-server"><a href="#Q-Why-should-you-separate-Express-app-and-server" class="headerlink" title="Q. Why should you separate Express 'app' and 'server'?"></a>Q. <strong><em>Why should you separate Express 'app' and 'server'?</em></strong></h2><p>Keeping the API declaration separated from the network related configuration (port, protocol, etc) allows testing the API in-process, without performing network calls, with all the benefits that it brings to the table: fast testing execution and getting coverage metrics of the code. It also allows deploying the same API under flexible and different network conditions. Bonus: better separation of concerns and cleaner code.</p>
<p>API declaration, should reside in app.js:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line">app.use(bodyParser.json());</span><br><span class="line">app.use(<span class="string">&quot;/api/events&quot;</span>, events.API);</span><br><span class="line">app.use(<span class="string">&quot;/api/forms&quot;</span>, forms);</span><br></pre></td></tr></table></figure>

<p>Server network declaration, should reside in /bin/www:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="built_in">require</span>(<span class="string">&#x27;../app&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Get port from environment and store in Express.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> port = normalizePort(process.env.PORT || <span class="string">&#x27;3000&#x27;</span>);</span><br><span class="line">app.set(<span class="string">&#x27;port&#x27;</span>, port);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Create HTTP server.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = http.createServer(app);</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-the-difference-between-process-nextTick-and-setImmediate"><a href="#Q-What-is-the-difference-between-process-nextTick-and-setImmediate" class="headerlink" title="Q. What is the difference between process.nextTick() and setImmediate()?"></a>Q. <strong><em>What is the difference between process.nextTick() and setImmediate()?</em></strong></h2><p>The difference between <code>process.nextTick()</code> and <code>setImmediate()</code> is that <code>process.nextTick()</code> defers the execution of an action till the next pass around the event loop or it simply calls the callback function once the ongoing execution of the event loop is finished whereas <code>setImmediate()</code> executes a callback on the next cycle of the event loop and it gives back to the event loop for executing any I/O operations.</p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-difference-between-JavaScript-and-Node-js"><a href="#Q-What-is-difference-between-JavaScript-and-Node-js" class="headerlink" title="Q. What is difference between JavaScript and Node.js?"></a>Q. <strong><em>What is difference between JavaScript and Node.js?</em></strong></h2><table>
<thead>
<tr>
<th></th>
<th>JavaScript</th>
<th>Node JS</th>
</tr>
</thead>
<tbody><tr>
<td>Type</td>
<td>JavaScript is a programming language. It running in any web browser with a proper browser engine.</td>
<td>It is an interpreter and environment for JavaScript with some specific useful libraries which JavaScript programming can use separately.</td>
</tr>
<tr>
<td>Utility</td>
<td>Mainly using for any client-side activity for a web application, like possible attribute validation or refreshing the page in a specific interval or provide some dynamic changes in web pages without refreshing the page.</td>
<td>It mainly used for accessing or performing any non-blocking operation of any operating system, like creating or executing a shell script or accessing any hardware specific information or running any backend job.</td>
</tr>
<tr>
<td>Running Engine</td>
<td>JavaScript running any engine like Spider monkey (FireFox), JavaScript Core (Safari), V8 (Google Chrome).</td>
<td>Node JS only run in a V8 engine which mainly used by google chrome. And javascript program which will be written under this Node JS will be always run in V8 Engine.</td>
</tr>
</tbody></table>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-are-the-difference-between-Events-and-Callbacks"><a href="#Q-What-are-the-difference-between-Events-and-Callbacks" class="headerlink" title="Q. What are the difference between Events and Callbacks?"></a>Q. <strong><em>What are the difference between Events and Callbacks?</em></strong></h2><p>Node.js is a single-threaded application, but it support concurrency via the concept of <strong>event</strong> and <strong>callbacks</strong>. Every API of Node.js is asynchronous and being single-threaded, they use async function calls to maintain concurrency. Node thread keeps an event loop and whenever a task gets completed, it fires the corresponding event which signals the event-listener function to execute.</p>
<p>callback functions are called when an asynchronous function returns its result, whereas event handling works on the <strong>observer pattern</strong>. The functions that listen to events act as Observers. Whenever an event gets fired, its listener function starts executing. Node.js has multiple in-built events available through events module and EventEmitter class which are used to bind events and event-listeners</p>
<p><strong>1. Callback</strong>: A callback function is a function passed into another function as an argument, which is then invoked inside the outer function to complete some kind of routine or action.</p>
<p><em>Example</em>: synchronous callback</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greeting</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">&#x27;Hello &#x27;</span> + name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">processUserInput</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = prompt(<span class="string">&#x27;Please enter your name.&#x27;</span>);</span><br><span class="line">  callback(name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">processUserInput(greeting);</span><br></pre></td></tr></table></figure>

<p><strong>2. Events</strong>: Every action on a computer is an event. Node.js allows us to create and handle custom events easily by using events module. Event module includes <code>EventEmitter</code> class which can be used to raise and handle custom events.</p>
<p><em>Example</em>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> event = <span class="built_in">require</span>(<span class="string">&#x27;events&#x27;</span>);  </span><br><span class="line"><span class="keyword">var</span> eventEmitter = <span class="keyword">new</span> event.EventEmitter();  </span><br><span class="line">  </span><br><span class="line"><span class="comment">//  Add listener function for Sum event  </span></span><br><span class="line">eventEmitter.on(<span class="string">&#x27;Sum&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">num1, num2</span>) </span>&#123;  </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Total: &#x27;</span> + (<span class="built_in">Number</span>(num1) + <span class="built_in">Number</span>(num2)));  </span><br><span class="line">&#125;);  </span><br><span class="line"></span><br><span class="line"><span class="comment">//  Call Event.  </span></span><br><span class="line">eventEmitter.emit(<span class="string">&#x27;Sum&#x27;</span>, <span class="string">&#x27;10&#x27;</span>, <span class="string">&#x27;20&#x27;</span>);</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-Explain-RESTful-Web-Services-in-Node-js"><a href="#Q-Explain-RESTful-Web-Services-in-Node-js" class="headerlink" title="Q. Explain RESTful Web Services in Node.js?"></a>Q. <strong><em>Explain RESTful Web Services in Node.js?</em></strong></h2><p>REST stands for REpresentational State Transfer. REST is web standards based architecture and uses HTTP Protocol.<br>It is an architectural style as well as an approach for communications purposes that is often used in various web services development. A REST Server simply provides access to resources and REST client accesses and modifies the resources using HTTP protocol.</p>
<p><strong>HTTP methods</strong></p>
<ul>
<li><code>GET</code> − Provides read-only access to a resource.</li>
<li><code>PUT</code> − Creates a new resource.</li>
<li><code>DELETE</code> − Removes a resource.</li>
<li><code>POST</code> − Updates an existing resource or creates a new resource.</li>
<li><code>PATCH</code>− Update/modify a resource</li>
</ul>
<p><strong>Principles of REST</strong></p>
<ul>
<li>Uniform Interface</li>
<li>Stateless</li>
<li>Cacheable</li>
<li>Client-Server</li>
<li>Layered System</li>
<li>Code on Demand (optional)</li>
</ul>
<p><em>Example</em>:</p>
<p><strong>users.json</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="attr">&quot;user1&quot;</span> : &#123;</span><br><span class="line">      <span class="attr">&quot;id&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">&quot;name&quot;</span> : <span class="string">&quot;Ehsan Philip&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;age&quot;</span> : <span class="number">24</span></span><br><span class="line">   &#125;,</span><br><span class="line"></span><br><span class="line">   <span class="attr">&quot;user2&quot;</span> : &#123;</span><br><span class="line">      <span class="attr">&quot;id&quot;</span>: <span class="number">2</span>,</span><br><span class="line">      <span class="attr">&quot;name&quot;</span> : <span class="string">&quot;Karim Jimenez&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;age&quot;</span> : <span class="number">22</span></span><br><span class="line">   &#125;,</span><br><span class="line"></span><br><span class="line">   <span class="attr">&quot;user3&quot;</span> : &#123;</span><br><span class="line">      <span class="attr">&quot;id&quot;</span>: <span class="number">3</span>,</span><br><span class="line">      <span class="attr">&quot;name&quot;</span> : <span class="string">&quot;Giacomo Weir&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;age&quot;</span> : <span class="number">18</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>List Users</strong> ( <code>GET</code> method)</p>
<p>Let&#39;s implement our first RESTful API listUsers using the following code in a server.js file −</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/listUsers&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">   fs.readFile( __dirname + <span class="string">&quot;/&quot;</span> + <span class="string">&quot;users.json&quot;</span>, <span class="string">&#x27;utf8&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log( data );</span><br><span class="line">      res.end( data );</span><br><span class="line">   &#125;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> host = server.address().address</span><br><span class="line">   <span class="keyword">var</span> port = server.address().port</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;App listening at http://%s:%s&quot;</span>, host, port)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>Add User</strong> ( <code>POST</code> method )</p>
<p>Following API will show you how to add new user in the list. </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> user = &#123;</span><br><span class="line">   <span class="string">&quot;user4&quot;</span> : &#123;</span><br><span class="line">      <span class="string">&quot;id&quot;</span>: <span class="number">4</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span> : <span class="string">&quot;Spencer Amos&quot;</span>,</span><br><span class="line">      <span class="string">&quot;age&quot;</span> : <span class="number">28</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app.post(<span class="string">&#x27;/addUser&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">   <span class="comment">// First read existing users.</span></span><br><span class="line">   fs.readFile( __dirname + <span class="string">&quot;/&quot;</span> + <span class="string">&quot;users.json&quot;</span>, <span class="string">&#x27;utf8&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">      data = <span class="built_in">JSON</span>.parse( data );</span><br><span class="line">      data[<span class="string">&quot;user4&quot;</span>] = user[<span class="string">&quot;user4&quot;</span>];</span><br><span class="line">      <span class="built_in">console</span>.log( data );</span><br><span class="line">      res.end( <span class="built_in">JSON</span>.stringify(data));</span><br><span class="line">   &#125;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> host = server.address().address</span><br><span class="line">   <span class="keyword">var</span> port = server.address().port</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;App listening at http://%s:%s&quot;</span>, host, port)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>Delete User</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> id = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">app.delete(<span class="string">&#x27;/deleteUser&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">   <span class="comment">// First read existing users.</span></span><br><span class="line">   fs.readFile( __dirname + <span class="string">&quot;/&quot;</span> + <span class="string">&quot;users.json&quot;</span>, <span class="string">&#x27;utf8&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">      data = <span class="built_in">JSON</span>.parse( data );</span><br><span class="line">      <span class="keyword">delete</span> data[<span class="string">&quot;user&quot;</span> + <span class="number">2</span>];</span><br><span class="line">      <span class="built_in">console</span>.log( data );</span><br><span class="line">      res.end( <span class="built_in">JSON</span>.stringify(data));</span><br><span class="line">   &#125;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> host = server.address().address</span><br><span class="line">   <span class="keyword">var</span> port = server.address().port</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&quot;App listening at http://%s:%s&quot;</span>, host, port)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-to-handle-file-upload-in-Node-js"><a href="#Q-How-to-handle-file-upload-in-Node-js" class="headerlink" title="Q. How to handle file upload in Node.js?"></a>Q. <strong><em>How to handle file upload in Node.js?</em></strong></h2><ul>
<li><strong>express</strong>: Popular web framework built on top of Node.js, used for creating REST-API.</li>
<li><strong>body-parser</strong>: Parse incoming request bodies in a middleware</li>
<li><strong>multer</strong>: Middleware for handling multipart/form-data — file uploads</li>
</ul>
<p><strong>1. Installing the dependencies</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express body-parser multer --save</span><br></pre></td></tr></table></figure>

<p><strong>2. Package.json</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;file_upload&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.0.1&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;express&quot;</span>: <span class="string">&quot;4.13.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;multer&quot;</span>: <span class="string">&quot;1.1.0&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;should&quot;</span>: <span class="string">&quot;~7.1.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;mocha&quot;</span>: <span class="string">&quot;~2.3.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;supertest&quot;</span>: <span class="string">&quot;~1.1.0&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>3. Server.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> bodyParser = <span class="built_in">require</span>(<span class="string">&#x27;body-parser&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> multer  = <span class="built_in">require</span>(<span class="string">&#x27;multer&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"></span><br><span class="line"><span class="comment">// for text/number data transfer between clientg and server</span></span><br><span class="line">app.use(bodyParser());</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> storage =   multer.diskStorage(&#123;</span><br><span class="line">  destination: <span class="function"><span class="keyword">function</span> (<span class="params">req, file, callback</span>) </span>&#123;</span><br><span class="line">    callback(<span class="literal">null</span>, <span class="string">&#x27;./uploads&#x27;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  filename: <span class="function"><span class="keyword">function</span> (<span class="params">req, file, callback</span>) </span>&#123;</span><br><span class="line">    callback(<span class="literal">null</span>, file.fieldname + <span class="string">&#x27;-&#x27;</span> + <span class="built_in">Date</span>.now());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> upload = multer(&#123; <span class="attr">storage</span> : storage&#125;).single(<span class="string">&#x27;userPhoto&#x27;</span>);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">      res.sendFile(__dirname + <span class="string">&quot;/index.html&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// POST: upload for single file upload</span></span><br><span class="line">app.post(<span class="string">&#x27;/api/photo&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    upload(req,res,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err) &#123;</span><br><span class="line">            <span class="keyword">return</span> res.end(<span class="string">&quot;Error uploading file.&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        res.end(<span class="string">&quot;File is uploaded&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;Listening on port 3000&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>4. index.html</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Multer-File-Upload<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>MULTER File Upload | Single File Upload<span class="tag">&lt;/<span class="name">h1</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span> = <span class="string">&quot;uploadForm&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">enctype</span> = <span class="string">&quot;multipart/form-data&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">action</span> = <span class="string">&quot;/api/photo&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">method</span> = <span class="string">&quot;post&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;userPhoto&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Upload Image&quot;</span> <span class="attr">name</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-Explain-the-terms-body-parser-cookie-parser-morgan-nodemon-pm2-serve-favicon-cors-dotenv-fs-extra-moment-in-Express-JS"><a href="#Q-Explain-the-terms-body-parser-cookie-parser-morgan-nodemon-pm2-serve-favicon-cors-dotenv-fs-extra-moment-in-Express-JS" class="headerlink" title="Q. Explain the terms body-parser, cookie-parser, morgan, nodemon, pm2, serve-favicon, cors, dotenv, fs-extra, moment in Express JS?"></a>Q. <strong><em>Explain the terms body-parser, cookie-parser, morgan, nodemon, pm2, serve-favicon, cors, dotenv, fs-extra, moment in Express JS?</em></strong></h2><p><strong>a) body-parser</strong></p>
<p><code>body-parser</code> extract the entire body portion of an incoming request stream and exposes it on <code>req.body</code>. This body-parser module parses the JSON, buffer, string and URL encoded data submitted using HTTP POST request.</p>
<p><em>Example</em>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express ejs body-parser</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// server.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> bodyParser = <span class="built_in">require</span>(<span class="string">&#x27;body-parser&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="comment">// create application/json parser</span></span><br><span class="line"><span class="keyword">var</span> jsonParser = bodyParser.json()</span><br><span class="line"></span><br><span class="line"><span class="comment">// create application/x-www-form-urlencoded parser</span></span><br><span class="line"><span class="keyword">var</span> urlencodedParser = bodyParser.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// POST /login gets urlencoded bodies</span></span><br><span class="line">app.post(<span class="string">&#x27;/login&#x27;</span>, urlencodedParser, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">&#x27;welcome, &#x27;</span> + req.body.username)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// POST /api/users gets JSON bodies</span></span><br><span class="line">app.post(<span class="string">&#x27;/api/users&#x27;</span>, jsonParser, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// create user in req.body</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>b) cookie-parser</strong></p>
<p>A cookie is a piece of data that is sent to the client-side with a request and is stored on the client-side itself by the Web Browser the user is currently using.</p>
<p>The <code>cookie-parser</code> middleware&#39;s cookieParser function takes a <code>secret</code> string or array of strings as the first argument and an <code>options</code> object as the second argument.</p>
<p><strong>Installation</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install cookie-parser</span><br></pre></td></tr></table></figure>

<p><em>Example</em>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> cookieParser = <span class="built_in">require</span>(<span class="string">&#x27;cookie-parser&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line">app.use(cookieParser())</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Cookies that have not been signed</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Cookies: &#x27;</span>, req.cookies)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Cookies that have been signed</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Signed Cookies: &#x27;</span>, req.signedCookies)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>)</span><br></pre></td></tr></table></figure>

<p><strong>c) morgan</strong></p>
<p>HTTP request logger middleware for node.js.</p>
<p><strong>Installation</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install morgan</span><br></pre></td></tr></table></figure>

<p><em>Example</em>: write logs to a file</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> morgan = <span class="built_in">require</span>(<span class="string">&#x27;morgan&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="comment">// create a write stream (in append mode)</span></span><br><span class="line"><span class="keyword">var</span> accessLogStream = fs.createWriteStream(path.join(__dirname, <span class="string">&#x27;access.log&#x27;</span>), &#123; <span class="attr">flags</span>: <span class="string">&#x27;a&#x27;</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// setup the logger</span></span><br><span class="line">app.use(morgan(<span class="string">&#x27;combined&#x27;</span>, &#123; <span class="attr">stream</span>: accessLogStream &#125;))</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">&#x27;hello, world!&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>d) nodemon</strong></p>
<p>Nodemon is a utility that will monitor for any changes in source and automatically restart your server.</p>
<p><strong>Installation</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g nodemon</span><br></pre></td></tr></table></figure>

<p><em>Example</em>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: <span class="string">&quot;nodemon server.js&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>e) pm2</strong></p>
<p><strong>P</strong>(rocess) <strong>M</strong>(anager) <strong>2</strong> (pm2) is a production process manager for Node.js applications with a built-in load balancer. It allows to keep applications alive forever, to reload them without downtime and to facilitate common system admin tasks.</p>
<p><strong>Installation</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install pm2 -g</span><br></pre></td></tr></table></figure>

<p><strong>Start an application</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 start app.js</span><br></pre></td></tr></table></figure>

<p><strong>[<a target="_blank" rel="noopener" href="https://pm2.keymetrics.io/docs/usage/quick-start/">Read More</a>]</strong></p>
<p><strong>f) serve-favicon</strong></p>
<p>Node.js middleware for serving a favicon. The <code>serve-favicon</code> module lets us exclude requests for the favicon in our logger middleware. It also caches the icon in memory to improve performance by reducing disk access. In addition, it provides an <code>ETag</code> based on the contents of the icon, rather than file system properties.</p>
<p><strong>Installation</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install serve-favicon</span><br></pre></td></tr></table></figure>

<p><em>Example</em>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> favicon = <span class="built_in">require</span>(<span class="string">&#x27;serve-favicon&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line">app.use(favicon(path.join(__dirname, <span class="string">&#x27;public&#x27;</span>, <span class="string">&#x27;favicon.ico&#x27;</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment">// Add your routes here, etc.</span></span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>)</span><br></pre></td></tr></table></figure>

<p><strong>g) cors</strong></p>
<p><strong>C</strong>ross-<strong>O</strong>rigin <strong>R</strong>esource <strong>S</strong>haring (CORS) headers allow apps running in the browser to make requests to servers on different domains (also known as origins). CORS headers are set on the server side - the HTTP server is responsible for indicating that a given HTTP request can be cross-origin. CORS defines a way in which a browser and server can interact and determine whether or not it is safe to allow a cross-origin request.</p>
<p><strong>Installation</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install cors</span><br></pre></td></tr></table></figure>

<p><strong>Example: Enable All CORS Requests</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> cors = <span class="built_in">require</span>(<span class="string">&#x27;cors&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line"></span><br><span class="line">app.use(cors())</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/products/:id&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  res.json(&#123;<span class="attr">msg</span>: <span class="string">&#x27;This is CORS-enabled for all origins!&#x27;</span>&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8080</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;CORS-enabled web server listening on port 80&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>Example: Enable CORS for a Single Route</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> cors = <span class="built_in">require</span>(<span class="string">&#x27;cors&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/products/:id&#x27;</span>, cors(), <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  res.json(&#123;<span class="attr">msg</span>: <span class="string">&#x27;This is CORS-enabled for a Single Route&#x27;</span>&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8080</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;CORS-enabled web server listening on port 80&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>h) dotenv</strong></p>
<p>When a NodeJs application runs, it injects a global variable called <code>process.env</code> which contains information about the state of environment in which the application is running. The <code>dotenv</code> loads environment variables stored in the <code>.env</code> file into <code>process.env</code>.</p>
<p><strong>Installation</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install dotenv</span><br></pre></td></tr></table></figure>

<p><strong>Usage</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .env</span></span><br><span class="line"></span><br><span class="line">DB_HOST=localhost</span><br><span class="line">DB_USER=admin</span><br><span class="line">DB_PASS=root</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// config.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> db = <span class="built_in">require</span>(<span class="string">&#x27;db&#x27;</span>)</span><br><span class="line"></span><br><span class="line">db.connect(&#123;</span><br><span class="line">  host: process.env.DB_HOST,</span><br><span class="line">  username: process.env.DB_USER,</span><br><span class="line">  password: process.env.DB_PASS</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>i) fs-extra</strong></p>
<p><code>fs-extra</code> contains methods that aren&#39;t included in the vanilla Node.js fs package. Such as recursive <code>mkdir</code>, <code>copy</code>, and <code>remove</code>. It also uses graceful-fs to prevent <code>EMFILE</code> errors.</p>
<p><strong>Installation</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install fs-extra</span><br></pre></td></tr></table></figure>

<p><strong>Usage</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs-extra&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Async with callbacks:</span></span><br><span class="line">fs.copy(<span class="string">&#x27;/tmp/myfile&#x27;</span>, <span class="string">&#x27;/tmp/mynewfile&#x27;</span>, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.error(err)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;success!&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>j) moment</strong></p>
<p>A JavaScript date library for parsing, validating, manipulating, and formatting dates.</p>
<p><strong>Installation</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install moment --save</span><br></pre></td></tr></table></figure>

<p><strong>Usage</strong></p>
<ul>
<li>Format Dates</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moment = <span class="built_in">require</span>(<span class="string">&#x27;moment&#x27;</span>);</span><br><span class="line"></span><br><span class="line">moment().format(<span class="string">&#x27;MMMM Do YYYY, h:mm:ss a&#x27;</span>); <span class="comment">// October 24th 2020, 3:15:22 pm</span></span><br><span class="line">moment().format(<span class="string">&#x27;dddd&#x27;</span>);                    <span class="comment">// Saturday</span></span><br><span class="line">moment().format(<span class="string">&quot;MMM Do YY&quot;</span>);               <span class="comment">// Oct 24th 20</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Relative Time</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moment = <span class="built_in">require</span>(<span class="string">&#x27;moment&#x27;</span>);</span><br><span class="line"></span><br><span class="line">moment(<span class="string">&quot;20111031&quot;</span>, <span class="string">&quot;YYYYMMDD&quot;</span>).fromNow(); <span class="comment">// 9 years ago</span></span><br><span class="line">moment(<span class="string">&quot;20120620&quot;</span>, <span class="string">&quot;YYYYMMDD&quot;</span>).fromNow(); <span class="comment">// 8 years ago</span></span><br><span class="line">moment().startOf(<span class="string">&#x27;day&#x27;</span>).fromNow();        <span class="comment">// 15 hours ago</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Calendar Time</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moment = <span class="built_in">require</span>(<span class="string">&#x27;moment&#x27;</span>);</span><br><span class="line"></span><br><span class="line">moment().subtract(<span class="number">10</span>, <span class="string">&#x27;days&#x27;</span>).calendar(); <span class="comment">// 10/14/2020</span></span><br><span class="line">moment().subtract(<span class="number">6</span>, <span class="string">&#x27;days&#x27;</span>).calendar();  <span class="comment">// Last Sunday at 3:18 PM</span></span><br><span class="line">moment().subtract(<span class="number">3</span>, <span class="string">&#x27;days&#x27;</span>).calendar();  <span class="comment">// Last Wednesday at 3:18 PM</span></span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-does-routing-work-in-Node-js"><a href="#Q-How-does-routing-work-in-Node-js" class="headerlink" title="Q. How does routing work in Node.js?"></a>Q. <strong><em>How does routing work in Node.js?</em></strong></h2><p>Routing defines the way in which the client requests are handled by the application endpoints. We define routing using methods of the Express app object that correspond to HTTP methods; for example, <code>app.get()</code> to handle <code>GET</code> requests and <code>app.post</code> to handle <code>POST</code> requests, <code>app.all()</code> to handle all HTTP methods and <code>app.use()</code> to specify middleware as the callback function.</p>
<p>These routing methods "listens" for requests that match the specified route(s) and method(s), and when it detects a match, it calls the specified callback function.</p>
<p><em>Syntax</em>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.METHOD(PATH, HANDLER)</span><br></pre></td></tr></table></figure>

<p>Where:</p>
<ul>
<li>app is an instance of express.</li>
<li>METHOD is an <code>HTTP request method</code>.</li>
<li>PATH is a path on the server.</li>
<li>HANDLER is the function executed when the route is matched.</li>
</ul>
<p><strong>a) Route methods</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GET method route</span></span><br><span class="line">app.get(<span class="string">&#x27;/&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">&#x27;GET request&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// POST method route</span></span><br><span class="line">app.post(<span class="string">&#x27;/login&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">&#x27;POST request&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ALL method route</span></span><br><span class="line">app.all(<span class="string">&#x27;/secret&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Accessing the secret section ...&#x27;</span>)</span><br><span class="line">  next() <span class="comment">// pass control to the next handler</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>b) Route paths</strong></p>
<p>Route paths, in combination with a request method, define the endpoints at which requests can be made. Route paths can be strings, string patterns, or regular expressions.</p>
<p>The characters <code>?</code>, <code>+</code>, <code>*</code>, and <code>()</code> are subsets of their regular expression counterparts. The hyphen <code>(-)</code> and the dot <code>(.)</code> are interpreted literally by string-based paths.</p>
<p><em>Example</em>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This route path will match requests to /about.</span></span><br><span class="line">app.get(<span class="string">&#x27;/about&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">&#x27;about&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// This route path will match acd and abcd.</span></span><br><span class="line">app.get(<span class="string">&#x27;/ab?cd&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">&#x27;ab?cd&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// This route path will match butterfly and dragonfly</span></span><br><span class="line">app.get(<span class="regexp">/.*fly$/</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">&#x27;/.*fly$/&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>c) Route parameters</strong></p>
<p>Route parameters are named URL segments that are used to capture the values specified at their position in the URL. The captured values are populated in the <code>req.params</code> object, with the name of the route parameter specified in the path as their respective keys.</p>
<p><em>Example</em>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="string">&#x27;/users/:userId&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(req.params)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>Response methods</strong></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>res.download()</code></td>
<td>Prompt a file to be downloaded.</td>
</tr>
<tr>
<td><code>res.end()</code></td>
<td>End the response process.</td>
</tr>
<tr>
<td><code>res.json()</code></td>
<td>Send a JSON response.</td>
</tr>
<tr>
<td><code>res.jsonp()</code></td>
<td>Send a JSON response with JSONP support.</td>
</tr>
<tr>
<td><code>res.redirect()</code></td>
<td>Redirect a request.</td>
</tr>
<tr>
<td><code>res.render()</code></td>
<td>Render a view template.</td>
</tr>
<tr>
<td><code>res.send()</code></td>
<td>Send a response of various types.</td>
</tr>
<tr>
<td><code>res.sendFile()</code></td>
<td>Send a file as an octet stream.</td>
</tr>
<tr>
<td><code>res.sendStatus()</code></td>
<td>Set the response status code and send its string representation as the response body.</td>
</tr>
</tbody></table>
<p><strong>d) Router method</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> router = express.Router()</span><br><span class="line"></span><br><span class="line"><span class="comment">// middleware that is specific to this router</span></span><br><span class="line">router.use(<span class="function"><span class="keyword">function</span> <span class="title">timeLog</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Time: &#x27;</span>, <span class="built_in">Date</span>.now())</span><br><span class="line">  next()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// define the home page route</span></span><br><span class="line">router.get(<span class="string">&#x27;/&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">&#x27;Birds home page&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// define the about route</span></span><br><span class="line">router.get(<span class="string">&#x27;/about&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">&#x27;About birds&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = router</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-node-js-prevents-blocking-code"><a href="#Q-How-node-js-prevents-blocking-code" class="headerlink" title="Q. How node.js prevents blocking code?"></a>Q. <strong><em>How node.js prevents blocking code?</em></strong></h2><p><strong>Blocking vs Non-blocking</strong></p>
<p><strong>Blocking</strong> is when the execution of additional JavaScript in the Node.js process must wait until a non-JavaScript operation completes. This happens because the event loop is unable to continue running JavaScript while a <strong>blocking</strong> operation is occurring.</p>
<p>Synchronous methods in the Node.js standard library that use <strong>libuv</strong> are the most commonly used blocking operations. Native modules may also have blocking methods. Blocking methods execute <code>synchronously</code> and non-blocking methods execute <code>asynchronously</code>.</p>
<p><em>Example:</em></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Blocking</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> data = fs.readFileSync(<span class="string">&#x27;/file.md&#x27;</span>); <span class="comment">// blocks here until file is read</span></span><br><span class="line"><span class="built_in">console</span>.log(data);</span><br><span class="line">moreWork(); <span class="comment">// will run after console.log</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Non-blocking</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line">fs.readFile(<span class="string">&#x27;/file.md&#x27;</span>, <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">  <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;);</span><br><span class="line">moreWork(); <span class="comment">// will run before console.log</span></span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-What-is-difference-between-promises-and-async-await-in-Node-js"><a href="#Q-What-is-difference-between-promises-and-async-await-in-Node-js" class="headerlink" title="Q. What is difference between promises and async-await in Node.js?"></a>Q. <strong><em>What is difference between promises and async-await in Node.js?</em></strong></h2><p><strong>1. Promises</strong></p>
<p>A promise is used to handle the asynchronous result of an operation. JavaScript is designed to not wait for an asynchronous block of code to completely execute before other synchronous parts of the code can run. With Promises, we can defer the execution of a code block until an async request is completed. This way, other operations can keep running without interruption.</p>
<p><strong>States of Promises:</strong></p>
<ul>
<li><code>Pending</code>: Initial State, before the Promise succeeds or fails.</li>
<li><code>Resolved</code>: Completed Promise</li>
<li><code>Rejected</code>: Failed Promise, throw an error</li>
</ul>
<p><em>Example:</em></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logFetch</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> fetch(url)</span><br><span class="line">    .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(response);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(<span class="string">&#x27;fetch failed&#x27;</span>, err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>2. Async-Await</strong></p>
<p><code>Await</code> is basically syntactic sugar for <strong>Promises</strong>. It makes asynchronous code look more like synchronous/procedural code, which is easier for humans to understand.</p>
<p>Putting the keyword <code>async</code> before a function tells the function to return a Promise. If the code returns something that is not a <code>Promise</code>, then JavaScript automatically wraps it into a resolved promise with that value. The <code>await</code> keyword simply makes JavaScript wait until that <code>Promise</code> settles and then returns its result.</p>
<p><em>Example:</em></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">logFetch</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> fetch(url);</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;fetch failed&#x27;</span>, err);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h4 id="72Q-How-to-use-JSON-Web-Token-JWT-for-authentication-in-Node-js"><a href="#72Q-How-to-use-JSON-Web-Token-JWT-for-authentication-in-Node-js" class="headerlink" title="72Q. How to use JSON Web Token (JWT) for authentication in Node.js?"></a>72Q. <strong><em>How to use JSON Web Token (JWT) for authentication in Node.js?</em></strong></h4><p>JSON Web Token (JWT) is an open standard that defines a compact and self-contained way of securely transmitting information between parties as a JSON object. This information can be verified and trusted because it is digitally signed.</p>
<p>There are some advantages of using JWT for authorization:</p>
<ul>
<li>Purely stateless. No additional server or infra required to store session information.</li>
<li>It can be easily shared among services.</li>
</ul>
<p>JSON Web Tokens consist of three parts separated by dots (.), which are:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jwt.sign(payload, secretOrPrivateKey, [options, callback])</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Header</strong> - Consists of two parts: the type of token (i.e., JWT) and the signing algorithm (i.e., HS512)</li>
<li><strong>Payload</strong> - Contains the claims that provide information about a user who has been authenticated along with other information such as token expiration time.</li>
<li><strong>Signature</strong> - Final part of a token that wraps in the encoded header and payload, along with the algorithm and a secret</li>
</ul>
<p><strong>Installation</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install jsonwebtoken bcryptjs --save</span><br></pre></td></tr></table></figure>

<p><strong>Example</strong>: AuthController.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> router = express.Router();</span><br><span class="line"><span class="keyword">var</span> bodyParser = <span class="built_in">require</span>(<span class="string">&#x27;body-parser&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> User = <span class="built_in">require</span>(<span class="string">&#x27;../user/User&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> jwt = <span class="built_in">require</span>(<span class="string">&#x27;jsonwebtoken&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> bcrypt = <span class="built_in">require</span>(<span class="string">&#x27;bcryptjs&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> config = <span class="built_in">require</span>(<span class="string">&#x27;../config&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">router.use(bodyParser.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;));</span><br><span class="line">router.use(bodyParser.json());</span><br><span class="line"></span><br><span class="line">router.post(<span class="string">&#x27;/register&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> hashedPassword = bcrypt.hashSync(req.body.password, <span class="number">8</span>);</span><br><span class="line">  </span><br><span class="line">  User.create(&#123;</span><br><span class="line">    name : req.body.name,</span><br><span class="line">    email : req.body.email,</span><br><span class="line">    password : hashedPassword</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">err, user</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">return</span> res.status(<span class="number">500</span>).send(<span class="string">&quot;There was a problem registering the user.&quot;</span>)</span><br><span class="line">    <span class="comment">// create a token</span></span><br><span class="line">    <span class="keyword">var</span> token = jwt.sign(&#123; <span class="attr">id</span>: user._id &#125;, config.secret, &#123;</span><br><span class="line">      expiresIn: <span class="number">86400</span> <span class="comment">// expires in 24 hours</span></span><br><span class="line">    &#125;);</span><br><span class="line">    res.status(<span class="number">200</span>).send(&#123; <span class="attr">auth</span>: <span class="literal">true</span>, <span class="attr">token</span>: token &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>config.js</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="string">&#x27;secret&#x27;</span>: <span class="string">&#x27;supersecret&#x27;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>The <code>jwt.sign()</code> method takes a payload and the secret key defined in <code>config.js</code> as parameters. It creates a unique string of characters representing the payload. In our case, the payload is an object containing only the id of the user.</p>
<ul>
<li><strong>[<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/jsonwebtoken">Reference</a>]</strong></li>
</ul>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-to-build-a-microservices-architecture-with-Node-js"><a href="#Q-How-to-build-a-microservices-architecture-with-Node-js" class="headerlink" title="Q. How to build a microservices architecture with Node.js?"></a>Q. <strong><em>How to build a microservices architecture with Node.js?</em></strong></h2><p><strong>Microservices</strong></p>
<p>Microservices are a style of <strong>service-oriented architecture</strong> (SOA) where the app is structured on an assembly of interconnected services. With microservices, the application architecture is built with lightweight protocols. The services are finely seeded in the architecture. Microservices disintegrate the app into smaller services and enable improved modularity.</p>
<p align="center">
  <img src="assets/monolithic-and-microservices-architecture.jpg" alt="Microservices" width="400px" />
</p>

<p>There are few things worth emphasizing about the superiority of microservices, and distributed systems generally, over monolithic architecture:</p>
<ul>
<li>Modularity — responsibility for specific operations is assigned to separate pieces of the application</li>
<li>Uniformity — microservices interfaces (API endpoints) consist of a base URI identifying a data object and standard HTTP methods (GET, POST, PUT, PATCH and DELETE) used to manipulate the object</li>
<li>Robustness — component failures cause only the absence or reduction of a specific unit of functionality</li>
<li>Maintainability — system components can be modified and deployed independently</li>
<li>Scalability — instances of a service can be added or removed to respond to changes in demand.</li>
<li>Availability — new features can be added to the system while maintaining 100% availability.</li>
<li>Testability — new solutions can be tested directly in the production environment by implementing them for  restricted segments of users to see how they behave in real life.</li>
</ul>
<p><strong>Creating Microservices with Node.js</strong></p>
<p><strong>Step 01: Creating a Server to Accept Requests</strong></p>
<p>This file is creating our server and assigns routes to process all requests.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  server.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"><span class="keyword">const</span> port = process.env.PORT || <span class="number">3000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = <span class="built_in">require</span>(<span class="string">&#x27;./api/routes&#x27;</span>);</span><br><span class="line">routes(app);</span><br><span class="line">app.listen(port, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">&#x27;Server started on port: &#x27;</span> + port);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>Step 02: Defining the routes</strong></p>
<p>The next step is to define the routes for the microservices and then assign each to a target in the controller. We have two endpoints. One endpoint called "about" that returns information about the application. And a "distance" endpoint that includes two path parameters, both Zip Codes of the Lego store. This endpoint returns the distance, in miles, between these two Zip Codes.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> controller = <span class="built_in">require</span>(<span class="string">&#x27;./controller&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">app</span>) </span>&#123;</span><br><span class="line">   app.route(<span class="string">&#x27;/about&#x27;</span>)</span><br><span class="line">       .get(controller.about);</span><br><span class="line">   app.route(<span class="string">&#x27;/distance/:zipcode1/:zipcode2&#x27;</span>)</span><br><span class="line">       .get(controller.getDistance);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>Step 03: Adding Controller Logic</strong></p>
<p>Within the controller file, we are going to create a controller object with two properties. Those properties are the functions to handle the requests we defined in the routes module.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> properties = <span class="built_in">require</span>(<span class="string">&#x27;../package.json&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> distance = <span class="built_in">require</span>(<span class="string">&#x27;../service/distance&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> controllers = &#123;</span><br><span class="line">   about: <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">       <span class="keyword">var</span> aboutInfo = &#123;</span><br><span class="line">           name: properties.name,</span><br><span class="line">           version: properties.version</span><br><span class="line">       &#125;</span><br><span class="line">       res.json(aboutInfo);</span><br><span class="line">   &#125;,</span><br><span class="line">   getDistance: <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">           distance.find(req, res, <span class="function"><span class="keyword">function</span>(<span class="params">err, dist</span>) </span>&#123;</span><br><span class="line">               <span class="keyword">if</span> (err)</span><br><span class="line">                   res.send(err);</span><br><span class="line">               res.json(dist);</span><br><span class="line">           &#125;);</span><br><span class="line">       &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = controllers;</span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-to-use-Q-promise-in-Node-js"><a href="#Q-How-to-use-Q-promise-in-Node-js" class="headerlink" title="Q. How to use Q promise in Node.js?"></a>Q. <strong><em>How to use Q promise in Node.js?</em></strong></h2><p>A promise is an object that represents the return value or the thrown exception that the function may eventually provide. A promise can also be used as a proxy for a remote object to overcome latency.</p>
<p>Promise is relatively an easy implementation for asynchronous operation. The promise object returned from the function represents an operation which is not completed yet, but it guarantees to the caller of the operation that the operation will be completed in future.</p>
<p>Promise has the following states:</p>
<ul>
<li><strong>Pending</strong> - asynchronous operation is not yet completed.</li>
<li><strong>Fulfilled</strong> - asynchronous operation is completed successfully.</li>
<li><strong>Rejected</strong> - asynchronous operation is terminated with an error.</li>
<li><strong>Settled</strong> - asynchronous operation is either fulfilled or rejected.</li>
<li><strong>Callback</strong> - function is executed if the promise is executed with value.</li>
<li><strong>Errback</strong> - function is executed if the promise is rejected.</li>
</ul>
<p><strong>Moving to Promises from Callback</strong></p>
<p>On the first pass, promises can mitigate the <strong>Pyramid of Doom</strong>: the situation where code marches to the right faster than it marches forward.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">step1(<span class="function"><span class="keyword">function</span> (<span class="params">value1</span>) </span>&#123;</span><br><span class="line">    step2(value1, <span class="function"><span class="keyword">function</span>(<span class="params">value2</span>) </span>&#123;</span><br><span class="line">        step3(value2, <span class="function"><span class="keyword">function</span>(<span class="params">value3</span>) </span>&#123;</span><br><span class="line">            step4(value3, <span class="function"><span class="keyword">function</span>(<span class="params">value4</span>) </span>&#123;</span><br><span class="line">                <span class="comment">// Do something with value4</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>With a promise library, it can flatten the pyramid.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Q.fcall(promisedStep1)</span><br><span class="line">.then(promisedStep2)</span><br><span class="line">.then(promisedStep3)</span><br><span class="line">.then(promisedStep4)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span> (<span class="params">value4</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Do something with value4</span></span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Handle any error from all above steps</span></span><br><span class="line">&#125;)</span><br><span class="line">.done();</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>[<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/q">Reference</a>]</strong></li>
</ul>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-to-implement-Memcached-in-Node-js"><a href="#Q-How-to-implement-Memcached-in-Node-js" class="headerlink" title="Q. How to implement Memcached in Node.js?"></a>Q. <strong><em>How to implement Memcached in Node.js?</em></strong></h2><p><strong>Memcached</strong> is a general-purpose distributed memory caching system. It is often used to speed up dynamic database-driven websites by caching data and objects in RAM to reduce the number of times an external data source (such as a database or API) must be read. Memcached is free and open-source software, licensed under the Revised BSD licence. Memcached runs on Unix-like operating systems (at least LINUX and OS X) and on Microsoft windows.</p>
<p>We can store data to memcached server in key pair format. So whenever any request come from the app can be matched with memcached server without any query from mysql/Nosql server. This increases the performance of the application.</p>
<p><strong>Installation</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install memcached</span><br></pre></td></tr></table></figure>

<p><strong>Setting up the client</strong></p>
<p>The constructor of the memcached client take 2 different arguments server locations and options. Syntax:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var Memcached = require(<span class="string">&#x27;memcached&#x27;</span>);</span><br><span class="line">var memcached = new Memcached(Server locations, options);</span><br></pre></td></tr></table></figure>

<p><strong>Example usage</strong>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Memcached = <span class="built_in">require</span>(<span class="string">&#x27;memcached&#x27;</span>);</span><br><span class="line"><span class="comment">// all global configurations should be applied to the .config object of the Client.</span></span><br><span class="line">Memcached.config.poolSize = <span class="number">25</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> memcached = <span class="keyword">new</span> Memcached(<span class="string">&#x27;localhost:11211&#x27;</span>, &#123;<span class="attr">retries</span>:<span class="number">10</span>,<span class="attr">retry</span>:<span class="number">10000</span>,<span class="attr">remove</span>:<span class="literal">true</span>,<span class="attr">failOverServers</span>:[<span class="string">&#x27;192.168.0.103:11211&#x27;</span>]&#125;);</span><br></pre></td></tr></table></figure>

<br/>

<p><strong>[<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/memcached">Reference</a>]</strong></p>
<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h2 id="Q-How-to-generate-and-verify-checksum-of-the-given-string-in-Nodejs"><a href="#Q-How-to-generate-and-verify-checksum-of-the-given-string-in-Nodejs" class="headerlink" title="Q. How to generate and verify checksum of the given string in Nodejs"></a>Q. <strong><em>How to generate and verify checksum of the given string in Nodejs</em></strong></h2><p>The <strong>checksum</strong> (aka <strong>hash sum</strong>) calculation is a one-way process of mapping an extensive data set of variable length (e.g., message, file), to a smaller data set of a fixed length (hash). The length depends on a hashing algorithm.</p>
<p>For the checksum generation, we can use node <code>crypto()</code> module. The module uses <code>createHash(algorithm)</code> to create a checksum (hash) generator. The algorithm is dependent on the available algorithms supported by the version of OpenSSL on the platform.</p>
<p><strong>Example:</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">&#x27;crypto&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// To get a list of all available hash algorithms</span></span><br><span class="line">crypto.getHashes() <span class="comment">// [ &#x27;md5&#x27;, &#x27;sha1&#x27;, &#x27;sha3-256&#x27;, ... ]</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="comment">// Create hash of SHA1 type</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&quot;MY_SECRET_KEY&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#x27;digest&#x27; is the output of hash function containing  </span></span><br><span class="line"><span class="comment">// only hexadecimal digits</span></span><br><span class="line">hashPwd = crypto.createHash(<span class="string">&#x27;sha1&#x27;</span>).update(key).digest(<span class="string">&#x27;hex&#x27;</span>);</span><br><span class="line">  </span><br><span class="line"><span class="built_in">console</span>.log(hashPwd); <span class="comment">//ef5225a03e4f9cc953ab3c4dd41f5c4db7dc2e5b</span></span><br></pre></td></tr></table></figure>

<div align="right">
    <b><a href="#">↥ back to top</a></b>
</div>

<h4 id="Q-Explain-Error-Handling-in-Nodejs"><a href="#Q-Explain-Error-Handling-in-Nodejs" class="headerlink" title="Q. Explain Error Handling in Nodejs?"></a>Q. <strong><em>Explain Error Handling in Nodejs?</em></strong></h4><h4 id="Q-How-to-use-locale-i18n-in-Node-js"><a href="#Q-How-to-use-locale-i18n-in-Node-js" class="headerlink" title="Q. How to use locale (i18n) in Node.js?"></a>Q. <strong><em>How to use locale (i18n) in Node.js?</em></strong></h4><h4 id="Q-What-are-the-types-of-memory-leaks-in-node-js"><a href="#Q-What-are-the-types-of-memory-leaks-in-node-js" class="headerlink" title="Q. What are the types of memory leaks in node.js"></a>Q. <strong><em>What are the types of memory leaks in node.js</em></strong></h4><h4 id="Q-How-to-implement-a-Sleep-function"><a href="#Q-How-to-implement-a-Sleep-function" class="headerlink" title="Q. How to implement a Sleep function?"></a>Q. <strong><em>How to implement a Sleep function?</em></strong></h4><h4 id="Q-How-does-the-cluster-load-balance-work-in-node-js"><a href="#Q-How-does-the-cluster-load-balance-work-in-node-js" class="headerlink" title="Q. How does the cluster load balance work in node.js?"></a>Q. <strong><em>How does the cluster load balance work in node.js?</em></strong></h4><h4 id="Q-What-is-daemon-process-how-to-implement-it-in-node-js"><a href="#Q-What-is-daemon-process-how-to-implement-it-in-node-js" class="headerlink" title="Q. What is daemon process? how to implement it in node.js?"></a>Q. <strong><em>What is daemon process? how to implement it in node.js?</em></strong></h4><h4 id="Q-How-to-synchronize-data-between-multiple-clients-on-node-js-server"><a href="#Q-How-to-synchronize-data-between-multiple-clients-on-node-js-server" class="headerlink" title="Q. How to synchronize data between multiple clients on node.js server?"></a>Q. <strong><em>How to synchronize data between multiple clients on node.js server?</em></strong></h4><div align="right">
    <b><a href="#">↥ back to top</a></b>
</div> 
      <!-- reward -->
      
    </div>
    

    <!--comments -->
    
    <section id="comments">
      <div id="disqus_thread"></div>
      <script>
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://https-yc-s-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </section>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        Share
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://yc-s.github.io/2021/04/27/node-js-interview-questions/" alt="微信分享二维码">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/node/" rel="tag">node</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
    
      <a href="/2021/04/24/%E8%99%8E%E6%89%91%E4%B8%8A%E7%9A%84%E7%BB%8F%E5%85%B8%E7%88%B1%E6%83%85%E6%95%85%E4%BA%8B/" class="article-nav-link">
        <strong class="article-nav-caption">next post</strong>
        <div class="article-nav-title">虎扑上的经典爱情故事</div>
      </a>
    
  </nav>

  
   
     


</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2020-2021
        <i class="ri-heart-fill heart_icon"></i> Aaron
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></s>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
  
</footer>

      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="Aaron&#39;s Blog"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">🏡</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">🏛</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">📚</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">🏷</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->


<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: '.tocbot',
    contentSelector: '.article-entry',
    headingSelector: 'h1, h2, h3, h4, h5, h6',
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: 'main',
    positionFixedSelector: '.tocbot',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto'
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->


<script src="/js/clickBoom2.js"></script>


<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>


<!-- CanvasBackground -->


<script src="/js/dz.js"></script>



    
  </div>
</body>

</html>