<!DOCTYPE html>


<html lang="en">
	

		<head>
			<meta charset="utf-8" />
			 
			<meta name="keywords" content="life,think,work,blog,code" />
			 
			<meta name="description" content="a place holder" />
			
			<meta
				name="viewport"
				content="width=device-width, initial-scale=1, maximum-scale=1"
			/>
			<meta
				name="google-site-verification"
				content="Xe5wkkWgdmMwA81kCWOHLlJSlYSRE47NKPlVzl8ynK8"
			/>
			<title> Blog</title>
  <meta name="generator" content="hexo-theme-ayer">
			
			<link rel="shortcut icon" href="/favicon.ico" />
			 
<link rel="stylesheet" href="/dist/main.css">

			<link
				rel="stylesheet"
				href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css"
			/>
			
<link rel="stylesheet" href="/css/custom.css">
 
			<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
			 
 

		<link rel="alternate" href="/atom.xml" title="Blog" type="application/atom+xml">
</head>
	</html>
</html>


<body>
  <div id="app">
    
      
      <canvas width="1777" height="841"
        style="position: fixed; left: 0px; top: 0px; z-index: 99999; pointer-events: none;"></canvas>
      
    <main class="content on">
      
<section class="cover">
	<div class="cover-frame">
		<div class="bg-box">
			<img src="/images/cover3.jpg" alt="image frame" />
		</div>
		<div class="cover-inner text-center text-white">
			<h1><a href="/">Blog</a></h1>
			<div id="subtitle-box">
				
				<span id="subtitle"></span>
				
			</div>
			<div>
				
			</div>
		</div>
	</div>
	<div class="cover-learn-more">
		<a href="javascript:void(0)" class="anchor"
			><i class="ri-arrow-down-line"></i
		></a>
	</div>
</section>
 
<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>


<!-- Subtitle -->

<script>
	try {
	  var typed = new Typed("#subtitle", {
	    strings: ['It doesn&#39;t work...... why?', 'It works...... why?', 'I used to have a life... But Now I&#39;m a programmer.'],
	    startDelay: 100,
	    typeSpeed: 50,
	    loop: false,
	    backSpeed: 20,
	    showCursor: true
	  });
	} catch (err) {
	  console.log(err)
	}
</script>


<div id="main">
  <section class="outer">
  
  
  <article class="articles">
    
    
    
    
    <article
  id="post-spring-cloud35问"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/30/spring-cloud35%E9%97%AE/"
    >spring_cloud35问</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/05/30/spring-cloud35%E9%97%AE/" class="article-date">
  <time datetime="2020-05-30T20:12:09.000Z" itemprop="datePublished">2020-05-30</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="1、什么是-Spring-Cloud-？"><a href="#1、什么是-Spring-Cloud-？" class="headerlink" title="1、什么是 Spring Cloud ？"></a>1、什么是 Spring Cloud ？</h2><p>Spring cloud 流应用程序启动器是 于 Spring Boot 的 Spring 集成应用程序，提供与外部系统的集成。Spring cloud Task，一个生命周期短暂的微服务框架，用于快速构建执行有限数据处理的应用程序。</p>
<h2 id="2、使用-Spring-Cloud-有什么优势？"><a href="#2、使用-Spring-Cloud-有什么优势？" class="headerlink" title="2、使用 Spring Cloud 有什么优势？"></a>2、使用 Spring Cloud 有什么优势？</h2><p>使用 Spring Boot 开发分布式微服务时，我们面临以下问题</p>
<p>（1）与分布式系统相关的复杂性-这种开销包括网络问题，延迟开销，带宽问题，安全问题。</p>
<p>（2）服务发现-服务发现工具管理群集中的流程和服务如何查找和互相交谈。它涉及一个服务目录，在该目录中注册服务，然后能够查找并连接到该目录中的服务。</p>
<p>（3）冗余-分布式系统中的冗余问题。</p>
<p>（4）负载平衡 –负载平衡改善跨多个计算资源的工作负荷，诸如计算机，计算机集群，网络链路，中央处理单元，或磁盘驱动器的分布。</p>
<p>（5）性能-问题 于各种运营开销导致的性能问题。</p>
<p>（6）部署复杂性 evops 技能的要求。</p>
<h2 id="3、服务注册和发现是什么意思？Spring-Cloud-如何实现？"><a href="#3、服务注册和发现是什么意思？Spring-Cloud-如何实现？" class="headerlink" title="3、服务注册和发现是什么意思？Spring Cloud 如何实现？"></a>3、服务注册和发现是什么意思？Spring Cloud 如何实现？</h2><p>当我们开始一个项目时，我们通常在属性文件中进行所有的配置。随着越来越多的服务开发和部署，添加和修改这些属性变得更加复杂。有些服务可能会下降，而某些位置可能会发生变化。手动更改属性可能会产生问题。 Eureka 服务注册和发现可以在这种情况下提供帮助。由于所有服务都在 Eureka 服务器上注册并通过调用 Eureka 服务器完成查找，因此无需处理服务地点的任何更改和处理。</p>
<h2 id="4、负载平衡的意义什么？"><a href="#4、负载平衡的意义什么？" class="headerlink" title="4、负载平衡的意义什么？"></a>4、负载平衡的意义什么？</h2><p>在计算中，负载平衡可以改善跨计算机，计算机集群，网络链接，中央处理单元或磁盘驱动器等多种计算资源的工作负载分布。负载平衡旨在优化资源使用，最大化吞吐量，最小化响应时间并避免任何单一资源的过载。使用多个组件进行负载平衡而不是单个组件可能会通过冗余来提高可靠性和可用性。负载平衡通常涉及专用软件或硬件，例如多层交换机或域名系统服务器进程。</p>
<h2 id="5、什么是-Hystrix？它如何实现容错？"><a href="#5、什么是-Hystrix？它如何实现容错？" class="headerlink" title="5、什么是 Hystrix？它如何实现容错？"></a>5、什么是 Hystrix？它如何实现容错？</h2><p>库，旨在隔离远程系统，服务和第三方库的访问点，当出现故障是不可避免的故障时，停止级联故障并在复杂的分布式系统中实现弹性。通常对于使用微服 构开发的系统，涉及到许多微服务。这些微服务彼此协作。</p>
<h2 id="6、什么是-Hystrix-断路器？我们需要它吗？"><a href="#6、什么是-Hystrix-断路器？我们需要它吗？" class="headerlink" title="6、什么是 Hystrix 断路器？我们需要它吗？"></a>6、什么是 Hystrix 断路器？我们需要它吗？</h2><p>由于某些原因，employee-consumer 公开服务会引发异常。在这种情况下使用Hystrix 我们定义了一个回退方法。如果在公开服务中发生异常，则回退方法返回一些默认值。</p>
<p>如果 ﬁrstPage method() 中的异常继续发生，则 Hystrix 电 ，并且员工使用者将一起跳过ﬁrtsPage 方法，并直接调用回退方法。 断路器的目的是给第一 方法或第一页方法可能调用的其他方法留出时间，并导致异常恢复。可能发生的情况是，在负载较小的情况下，导致异常的问题有更好的恢复机会 。</p>
<h2 id="7、什么是-Netﬂix-Feign？它的优点是什么？"><a href="#7、什么是-Netﬂix-Feign？它的优点是什么？" class="headerlink" title="7、什么是 Netﬂix Feign？它的优点是什么？"></a>7、什么是 Netﬂix Feign？它的优点是什么？</h2><p>Feign 是受到 Retroﬁt，JAXRS-2.0 和 WebSocket 启发的 java 客户端联编程序。Feign 的第一个目标是将约束分母的复杂性统一到 http apis，而不考虑其稳定性。在 employee-consumer 的例子中，我们使用了 emplo e-producer 使用 REST模板公开的 REST 服务。</p>
<p>但是我们必须编写大量代码才能执行以下步骤</p>
<p>1、使用功能区进行负载平衡。</p>
<p>2、获取服务实例，然后获取基本 URL。</p>
<p>3、利用 REST 模板来使用服务。 前面的代码如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConsumerControllerClient</span> </span>&#123; <span class="meta">@Autowired</span> <span class="keyword">private</span> LoadBalancerClient loadBalancer; <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getEmployee</span><span class="params">()</span> <span class="keyword">throws</span> RestClientException, IOException </span>&#123; ServiceInstance serviceInstance=loadBalancer.choose(<span class="string">&quot;employee- producer&quot;</span>); System.out.println(serviceInstance.getUri());</span><br></pre></td></tr></table></figure>

<p>之前的代码，有像 NullPointer 这样的例外的机会，并不是最优 。我们将看到如何使用 Netﬂix Fe n使呼叫变得更加轻松和清洁。如果 Netﬂix Ribbon 依赖关系 径中，那么 Feign 默认也会负载平衡。</p>
<h2 id="8、什么是-Spring-Cloud-Bus？我们需要它吗？"><a href="#8、什么是-Spring-Cloud-Bus？我们需要它吗？" class="headerlink" title="8、什么是 Spring Cloud Bus？我们需要它吗？"></a>8、什么是 Spring Cloud Bus？我们需要它吗？</h2><p>Spring Cloud Bus 提供了跨多个实例刷新配置的功能。</p>
<h2 id="9、什么是微服务"><a href="#9、什么是微服务" class="headerlink" title="9、什么是微服务"></a>9、什么是微服务</h2><p>微服务架构是一种架构模式或者说是一种架构风格，它提倡将单一应用程序划分为一组小的服务，每个服务运行在其独立的自己的进程中，服务之间相互协调、互相配合，为用户提供最终价值。服务之间采用轻量级的通信机制互相沟通（通常是基于HTTP的RESTful API）,每个服务都围绕着具体的业务进行构建，并且能够被独立的构建在生产环境、类生产环境等。另外，应避免统一的、集中式的服务管理机制，对具体的一个服务而言，应根据业务上下文，选择合适的语言、工具对其进行构建，可以有一个非常轻量级的集中式管理来协调这些服务，可以使用不同的语言来编写服务，也可以使用不同的数据存储。</p>
<h2 id="10、什么是服务熔断？什么是服务降级"><a href="#10、什么是服务熔断？什么是服务降级" class="headerlink" title="10、什么是服务熔断？什么是服务降级"></a>10、什么是服务熔断？什么是服务降级</h2><p>熔断机制是应对雪崩效应的一种微服务链路保护机制。当某个微服务不可用或者响应时间太长时，会进行服务降级，进而熔断该节点微服务的调用，快速返回“错误”的响应信息。当检测到该节点微服务调用响应正常后恢复调用链路。在SpringCloud框架里熔断机制通过Hystrix实现，Hystrix会监控微服务间调用的状况，当失败的调用到一定阈值，缺省是5秒内调用20次，如果失败，就会启动熔断机制。</p>
<p>服务降级，一般是从整体负荷考虑。就是当某个服务熔断之后，服务器将不再被调用，此时客户端可以自己准备一个本地的fallback回调，返回一个缺省值。这样做，虽然水平下降，但好歹可用，比直接挂掉强。</p>
<h2 id="11、Eureka和zookeeper都可以提供服务注册与发现的功能，请说说两个的区别？"><a href="#11、Eureka和zookeeper都可以提供服务注册与发现的功能，请说说两个的区别？" class="headerlink" title="11、Eureka和zookeeper都可以提供服务注册与发现的功能，请说说两个的区别？"></a>11、Eureka和zookeeper都可以提供服务注册与发现的功能，请说说两个的区别？</h2><p>Zookeeper保证了CP（C：一致性，P：分区容错性），Eureka保证了AP（A：高可用）</p>
<p>（1）当向注册中心查询服务列表时，我们可以容忍注册中心返回的是几分钟以前的信息，但不能容忍直接down掉不可用。也就是说，服务注册功能对高可用性要求比较高，但zk会出现这样一种情况，当master节点因为网络故障与其他节点失去联系时，剩余节点会重新选leader。问题在于，选取leader时间过长，30 ~120s，且选取期间zk集群都不可用，这样就会导致选取期间注册服务瘫痪。在云部署的环境下，因网络问题使得zk集群失去master节点是较大概率会发生的事，虽然服务能够恢复，但是漫长的选取时间导致的注册长期不可用是不能容忍的。</p>
<p>（2）Eureka保证 用性，Eureka各个节点是平等的，几个节点挂掉不会影响正常节点的工作，剩余的节点仍然可以提供注册和查询服务。而Eureka的客户端向某个Eureka注册或发现时发生连接失败，则会自动切换到其他节点，只要有一台Eureka还在，就能保证注册服务可用，只是查到的信息可能不是最新的。除此之外，Eureka还有自我保护机制，如果在15分钟内超过85%的节点没有正常的心跳，那么Eureka就认为客户端与注册中心发生了网络故障，此时会出现以下几种情况：</p>
<p>①、Eureka不在从注册列表中移除因为长时间没有收到心跳而应该过期的服务。</p>
<p>②、Eureka仍然能够接受新服务的注册和查询请求，但是不会被同步到其他节点上（即保证当前节点仍然可用）</p>
<p>③、当网络稳定时，当前实例新的注册信息会被同步到其他节点。因此，Eureka可以很好的应对因网络故障导致部分节点失去联系的情况，而不会像Zookeeper那样使整个微服务瘫痪</p>
<h2 id="12、SpringBoot和SpringCloud的区别？"><a href="#12、SpringBoot和SpringCloud的区别？" class="headerlink" title="12、SpringBoot和SpringCloud的区别？"></a>12、SpringBoot和SpringCloud的区别？</h2><p>SpringBoot专注于快速方便的开发单个个体微服务。</p>
<p>SpringCloud是关注全局的微服务协调整理治理框架，它将SpringBoot开发的一个个单体微服务整合并管理起来，为各个微服务之间提供，配置管理、服务发现、断路器、路由、微代理、事件总线、全局锁、决策竞选、分布式会话等等集成服务SpringBoot可以离开SpringCloud独立使用开发项目， 但是SpringCloud离不开SpringBoot ，属于依赖的关系.SpringBoot专注于快速、方便的开发单个微服务个体，SpringCloud关注全局的 治理框架</p>
<h2 id="13、什么是Hystrix断路器？我们需要它吗"><a href="#13、什么是Hystrix断路器？我们需要它吗" class="headerlink" title="13、什么是Hystrix断路器？我们需要它吗"></a>13、什么是Hystrix断路器？我们需要它吗</h2><p>使用Hystrix我们定义了回退方法。如果在公开服务中发生异常，则回退方法返回一些默认值 。</p>
<h2 id="14、说说-RPC-的实现原理"><a href="#14、说说-RPC-的实现原理" class="headerlink" title="14、说说 RPC 的实现原理"></a>14、说说 RPC 的实现原理</h2><p>首先需要有处理网络连接通讯的模块，负责连接建立、管理和消息的传输。其次需要有编解码的模块，因为网络通讯都是传输的字节码，需要将我们使用的对象序列化和反序列化。剩下的就是客户端和服务器端的部分，服务器端暴露要开放的服务接口，客户调用服务接口的一个代理实现，这个代理实现负责收集数据、编码并传输给服务器然后等待结果返回。</p>
<h2 id="15、微服务的优点缺点-说下开发项目中遇到的坑"><a href="#15、微服务的优点缺点-说下开发项目中遇到的坑" class="headerlink" title="15、微服务的优点缺点?说下开发项目中遇到的坑?"></a>15、微服务的优点缺点?说下开发项目中遇到的坑?</h2><p>优点:优点:</p>
<p>（1）每个服务直接足够内聚，代码容易理解</p>
<p>（2）开发效率高，一个服务只做一件事，适合小团队开发</p>
<p>（3）松耦合，有功能意义的服务。</p>
<p>（4）可以用不同语言开发，面向接口编程。</p>
<p>（5）易于第三方集成</p>
<p>（6）微服务只是业务逻辑的代码，不会和HTML,CSS或其他界</p>
<p>（7）可以灵活搭配，连接公共库/连接独立库</p>
<p>缺点:</p>
<p>（1）分布式系统的责任性</p>
<p>（2）多服务运维难度加大。</p>
<p>（3）系统部署依赖，服务间通信成本，数据一致 ，系统集成测试，性能监控。</p>
<h2 id="16、spring-cloud-和d-bbo区别"><a href="#16、spring-cloud-和d-bbo区别" class="headerlink" title="16、spring cloud 和d bbo区别?"></a>16、spring cloud 和d bbo区别?</h2><p>（1）服务调用方式 dubbo是RPC spri cloud Rest Api</p>
<p>（2）注册中心,dubbo 是zookeep r springcloud是eureka，也可以是zookeeper</p>
<p>（3）服务网关,dubbo本身没有实现，只能通过其他第三方技术整合，springcloud有Zuul路由网关，作为路由服务器，进行消费者的请求分发,springcloud支持断路器，与git完美集成配置文件支持版本控制，事物总线实现配置文 的更新与服务自动装配等等一系列的微服务架构要素。</p>
<h2 id="17、REST-和RPC对比"><a href="#17、REST-和RPC对比" class="headerlink" title="17、REST 和RPC对比"></a>17、REST 和RPC对比</h2><p>（1）RPC主要的缺陷是服务提供方和调用方式之间的依赖太强，需要对每一个微服务进行接口的定义，并通过持续继承发布，严格版本控制才不会出现冲突。</p>
<p>（2）REST是轻量级的接口，服务的提供和调用不存在代码之间的耦合，只需要一个约定进行规范。</p>
<h2 id="18、你所知道的微服务技术栈？"><a href="#18、你所知道的微服务技术栈？" class="headerlink" title="18、你所知道的微服务技术栈？"></a>18、你所知道的微服务技术栈？</h2><p>维度(springcloud)</p>
<p>服务开发：springboot spring springmvc</p>
<p>服务配置与管理:Netﬁx公司的Archaiusm ,阿里的Diamond</p>
<p>服务注册与发现:Eureka,Zookeeper</p>
<p>服务调用:Rest RPC gRpc</p>
<p>服务熔断器:Hystrix</p>
<p>服务负载均衡:Ribbon Nginx</p>
<p>服务接口调用:Fegin</p>
<p>消息队列:Kafka Rabbitmq activemq</p>
<p>服务配置中心管理:SpringCloudConﬁg</p>
<p>服务路由（API网关）Zuul</p>
<p>事件消息总线:SpringCloud Bus</p>
<h2 id="19、微服务之间是如何独立通讯的"><a href="#19、微服务之间是如何独立通讯的" class="headerlink" title="19、微服务之间是如何独立通讯的?"></a>19、微服务之间是如何独立通讯的?</h2><p>（1）远程调用，比如feign调用，直接通过远程过程调用来访问别的service。</p>
<p>（2）消息中间件</p>
<h2 id="20、springcloud如何实现服务的注册"><a href="#20、springcloud如何实现服务的注册" class="headerlink" title="20、springcloud如何实现服务的注册?"></a>20、springcloud如何实现服务的注册?</h2><p>（1）服务发布时，指定对应的服务名,将服务注册到 注册中心(eureka zookeeper)</p>
<p>（2）注册中心加@EnableEurekaServer,服务用@EnableDiscoveryClient，然后用ribbon或feign进行服务直接的调用发现。</p>
<h2 id="21、Eureka和Zookeeper区别"><a href="#21、Eureka和Zookeeper区别" class="headerlink" title="21、Eureka和Zookeeper区别"></a>21、Eureka和Zookeeper区别</h2><p>（1）Eureka取CAP的AP，注重可用性，Zookeeper取CAP的CP注重一致性。</p>
<p>（2）Zookeeper在选举期间注册服务瘫痪，虽然服务最终会恢复，但选举期间不可用。</p>
<p>（3）eureka的自我保护机制，会导致一个结果就是不会再从注册列表移除因长时间没收到心跳而过期的服务。依然能接受新服务的注册和查询请求，但不会被同步到其他节点。不会服务瘫痪。</p>
<p>（4）Zookeeper有Leader和Follower角色，Eureka各个节点平等。</p>
<p>（5）Zookeeper采用过半数存活原则， reka采用自我保护机制解决分区 。</p>
<p>（6）eureka本质是一个工程，Zookeeper只是一个进程。</p>
<h2 id="22、eureka自我保护机制是什么"><a href="#22、eureka自我保护机制是什么" class="headerlink" title="22、eureka自我保护机制是什么?"></a>22、eureka自我保护机制是什么?</h2><p>当Eureka Server 点在短时间内丢失了过多实例的连接时（比如网络故障或频繁启动关闭客户端）节点会进入自我保护模式，保护注册信息，不再删除注册数据，故障恢复时，自动退出自我保护模式。</p>
<h2 id="23、什么是Ribbon？"><a href="#23、什么是Ribbon？" class="headerlink" title="23、什么是Ribbon？"></a>23、什么是Ribbon？</h2><p>ribbon是一个负载均衡客户端，可以很好的控制htt和tcp的一些行为。feign默认集成了ribbon。</p>
<h2 id="24、什么是feigin？它的优点是什么？"><a href="#24、什么是feigin？它的优点是什么？" class="headerlink" title="24、什么是feigin？它的优点是什么？"></a>24、什么是feigin？它的优点是什么？</h2><p>（1）feign采用的是基于接口的注解</p>
<p>（2）feign整合了ribbon，具有负载均衡的能力</p>
<p>（3）整合了Hystrix，具有熔断的能力</p>
<p>使用:</p>
<p>（1）添加pom依赖。</p>
<p>（2）启动类添加@EnableFeignClients</p>
<p>（3）定义一个接口@FeignClient(name=“xxx”)指定调用哪个服务</p>
<h2 id="25、Ribbon和Feign的区别？"><a href="#25、Ribbon和Feign的区别？" class="headerlink" title="25、Ribbon和Feign的区别？"></a>25、Ribbon和Feign的区别？</h2><p>（1）Ribbon都是调用其他服务的，但方式不同。</p>
<p>（2）启动类注解不同，Ribbon是@RibbonClient feign的是@EnableFeignClients</p>
<p>（3）服务指定的位置不同，Ribbon是在@RibbonClient注解上声明，Feign则是在定义抽象方法的接口中使用@FeignClient声明。</p>
<p>（4）调用方式不同，Ribbon需要自己构建http请求，模拟http请求然后使用RestTemplate发送给其他服务，步骤相当繁琐。Feign需要将调用的方法定义成抽象方法即可。</p>
<h2 id="26、什么是Spring-Cloud-Bus"><a href="#26、什么是Spring-Cloud-Bus" class="headerlink" title="26、什么是Spring Cloud Bus?"></a>26、什么是Spring Cloud Bus?</h2><p>spring cloud bus 将分布式的节点用轻量的消息代理连接起来，它可以用于广播配置文件的更改或者服务直接的通讯，也可用于监控。spring cloud bus 将分布式的节点用轻量的消息代理连接起来，它可以用于广播配置文件的更改或者服务直接的通讯，也可用于监控。</p>
<p>如果修改了配置文件，发送一次请求，所有的客户端便会重新读取配置文件。</p>
<p>使用:</p>
<p>（1）添加依赖</p>
<p>（2）配置rabbimq</p>
<h2 id="27、springcloud断路器作用"><a href="#27、springcloud断路器作用" class="headerlink" title="27、springcloud断路器作用?"></a>27、springcloud断路器作用?</h2><p>当一个服务调用另一个服务由于网络原因或自 原因出现问题，调用者就会等 调用者的响应 当更多的服务请求到这些资源导致更多的请求等待，发生连锁效应（雪崩效应）</p>
<p>断路器有完全打开状态:一段时间内 到一定的次数无法调用 并且多次监 没有恢复的迹象 断路器完全打开 那么下次请求就不会请求到该服务</p>
<p>半开:短时间内 有恢复迹象 断路器会将部分请求发给该服务，正常调用时 断路器关闭</p>
<p>关闭：当服务一直处于正常状 能正常调用</p>
<h2 id="28、Spring-Cloud-Gateway"><a href="#28、Spring-Cloud-Gateway" class="headerlink" title="28、Spring Cloud Gateway?"></a>28、Spring Cloud Gateway?</h2><p>Spring Cloud Gateway是Spring Cloud官方推出的第二代网关框架，取代Zuul网关。网关作为流量的，在微服务系统中有着非常作用，网关常见的功能有路由转发、权限校验、限流控制等作用。</p>
<p>使用了一个RouteLocatorBuilder的bean去创建路由，除了创建路由RouteLocatorBuilder可以让你添加各种predicates和ﬁlters，predicates断言的意思，顾名思义就是根据具体的请求的规则，由具体的route去处理，ﬁlters是各种过滤器，用来对请求做各种判断和修改。</p>
<h2 id="29、作为-务注册中心，Eureka比Zookeeper好在哪里"><a href="#29、作为-务注册中心，Eureka比Zookeeper好在哪里" class="headerlink" title="29、作为 务注册中心，Eureka比Zookeeper好在哪里?"></a>29、作为 务注册中心，Eureka比Zookeeper好在哪里?</h2><p>（1）Eureka保证的是可用性和分区容错性，Zookeeper 保证的是一致性和分区容错性 。</p>
<p>（2）Eureka还有一种自我保护机制，如果在15分钟内超过85%的节点都没有正常的心跳，那么Eureka就认为客户端与注册中心出现了网络故障。而不会像zookeeper那样使整个注册服务瘫痪。</p>
<h2 id="30、什么是-Ribbon负载均衡？"><a href="#30、什么是-Ribbon负载均衡？" class="headerlink" title="30、什么是 Ribbon负载均衡？"></a>30、什么是 Ribbon负载均衡？</h2><p>（1）Spring Cloud Ribbon是基于Netﬂix Ribbon实现的一套客户端 负载均衡的工具。</p>
<p>（2）Ribbon客户端组件提供一系列完善的配置项如连接超时，重试等。简单的说，就是在配置文件中列出Load Balancer（简称LB）后面所有的机器，Ribbon会自动的帮助你基于某种规则（如简单轮询，随机连接等）去连接这些机器。我们也很容易使用Ribbon实现自定义的负载均衡算法。</p>
<h2 id="31、Ribbon负载均衡能干什么？"><a href="#31、Ribbon负载均衡能干什么？" class="headerlink" title="31、Ribbon负载均衡能干什么？"></a>31、Ribbon负载均衡能干什么？</h2><p>（1）将用户的请求平摊的分配到多个服务上</p>
<p>（2）集中式LB即在服务的消费方和提供方之间使用独立的LB设施(可以是硬件，如F5, 也可以是软件，如nginx), 由该设施负责把访问请求通过某种策略转发至服务的提供方；</p>
<p>（3）进程内LB将LB逻辑集成到消费方，消费方从服务注册中心获知有哪些地址可用，然后自己再从这些地址中选择出一个合适的服务器。</p>
<p>注意： Ribbon就属于进程内LB，它只是一个类库，集成于消费方进程，消费方 它来获取到服务提供方的地址。</p>
<h2 id="32、什么是-zuul路由网关"><a href="#32、什么是-zuul路由网关" class="headerlink" title="32、什么是 zuul路由网关"></a>32、什么是 zuul路由网关</h2><p>（1）Zuul 包含了对请求的路由和过滤两个最主要的功能:其中 责将外部请求转发到具体的微服务实例上，是实现外部访问统一入口的基础而过滤器功能则负 请求的处理过程进行干预，是实现请求校验、服务聚合等功能的基础、</p>
<p>（2）Zuul和Eureka进行整合，将Zuul自身注册为Eureka服务治理下的应用，同时从Eureka中获得其他微服务的消息，也即以后的访问微服务都是通过Zuul跳转后获得。</p>
<p>注意： Zuul服务最终还是会注册进Eureka 提供=代理+路由+过滤 三大功能</p>
<h2 id="33、分布式配置中心能干嘛？"><a href="#33、分布式配置中心能干嘛？" class="headerlink" title="33、分布式配置中心能干嘛？"></a>33、分布式配置中心能干嘛？</h2><p>（1）集中管理配置文件不同环境不同配置，动态化的配置更新，分环境部署比如</p>
<p>dev/test/prod/beta/release</p>
<p>（2）运行期间动态调整 置，不再需要在每个服务部署的机器上编写配置文件，服务会向配置中心统一拉取配置自己的信息</p>
<p>（3）当配置发生变动时，服务不需要重启即可感知到配置的变化并应用新的配置将配置信息以REST接口的形式暴露</p>
<h2 id="34、Hystrix相关注解"><a href="#34、Hystrix相关注解" class="headerlink" title="34、Hystrix相关注解"></a>34、Hystrix相关注解</h2><p>@EnableHystrix：开启熔断</p>
<p>@HystrixCommand(fallbackMethod=”XXX”)：声明一个失败回滚处理函数XXX，当被注解的方法执行超时（默认是 0毫秒），就会执行fallback函数，返回错误提示。</p>
<h2 id="35、Eureka和zookeeper都可以提供服务注册与发现的功能，请说说两个的区别？"><a href="#35、Eureka和zookeeper都可以提供服务注册与发现的功能，请说说两个的区别？" class="headerlink" title="35、Eureka和zookeeper都可以提供服务注册与发现的功能，请说说两个的区别？"></a>35、Eureka和zookeeper都可以提供服务注册与发现的功能，请说说两个的区别？</h2><p>Zookeeper保证了CP（C：一致性，P：分区容错性），Eureka保证了AP（A：高可用）</p>
<p>（1）当向注册中心查询服务列表时，我们可以容忍注册中心返回的是几分钟以前的信息，但不能容忍直接down掉不可用。 就是说，服务注册功能对高可用性要求比较高，但zk会出现这样一种情况，当master节点因为网络故障与其他节点失去联系时，剩余节点会重新选leader。问题在于，选取leader时间过长，30 ~ 120s，且选取期间zk集群都不可用，这样就会导致选取期间注册服务瘫痪。在云部署的环境下，因网络问题使得zk集群失去master节点是较大概率会发生的事，虽然服务能够恢复，但是漫长的选取时间导致的注册长期不可用是不能容忍的。</p>
<p>（2）Eureka保证了可用性，Eureka各个节点是平等的，几个节点挂掉不会影响正常节点的工作，剩余的节点仍然可以提供注册和查询服务。而Eureka的客户端向某个Eureka注册或发现时发生连接失败，则会自动切换到其他节点，只要有一台Eureka还在，就能保证注册服务可用，只是查到的信息可能不是最新的。除此之外，Eureka还有自我保护机制，如果在15分钟内超过85%的节点没有正常的心跳，那么Eureka就认为 户端与注册中心发生了网络故障，此时会出现以下几种情况：</p>
<p>①、Eureka不 从注册列表中移除因为长时间没有收到心跳而应该过期的服务。</p>
<p>②、Eureka仍然能够接受新服务的注册和查询请求，但是不会被同步到其他节点上（即保证当前节点仍然可用）</p>
<p>③、当网络稳定时，当前实例新的注册信息会被同步到其他节点。</p>
<p><strong>因此，Eureka可以很好的应对因网络故障导致部分节点失去联系的情况，而不会像Zookeeper那样使整个微服务瘫痪。</strong></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-理解公钥和私钥"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/29/%E7%90%86%E8%A7%A3%E5%85%AC%E9%92%A5%E5%92%8C%E7%A7%81%E9%92%A5/"
    >理解公钥和私钥</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/05/29/%E7%90%86%E8%A7%A3%E5%85%AC%E9%92%A5%E5%92%8C%E7%A7%81%E9%92%A5/" class="article-date">
  <time datetime="2020-05-29T22:00:07.000Z" itemprop="datePublished">2020-05-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h3 id="一、公钥算法与私钥算法"><a href="#一、公钥算法与私钥算法" class="headerlink" title="一、公钥算法与私钥算法"></a>一、公钥算法与私钥算法</h3><p><strong>1、私钥算法</strong></p>
<p><strong>私钥加密算法</strong>，又称 <strong>对称加密算法</strong>，因为这种算法解密密钥和加密密钥是相同的。也正因为同一密钥既用于加密又用于解密，所以这个密钥是不能公开的。</p>
<p><strong>2、公钥算法</strong></p>
<p><strong>公钥加密算法</strong>，也就是 <strong>非对称加密算法</strong>，这种算法加密和解密的密码不一样，一个是公钥，另一个是私钥：</p>
<ul>
<li>公钥和私钥成对出现</li>
<li>公开的密钥叫公钥，只有自己知道的叫私钥</li>
<li>用公钥加密的数据只有对应的私钥可以解密</li>
<li>用私钥加密的数据只有对应的公钥可以解密</li>
<li>如果可以用公钥解密，则必然是对应的私钥加的密</li>
<li>如果可以用私钥解密，则必然是对应的公钥加的密</li>
</ul>
<p>公钥和私钥是相对的，两者本身并没有规定哪一个必须是公钥或私钥。</p>
<h3 id="二、实现数据的安全传输"><a href="#二、实现数据的安全传输" class="headerlink" title="二、实现数据的安全传输"></a>二、实现数据的安全传输</h3><p>要实现数据的安全传输，当然就要对数据进行加密了。</p>
<p>如果使用对称加密算法，加解密使用同一个密钥，除了自己保存外，对方也要知道这个密钥，才能对数据进行解密。如果你把密钥也一起传过去，就存在密码泄漏的可能。所以我们使用<strong>非对称算法</strong>，过程如下：</p>
<ol>
<li>首先 接收方 生成一对密钥，即私钥和公钥；</li>
<li>然后，接收方 将公钥发送给 发送方；</li>
<li>发送方用收到的公钥对数据加密，再发送给接收方；</li>
<li>接收方收到数据后，使用自己的私钥解密。</li>
</ol>
<p>由于在非对称算法中，公钥加密的数据必须用对应的私钥才能解密，而私钥又只有接收方自己知道，这样就保证了数据传输的安全性。</p>
<h3 id="三、对信息进行数字签名"><a href="#三、对信息进行数字签名" class="headerlink" title="三、对信息进行数字签名"></a>三、对信息进行数字签名</h3><p>除了保证数据的安全传输之外，公钥体系的另一个用途就是对数据进行签名。通常<strong>“数字签名”</strong>是用来验证发送方的身份并帮助保护数据的完整性。</p>
<p>例如：一个发送者 A 想要传些资料给大家，用自己的私钥对资料加密，即签名。这样一来，所有收到资料的人都可以用发送者的公钥进行验证，便可确认资料是由 A 发出来的了。（因为只有Ａ使用私钥签名得到的信息，才能用这个公钥来解） 采用数字签名，可以确认两点：</p>
<ol>
<li>保证信息是由签名者自己签名发送的，签名者不能否认或难以否认。</li>
<li>保证信息自签发后到收到为止未曾作过任何修改。</li>
</ol>
<p>之所以可以确认这两点，是因为用公钥可以解密的必然是用对应的私钥加的密，而私钥只有签名者持有。</p>
<h3 id="四、公钥算法的缺点"><a href="#四、公钥算法的缺点" class="headerlink" title="四、公钥算法的缺点"></a>四、公钥算法的缺点</h3><p>现实中，公钥机制也有它的缺点，那就是<strong>效率非常低</strong>，比常用的私钥算法（如 DES 和 AES）慢上一两个数量级都有可能。所以它不适合为大量的原始信息进行加密。为了同时兼顾安全和效率，我们通常结合使用公钥算法和私钥算法：</p>
<ol>
<li>首先，发送方使用对称算法对原始信息进行加密。</li>
<li>接收方通过公钥机制生成一对密钥，一个公钥，一个私钥。</li>
<li>接收方 将公钥发送给 发送方。</li>
<li>发送方用公钥对对称算法的密钥进行加密，并发送给接收方。</li>
<li>接收方用私钥进行解密得到对称算法的密钥。</li>
<li>发送方再把已加密的原始信息发送给接收方。</li>
<li>接收方使用对称算法的密钥进行解密。</li>
</ol>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结:"></a><strong>总结:</strong></h3><ol>
<li>每个用户都有一对私钥和公钥。<ul>
<li>私钥用来进行解密和签名，是给自己用的。</li>
<li>公钥由本人公开，用于加密和验证签名，是给别人用的。</li>
</ul>
</li>
<li>当该用户发送文件时，用私钥签名，别人用他给的公钥解密，可以保证该信息是由他发送的。即数字签名。</li>
<li>当该用户接受文件时，别人用他的公钥加密，他用私钥解密，可以保证该信息只能由他看到。即安全传输。</li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Chinese/" rel="tag">Chinese</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-如何看待美国实体清单加入360"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/28/%E5%A6%82%E4%BD%95%E7%9C%8B%E5%BE%85%E7%BE%8E%E5%9B%BD%E5%AE%9E%E4%BD%93%E6%B8%85%E5%8D%95%E5%8A%A0%E5%85%A5360/"
    >如何看待美国实体清单加入360</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/05/28/%E5%A6%82%E4%BD%95%E7%9C%8B%E5%BE%85%E7%BE%8E%E5%9B%BD%E5%AE%9E%E4%BD%93%E6%B8%85%E5%8D%95%E5%8A%A0%E5%85%A5360/" class="article-date">
  <time datetime="2020-05-28T14:30:49.000Z" itemprop="datePublished">2020-05-28</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>360不仅不想哭，甚至还很激动</p>
<p>苍天啊，大地啊</p>
<p>等了多少年终于给了我这个机会啊</p>
<p>终于可以把自己标榜成华为那样的国家脊梁了啊</p>
<p>腾讯啊，百度啊，金山啊，你们看看吧，这就是你们不如我的地方啊</p>
<p>感谢川建国支持啊，你的电脑检测到2333个漏洞，我帮你免费修复了，不用谢啊。另外你放在F盘的小姐姐不错，我带走了，帮你免费杀杀毒，反手送你一套全家桶作为回报啊。</p>
<hr>
<p>角落里的腾讯：360出了多少钱上清单？我出三倍。</p>
<hr>
<p>百度新闻稿：360被列入实体清单是怎么回事呢?360相信大家都很熟悉，但是360被列入实体清单是怎么回事呢?下面就让小编带大家一起了解吧。</p>
<p>360被列入实体清单，其实就是被列入实体清单的360,大家可能会感到很惊讶，360怎么会被列入实体清单？但事实就是这样，小编也感到非常惊讶</p>
<p>那么这就是关于360被列入实体清单的事情了，大家有什么想法呢?欢迎在评论区告诉小编一起讨论哦</p>
<hr>
<p>金山辟谣：都是假的，360造的假新闻，我有视频为证，总所周知视频是不能作假的，所以我说的才是真的。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Chinese/" rel="tag">Chinese</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-GitHub优质Repositories"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/27/GitHub%E4%BC%98%E8%B4%A8Repositories/"
    >GitHub优质Repositories</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/05/27/GitHub%E4%BC%98%E8%B4%A8Repositories/" class="article-date">
  <time datetime="2020-05-27T17:37:36.000Z" itemprop="datePublished">2020-05-27</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>GitHub is the leading Git repository hosting service, which contains source code of many code repositories, libraries, etc. I recently wrote an article on GitHub Repos for web developers, which you can refer to <a target="_blank" rel="noopener" href="https://medium.com/better-programming/github-repos-that-should-be-starred-by-every-web-developer-e9eaa244810e">here</a>.</p>
<p>In this article, I’ll speak about GitHub repos for every developer — regardless of their language. From podcasts to free books to roadmap illustrations, they’ve got it all.</p>
<hr>
<h1 id="1-Awesome-Resources-RoadMap"><a href="#1-Awesome-Resources-RoadMap" class="headerlink" title="1. Awesome Resources RoadMap"></a>1. Awesome Resources RoadMap</h1><p><a target="_blank" rel="noopener" href="https://github.com/lauragift21/awesome-learning-resources">This repo</a> is number one on the list because this is pretty much a one-stop destination for your learning needs as a developer. This repo contains freely available programming books, podcasts, and even online video tutorials for a variety of software engineering topics and programming languages.</p>
<p>If you are looking to learn a new language or concept in programming, this is a must-visit repo.</p>
<h1 id="2-free-programming-books"><a href="#2-free-programming-books" class="headerlink" title="2. free-programming-books"></a>2. free-programming-books</h1><p>As the name suggests, <a target="_blank" rel="noopener" href="https://github.com/EbookFoundation/free-programming-books">this repo</a> contains a list of free programming books for almost any language or concept in programming. The list is quite huge and has 143,000 stars and 34,900 forks. It’s available in many languages and is comprised of mainly programming books.</p>
<h1 id="3-Best-websites-a-programmer-should-visit"><a href="#3-Best-websites-a-programmer-should-visit" class="headerlink" title="3. Best-websites-a-programmer-should-visit"></a>3. Best-websites-a-programmer-should-visit</h1><p>When learning programming, you must be in touch with certain websites in order to learn the technologies better and to learn new things. <a target="_blank" rel="noopener" href="https://github.com/sdmg15/Best-websites-a-programmer-should-visit">This repo</a> contains a list of nonexhaustive websites that you should pretty much be in touch with. This contains podcasts, news websites, resources on competitive programming, things to do when you are bored, and much, much more.</p>
<h1 id="4-Project-Guidelines"><a href="#4-Project-Guidelines" class="headerlink" title="4. Project Guidelines"></a>4. Project Guidelines</h1><p><a target="_blank" rel="noopener" href="https://github.com/elsewhencode/project-guidelines">This repo</a> contains a set of best practices for JS projects. These guidelines help you write and maintain projects with ease and reduce the level of issues that occur in the whole process. This includes some best practices on Git, documentation, environment, dependencies, testing, and more.</p>
<p>If you want to share a best practice or think one of these guidelines should be removed, you can make a PR.</p>
<h1 id="5-App-Ideas-Collection"><a href="#5-App-Ideas-Collection" class="headerlink" title="5. App Ideas Collection"></a>5. App Ideas Collection</h1><p>Have you ever wanted to build something but you had no idea what to do? Just as authors sometimes have writer’s block, it’s also true for developers. <a target="_blank" rel="noopener" href="https://github.com/florinpop17/app-ideas">This repo</a> contains a list of app ideas categorized according to three tiers of programming experience.</p>
<p>These applications help you improve your coding skills as well as allow you to try out new technologies.</p>
<h1 id="6-JavaScript-Algorithms-and-Data-Structures"><a href="#6-JavaScript-Algorithms-and-Data-Structures" class="headerlink" title="6. JavaScript Algorithms and Data Structures"></a>6. JavaScript Algorithms and Data Structures</h1><p>Right now, it’s a tech-world trend to talk a lot about algorithms, so we have to know them. So here’s <a target="_blank" rel="noopener" href="https://github.com/trekhleb/javascript-algorithms">this fantastic repo</a> where you can find most of them.</p>
<p>The really cool thing is every algorithm is written in JavaScript and has been tested, so it’s even easier for you to understand.</p>
<h1 id="7-Web-Developer-Road-Map"><a href="#7-Web-Developer-Road-Map" class="headerlink" title="7. Web Developer Road Map"></a>7. Web Developer Road Map</h1><p><a target="_blank" rel="noopener" href="https://github.com/kamranahmedse/developer-roadmap">This repo</a> contains a set visual illustration on career pathways you could take as a web developer. The purpose of these roadmaps is to give you an idea about the landscape and to guide you if you’re confused about what to learn next.</p>
<p>A simpler, more beginner-friendly version of the illustration is under development. This chart gets updated yearly to reflect any new changes, so you never have to be worried about being outdated.</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Github/" rel="tag">Github</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-预测未来的10条准则"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/26/%E9%A2%84%E6%B5%8B%E6%9C%AA%E6%9D%A5%E7%9A%8410%E6%9D%A1%E5%87%86%E5%88%99/"
    >预测未来的10条准则</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/05/26/%E9%A2%84%E6%B5%8B%E6%9C%AA%E6%9D%A5%E7%9A%8410%E6%9D%A1%E5%87%86%E5%88%99/" class="article-date">
  <time datetime="2020-05-27T01:12:46.000Z" itemprop="datePublished">2020-05-26</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h3 id="1-Data-matters"><a href="#1-Data-matters" class="headerlink" title="1. Data matters."></a>1. Data matters.</h3><p>We humans are drawn to anecdotes and illustrations, but looks can be deceiving. Always base your forecasts on data, not qualitative arguments. Euclid’s <em>Elements</em> was one of the earliest texts on geometry, yet none of its oldest extant fragments include a single drawing.</p>
<ol>
<li>Torture the data until it confesses, but don’t frame the data to the story. The data-mining trap is easy to fall into.</li>
<li>Start with base rates. The assumption that nothing changes and that an event is as likely in the future as it was in the past is a good starting point, but not the end point. Adjust this base rate with the information you have at the moment.</li>
</ol>
<h3 id="2-Don’t-make-extreme-forecasts"><a href="#2-Don’t-make-extreme-forecasts" class="headerlink" title="2. Don’t make extreme forecasts."></a>2. Don’t make extreme forecasts.</h3><p>Predicting the next financial crisis will make you famous if you do it at the right time. It will cost you money and reputation at all others. Remember that there are only two kinds of forecasts: Lucky and wrong.</p>
<h3 id="3-Reversion-to-the-mean-is-a-powerful-force"><a href="#3-Reversion-to-the-mean-is-a-powerful-force" class="headerlink" title="3. Reversion to the mean is a powerful force."></a><strong>3. Reversion to the mean is a powerful force.</strong></h3><p>In economics as well as politics, extremes cannot survive for long. People trend toward average, and competitive forces in business lead to mean reversion.</p>
<h3 id="4-We-are-creatures-of-habit"><a href="#4-We-are-creatures-of-habit" class="headerlink" title="4. We are creatures of habit."></a>4. We are creatures of habit.</h3><p>If something has worked in the past, people will keep doing it almost forever. This introduces long-lasting trends. Don’t expect them to change quickly even with mean reversion. It is incredible how long a broken system can survive. Just think of Japan.</p>
<h3 id="5-We-rarely-fall-off-a-cliff"><a href="#5-We-rarely-fall-off-a-cliff" class="headerlink" title="5. We rarely fall off a cliff."></a>5. We rarely fall off a cliff.</h3><p>People often change their habits in the face of a looming catastrophe. But for that behavioral change to occur, the catastrophe must be salient, the outcome certain, and the solution simple.</p>
<h3 id="6-A-full-stomach-does-not-riot"><a href="#6-A-full-stomach-does-not-riot" class="headerlink" title="6. A full stomach does not riot."></a>6. A full stomach does not riot.</h3><p>Revolutions and uprisings rarely occur among people who are well fed and feel relatively safe. A lack of personal freedom is not enough to spark insurrections, but a lack of food or water or widespread injustice all are. The Tiananmen Square protests in China were triggered by higher food prices. So too was the Arab Spring.</p>
<h3 id="7-The-first-goal-of-political-and-business-leaders-is-to-stay-in-power"><a href="#7-The-first-goal-of-political-and-business-leaders-is-to-stay-in-power" class="headerlink" title="7. The first goal of political and business leaders is to stay in power."></a>7. The first goal of political and business leaders is to stay in power.</h3><p>Viewed through that lens, many actions can easily be predicted.</p>
<h3 id="8-The-second-goal-of-political-and-business-leaders-is-to-get-rich"><a href="#8-The-second-goal-of-political-and-business-leaders-is-to-get-rich" class="headerlink" title="8. The second goal of political and business leaders is to get rich."></a>8. The second goal of political and business leaders is to get rich.</h3><p>Combined with the previous rule, this explains about 90% of all behavior.</p>
<h3 id="9-Remember-Occam’s-razor"><a href="#9-Remember-Occam’s-razor" class="headerlink" title="9. Remember Occam’s razor."></a>9. Remember Occam’s razor.</h3><p>The simplest explanation is the most likely to be correct. Ignore conspiracy theories.</p>
<h3 id="10-Don’t-follow-rules-blindly"><a href="#10-Don’t-follow-rules-blindly" class="headerlink" title="10. Don’t follow rules blindly."></a>10. Don’t follow rules blindly.</h3><p>This applies to these rules as well as all others.</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Thoughts/" rel="tag">Thoughts</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-翻译翻译什么是后浪"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/25/%E7%BF%BB%E8%AF%91%E7%BF%BB%E8%AF%91%E4%BB%80%E4%B9%88%E6%98%AF%E5%90%8E%E6%B5%AA/"
    >翻译翻译什么是后浪</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/05/25/%E7%BF%BB%E8%AF%91%E7%BF%BB%E8%AF%91%E4%BB%80%E4%B9%88%E6%98%AF%E5%90%8E%E6%B5%AA/" class="article-date">
  <time datetime="2020-05-25T17:03:03.000Z" itemprop="datePublished">2020-05-25</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>张麻子：“师爷，您给翻译翻译，什么叫后浪，翻译翻译，什么，叫后浪”</p>
<p>汤师爷：“这还用翻译，年轻人嘛，新一代，都说了……”</p>
<p>张麻子：“我让你翻译给我听，什么叫后浪！”</p>
<p>汤师爷：：“不用翻译，就是后浪啊，热爱生活嘛……”</p>
<p>黄老爷：“难道你听不懂什么叫后浪？”</p>
<p>张麻子：“我就想让你翻译翻译，什么，叫后浪！！！”</p>
<p>汤师爷：“后浪嘛！”</p>
<p>张麻子：“翻译出来给我听，什么他妈的叫后浪！什么他妈的叫他妈的后浪！”</p>
<p>汤师爷：“什么他妈的叫后浪啊？”</p>
<p>黄老爷：“后浪就是新一代青年，可以选择玩单反，开跑车，玩跳伞，在欧洲旅游拍vlog，明白了吗？”</p>
<p>汤师爷：“这就是后浪呀！”</p>
<p>张麻子：“翻译翻译”</p>
<p>汤师爷，黄老爷：“…..？？？”</p>
<p>张麻子：“翻译翻译！”</p>
<p>汤师爷：“后浪，就是前浪的儿子和女儿！”</p>
<p>张麻子：“噢，大哥这他妈是后浪啊。”</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Chinese/" rel="tag">Chinese</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-为什么铺天盖地python广告"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/24/%E4%B8%BA%E4%BB%80%E4%B9%88%E9%93%BA%E5%A4%A9%E7%9B%96%E5%9C%B0python%E5%B9%BF%E5%91%8A/"
    >为什么铺天盖地python广告</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/05/24/%E4%B8%BA%E4%BB%80%E4%B9%88%E9%93%BA%E5%A4%A9%E7%9B%96%E5%9C%B0python%E5%B9%BF%E5%91%8A/" class="article-date">
  <time datetime="2020-05-24T05:06:06.000Z" itemprop="datePublished">2020-05-24</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>面试官问我：“看你简历之前，先问你一个问题，全民学Python编程可行么？”</p>
<p>我冷笑。</p>
<p>我知道他想要我回答“可以”，实际上可以个屁，如果不是因为吃青菜面的时候没钱加鸡蛋，我可能立刻拍桌子告诉他：全民学office可行吗？全民健身可行吗？全民学英语可行吗？什么全民全民全民，说出来不就是想跨界割韭菜，前端时间还全民学空气币！学抖音！一群镰刀渣！</p>
<p>但我想吃煎蛋了。楼下餐馆的小姐姐虽然不够好看，也不够温柔，煎蛋的油可能太油，我还是想吃煎蛋。</p>
<p>但是如果我没有这份工作，我可能连青菜面都吃不上了。</p>
<p>所以我立刻转成了高冷笑，然后转成了高深莫测笑，呡了口白开水，我淡定的说：“当然可以”。</p>
<p>“Python太适合大家来学习了！小朋友可以学，什么scratch，拖拽图形，不专业，低级！满足不了有钱人的父母的需要，拉不开差距！要钱投资在孩子身上是为了干嘛，当然就是要拉开差距，家庭月收入10万和家庭月收入5000的人，在一个教室里同样的老师学同样难度的scratch？怎么拉开差距？必须要学高大上的Python！你要说Python怎么高大上了？现在最火的人工智能知道么，全是Python写的！会Python，你就已经打开了人工智能之路，年薪200万！值不值？你要跟他讲，先学语文再拿诺贝尔文学奖，没人信。你要说先学会打字，再哪诺贝尔文学奖，他就信了！什么数学，算法都让一边去，得Python者得天下！你看，小孩子的群体有了吧？高考都考Python呢！”</p>
<p>“大学生呢？大学生计算机系的要不要学？要不要学？要不要学？学c？学JAVA？学PHP？学js？学oc？low！学c的饿死了，学JAVA的竞争激烈，学PHP的没人要，学js的没技术含量！而且，Python简单，强大，人人学得会！你看，隔壁7岁小朋友都在学Python！而且入门月薪就过万，你说招聘岗位上没有Python的职位？你看这不有十几家公司找Python的么？说明你先人一步，难道等烂大街的时候再学？你看那家叫什么修真院的公司没？说学JAVA找到工作要900小时的编程时间，900小时，你有那么多时间没？Python不一样，每周两个小时听听课，2个月就能找工作了！你看，爬虫10分钟教程，简单吧？5分钟搭个web网站，简单吧？效率就是价值，这就是Python值钱的原因！”</p>
<p>“你说你不是科班生？你是土木机械电子的？那更要学Python了！计科专业都去做JAVA和c了，你当然学Python了，不然你也学不会别的啊。osi七层模型你不懂吧？数据结构你不懂吧？编译原理你不懂吧？不懂就对了，人家学四年，你现在学四个月，人生苦短，我学Python，你看，3分钟，就能解析一个文本了，快不快？连IDE都不用，直接Vim上！酷炫！”</p>
<p>“你说你不想做研发，你是一个产品运营？那必须学Python啊，运营是不是要数据分析？你看这个，拿Excel表格分析数据的十年运营，薪水1万5，你看这个，用Python分析数据的半年运营，薪水2万8！还是因为老板天天请他吃烧烤留下来的，你看螃蟹都想从9.9爬到19.9的篮子里，人难道不想有上进薪么？”</p>
<p>“你说你压根不是互联网行业的？哎呦喂你幸好问到我了。现在万物联网，连潘石屹都在学Python，一个盖房子的搬砖之余都不忘融入互联网的潮流，这就是大势！你可以不当程序员，但是你不可以不懂编程！你娶不了苍老师，难道就不像苍老师学习了么。python是什么，是赋能工具，链接旧世界和互联网新世界的桥梁！而且，领导知道你会Python，肯定加薪，为嘛？爱学习！妹子知道你会Python，肯定崇拜你，为什么？会编程的人都好厉害！你是个妹子，更得会Python，为什么？会跳舞会唱歌的妹子多了去，有几个妹子会编程？酷！”</p>
<p>“你说你都退休了？年纪大了？那不更得学Python了？老两口在家寂寞吧？手机都用不利索，跟子孙拿来的共同语言？学Python多好，学会了谁还想带孙子玩呀！你看能抓全世界的图！教你爬虫，大爷你看，这是美国的，这是日本的，这是澳大利亚的，都会自动更新！学不学？难道去跳广场舞重新投入江湖争斗啊？算了吧，人心险恶，你学Python。”</p>
<p>“您看，什么人不需要学Python？”</p>
<p>面试官脸上露出了满意的笑容，说：“你被录用了，很适合做一个电话销售，底薪1500，其他靠提成。现在，告诉我你之前是做什么的？”</p>
<p>我很激动，紧紧握着面试官的手，说：“我学了2个月的Python，找了3年的工作。”</p>
<p>面试官也很激动地握着你的手:我招了这么久的Python程序员，终于招到一个靠谱的电话销售</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Chinese/" rel="tag">Chinese</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-在小破站学习"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/23/%E5%9C%A8%E5%B0%8F%E7%A0%B4%E7%AB%99%E5%AD%A6%E4%B9%A0/"
    >在小破站学习</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/05/23/%E5%9C%A8%E5%B0%8F%E7%A0%B4%E7%AB%99%E5%AD%A6%E4%B9%A0/" class="article-date">
  <time datetime="2020-05-23T16:55:57.000Z" itemprop="datePublished">2020-05-23</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>关键要看是真学，还是真娱乐。</p>
<p>拿经济学作例子。</p>
<p>B站林毅夫的视频差不多有五六十个小时的总量，温铁军已经过了两百个小时，甚至还有黄奇帆。这些人都是中国大量经济决策的参与者与主导者，听几十个小时，很多国内议题的大体逻辑就有了。</p>
<p>对本土流派不感兴趣的话，还有曼昆、萨缪尔森、弗里德曼、科斯等等，都是宗师级人物。就是不知道为什么我喜欢的斯蒂格利茨这么没牌面，B站没什么人上传。</p>
<p>如果说就是闲着听一耳朵，懒得去系统性学习，那也有很多顶级大学的入门课程。清华北大，耶鲁哈佛，这些大学在前几年的慕课浪潮中，生产了大量浅显又精准的入门课程，基本都有中文字幕，是爱好者的福音。</p>
<p>只要二十个小时，你就是哈佛云校友。</p>
<p>作为吹逼爱好者，我个人就很喜欢一边钢铁雄心太吾绘卷，一边开着CPA、CFA的课程做背景音。这几年下来，靠金融挣钱坚决不敢，靠金融吹逼样样都会，也算满足了一点虚荣心。</p>
<p>就算听不懂，一想到不少人要花好几万才能听这样的课，全神贯注发际线后退，而爷在打游戏，又多了一种白嫖的快感。</p>
<p>但这是真打算学的，至少学点。</p>
<p>不打算学的，骨子里奔着娱乐去的，那海了去了。这样的内容也挺多，为了避免私信被爆，咱还是不提名字了。</p>
<p>为什么说很多人骨子里是奔着娱乐呢？因为他们不是奔着知识，甚至不是奔着吹逼的知识。因为要吹逼你还是要形成基本的知识体系，基本概念不能跑太偏。</p>
<p>奔着娱乐，本质是无法接受自己的时间是无产出的，也恐惧无法参与到知识水平高的讨论中，但又无法形成基础的注意力和信息梳理能力。</p>
<p>学习是有一定门槛的，迈过去嫌累，待在门槛外又羡慕里面的热闹，所以就寄希望于找些方便的梯子。</p>
<p>要声明：没有看不起这些娱乐内容生产者的意思。</p>
<p>市场有需要，就一定会有人去生产这些内容。有人读经济学人也有人读太阳报，生态位摆在这里，买卖天经地义。</p>
<p>那些娱乐内容我也喜欢看，不过看的时候不是以学习者的身份，而是内容创作者的身份：</p>
<p>哇，这件事很普通，这哥们是怎么讲得云里雾里高深莫测的？哇，这件事很公开，这哥们是怎么讲得消息灵通无所不知的？</p>
<p>之前我吐槽某人洗稿，结果被他的粉丝摁在地上摩擦，说得最多的一句就是：</p>
<p>你行你上啊。</p>
<p>真不行，把一件长这样的事说成长那样，咱是真不行。</p>
<p>这二者没有高低之别，唯一要注意的，就是不要欺骗自己。明明花的时间是去娱乐，结果骗自己是去学习。</p>
<p>我天天和你们口嗨吹逼，但大家都知道彼此是键盘侠，不是国师。真扔个村给我管，我立马屁滚尿流另请高明吧我也不是谦虚。</p>
<p>自知之明嘛。只要学生不产生这种“啊我在学习啊”的幻觉，那都是好事。因为他们在娱乐之余，会开始认真去找找专业的内容，不说登堂入室，也能一窥门径。</p>
<p>怕就怕待在这幻觉里出不来的，那就真成韭菜了。放心我不会说你什么，韭菜也是个人选择。我顶多想法儿含泪把你转给我卖课的兄弟，至少咱们割韭菜割得轻点嘛。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Chinese/" rel="tag">Chinese</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-破产姐妹里的种族歧视"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/22/%E7%A0%B4%E4%BA%A7%E5%A7%90%E5%A6%B9%E9%87%8C%E7%9A%84%E7%A7%8D%E6%97%8F%E6%AD%A7%E8%A7%86/"
    >破产姐妹里的种族歧视</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/05/22/%E7%A0%B4%E4%BA%A7%E5%A7%90%E5%A6%B9%E9%87%8C%E7%9A%84%E7%A7%8D%E6%97%8F%E6%AD%A7%E8%A7%86/" class="article-date">
  <time datetime="2020-05-22T16:37:42.000Z" itemprop="datePublished">2020-05-22</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>很多人的核心观点是：这部剧本身就是把一群烂人聚在一起吐槽，既歧视东欧妓女，也歧视吸毒黑人，同时歧视滥交白妹，所以这部剧没有特别歧视Han，这就是一部以吐槽为主题的电视剧，你们这些玻璃心不懂。</p>
<p>以上关于其他种族角色的分析，毫无疑问是正确的，不论是卖淫、滥交、盗窃还是吸毒，在传统道德和价值观中都是污点，虽然剧中角色的污点设置大多来自与其所属种族的刻板印象，但这些角色本身确实都“做错了事”，都值得吐槽。</p>
<p>但问题在于，Han做错了什么？</p>
<p>这里请不要从剧中的个别情节来以点概面，试图证明Han本身也是有道德污点的，请抓住主要矛盾，也就是从角色的核心属性来看，Han做错了什么？他滥交？吸毒？偷窃？组织卖淫？不求上进？</p>
<p>答案是，他并没有做错什么，他就是一个辛勤工作、兢兢业业的小老板，他唯一做错的，就在于他长了个五短身材，所以他理应被嘲笑和歧视、被调侃其性器官，而他之所以是五短身材，只是因为这个角色的设定是亚裔男性。</p>
<p>明白了吗？其他人的错，在于他们的品德，而Han的错，在于他的身体。也就是说，假如其他角色洗心革面，那他们依然是好人、是有社会地位的人，而Han是不可能再长高了，所以他永远是个三寸丁，所以他理应永远被嘲笑和歧视、被调侃其性器官。</p>
<p>1963年，马丁路德金发表旷世演讲《我有一个梦想》，其中非常著名的一句话是：“我梦想有一天，我的四个孩子将在一个不是以他们的肤色，而是以他们的品格优劣来评判他们的国度里生活。”</p>
<p>编剧们会没有读过《我有一个梦想》？他们会不知道品德与肤色的关系？</p>
<p>这就是整部剧的腹黑之处，表面上看起来大家都很“平等”，都是用来被歧视的，但实际上歧视与歧视之间是不同的，一种是品德方面的歧视，另一种是基因方面的歧视，哪种歧视更严重就不用细说了吧，你能改变品德，但你能改变基因吗？</p>
<p>换句话说，这种歧视系统的潜台词就是：如果你不是亚裔男性，那你只要不自我堕落，你就是“正常的”；而如果你是亚裔男性，那不论你如何努力，你都是“不正常的”。</p>
<p>还不明白？翻译一下：其他各色人种，只要不自我堕落，就远比亚裔男性更强、更好、更高级。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Chinese/" rel="tag">Chinese</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-人生是一场接力赛"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/21/%E4%BA%BA%E7%94%9F%E6%98%AF%E4%B8%80%E5%9C%BA%E6%8E%A5%E5%8A%9B%E8%B5%9B/"
    >人生是一场接力赛</a> 
</h2>
 

    </header>
     
    <div class="article-meta">
      <a href="/2020/05/21/%E4%BA%BA%E7%94%9F%E6%98%AF%E4%B8%80%E5%9C%BA%E6%8E%A5%E5%8A%9B%E8%B5%9B/" class="article-date">
  <time datetime="2020-05-22T02:39:13.000Z" itemprop="datePublished">2020-05-21</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>这话没用。</p>
<p>有人发明了神学来证明自己血统的神圣，那些神圣的家族如今在哪里？他们的王国与权柄呢？那些虔诚的追随者呢？</p>
<p>人是根本的目的，将目的偏移了人的那一刻，手段就注定了失败。多少人尝试用立法来保护自己的财产，他们的财产如今在哪里？多少人想用理论建设来论证自身的合法性，那些理论又拯救了谁？</p>
<p>他们都是有罪的吗？肯定不是。翻几页史书就知道，有高尚的贵族，无私的资本家，博爱的奴隶主。有些原始积累，真的相当干净，当他们被送上断头台时，谁不感慨唏嘘。</p>
<p>但是历史就是这样，人的意志也是这样，就像一头视力鸟差的熊瞎子。一巴掌拍下来，只拍到一个群体，锋利的爪子没有闲情去分辨无辜的个人。</p>
<p>所以，当你明显感到不公平在加剧时，你当然可以为不公平去辩解。因为很多不公平，还真是合法合理的，我祖上，我祖上的祖上，有鼻有眼，有理有据。</p>
<p>但真是有理有据吗？在你祖上奋力奔跑时，起跑线是齐的吗？所有人都听到了发令枪枪响吗？大家的负重都一样吗？</p>
<p>你说不清现在积累的，多少是个人奋斗，多少是历史进程。那你就无法阻挡愤怒的盲目：你说不清，对方也没必要分清。</p>
<p>面对社会意志这个近乎混沌的系统，讲道理也要讲平衡，讲正义也要讲寡均。你煞费苦心抛出一条完美精细的证据链，可知刘项从来不读书？</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Chinese/" rel="tag">Chinese</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/7/">prev page</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/25/">25</a><a class="extend next" rel="next" href="/page/9/">next page</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2020-2021
        <i class="ri-heart-fill heart_icon"></i> Aaron
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></s>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="Blog"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">🏡</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">🏛</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">📚</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">🏷</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->


<script src="/js/clickBoom2.js"></script>


<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>


<!-- CanvasBackground -->


    
  </div>
</body>

</html>